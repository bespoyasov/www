<script context="module">
	import { locale } from '../lib/config';
	import { author } from '../lib/author';
	import { site } from '../lib/site';

	const t = {
		en: {
			title: 'Support author and subscribe to blog!',
			rss: 'Subscribe to RSS',
			twitter: 'Share post on Twitter',
			github: 'Star blog on GitHub',
			coffee: 'Buy a coffee'
		},
		ru: {
			title: '–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞',
			rss: '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ RSS',
			twitter: '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ',
			github: '–ó–≤–µ–∑–¥–∞–Ω—É—Ç—å –Ω–∞ –ì–∏—Ç—Ö–∞–±–µ',
			coffee: '–ó–∞–¥–æ–Ω–∞—Ç–∏—Ç—å –Ω–∞ –∫–æ—Ñ–µ'
		}
	}[locale];
</script>

<script>
	export let metadata;

	const text = encodeURIComponent(metadata.title);
	const url = `${site.url}/${metadata.slug}`;
	const shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
</script>

<aside class="share">
	<strong>{t.title}</strong>
	<menu>
		<a class="text" href="/rss">{t.rss}</a>
		<a class="text" href={shareUrl}>{t.twitter}</a>
		<a class="text" href={site.src}>{t.github}</a>
		<a class="text" href={author.support}>{t.coffee}</a>
	</menu>
</aside>

<style>
	.share {
		position: relative;
		margin-block: 2.5em;
		padding: 1em 1.5em;
		background-color: var(--color-support);
	}

	.share::after {
		content: 'üñ§';
		position: absolute;
		inset: 1em 1em auto auto;
	}

	.share menu {
		margin: 0;
		padding: 0;

		display: flex;
		flex-wrap: wrap;
		gap: 0 1em;
	}

	@media (min-width: 800px) {
		.share {
			inline-size: 75%;
			max-inline-size: 800px;
		}
	}
</style>
