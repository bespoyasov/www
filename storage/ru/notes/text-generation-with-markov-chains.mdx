---
title: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ü–µ–ø–µ–π –ú–∞—Ä–∫–æ–≤–∞
description: –ü–∏—à–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ¬´–ø–æ—á—Ç–∏-–Ω–∞—Å—Ç–æ—è—â–µ–≥–æ-–¥–∞–∂–µ-–≤—Ä–æ–¥–µ-–∑–≤—É—á–∏—Ç-–Ω–æ—Ä–º–∞–ª—å–Ω–æ¬ª —Ç–µ–∫—Å—Ç–∞ –Ω–∞ JavaScript –∏ Python.
datetime: 2021-11-29T12:00
slug: /blog/text-generation-with-markov-chains
cover: /images/content/text-generation-with-markov-chains/markov-sequence.png
tags:
  - dev
  - favorite
  - maths
  - text
---

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ü–µ–ø–µ–π –ú–∞—Ä–∫–æ–≤–∞

–û–¥–Ω–∞–∂–¥—ã –≤ –¢–≤–∏—Ç–µ—Ä–µ —è –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ –¥–∏—Å–∫—É—Å—Å–∏—é –æ —Ç–æ–º, –∫–∞–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å [–∫—Ä–∞—Å–∏–≤—ã–π —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π –ª–æ–≥–∏–Ω](https://twitter.com/govorov_n/status/1423684963841593350?s=21). –° —É–Ω–∏–≤–µ—Ä–∞ —è –ø–æ–º–Ω–∏–ª, —á—Ç–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª –≤ –æ—Ç–≤–µ—Ç –∏—Ö.

![–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Å–∏–≤—ã—Ö —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã—Ö –ª–æ–≥–∏–Ω–æ–≤? –ú–∞—Ä–∫–æ–≤—Å–∫–∏–µ —Ü–µ–ø–∏, –Ω–∞—Ç—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –∫–∞–∫–æ–π-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —è–∑—ã–∫ —Å —Ä–∞–Ω–¥–æ–º–Ω—ã–º –∏–Ω–ø—É—Ç–æ–º –∏–∑ –ø–µ—Ä–≤—ã—Ö –¥–≤—É—Ö-—Ç—Ä—ë—Ö —Å–∏–º–≤–æ–ª–æ–≤](/img/blog/markov-initial-tweet.png)

–ü—Ä–∞–≤–¥–∞, –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —è —Å —Ü–µ–ø—è–º–∏ –ú–∞—Ä–∫–æ–≤–∞ –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–ª. –ú–Ω–µ —Å—Ç–∞–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ö —Å –Ω—É–ª—è –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–æ–π –ø–æ–ª—É—á–∏—Ç—Å—è —Å –∏—Ö –ø–æ–º–æ—â—å—é —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç. –í —ç—Ç–æ–º –ø–æ—Å—Ç–µ –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –º–∞—Ä–∫–æ–≤—Å–∫–∏—Ö —Ü–µ–ø—è—Ö, —Å–∫–æ—Ä–º–∏–º –µ–º—É —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Ç–µ–∫—Å—Ç–æ–≤ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ —Ç–µ–∫—Å—Ç—ã –æ–Ω –Ω–∞–º –≤—ã–¥–∞—Å—Ç –∏ –±—É–¥–µ—Ç –ª–∏ —É—á–∏—Ç—ã–≤–∞—Ç—å ¬´–∞–≤—Ç–æ—Ä—Å–∫–∏–π —Å—Ç–∏–ª—å¬ª.

<aside>
  –ö—Ä–æ–º–µ —Ç–µ–∫—Å—Ç–∞ –º—ã –ø–æ–ø—Ä–æ–±—É–µ–º —ç—Ç–æ–π —à—Ç—É–∫–æ–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ—â—ë –∏ –∫–æ–¥. –ü–æ–ª—å–∑–∞ –æ—Ç —Ç–∞–∫–æ–≥–æ ¬´–∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞¬ª
  –±—É–¥–µ—Ç –Ω—É–ª–µ–≤–æ–π, –Ω–æ –º–Ω–µ –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –¥–∞–ª–∏ –¥–æ—Å—Ç—É–ø –∫ GitHub Copilot, –ø—É—Å—Ç—å –±—É–¥–µ—Ç —Ö–æ—Ç—å –∫–∞–∫–æ–π-—Ç–æ üòÉ
</aside>

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã –ø–æ–ª—É—á–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç—ã –Ω–∞–ø–æ–¥–æ–±–∏–µ –≤–æ—Ç —Ç–∞–∫–∏—Ö:

> –ù–µ–¥–∞–≤–Ω–æ —è —Å–æ–≤–µ—Ä—à–∏–ª –±–æ–ª—å—à—É—é –æ—à–∏–±–∫—É. –Ø –∫–∞–π—Ñ–∞–Ω—É–ª.

> –í—ã—É—á–∏ –°++, —á—Ç–æ–±—ã —Ä–∞–∑–≤–∏–¥–µ—Ç—å üòÉ

> –ü—Ä–æ–µ–∫—Ç –æ–±—ä—ë–º–Ω—ã–π, –Ω–∞–¥ –Ω–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–æ–≤. –ß—Ç–æ–±—ã –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ –Ω–µ –≤—ã—Ç–æ–ø—Ç–∞–ª–∏ –æ—Å—Ç–∞—Ç–∫–∏ –ª–µ—Å–∞, –∑–∞ –∑–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–µ–ª—å–∑—è. –û–Ω–∏ –∫–∞–∫ –±—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ú—ã –ø–∏—à–µ–º —Ç–∞–∫–∏–µ ¬´–ø–µ—Ä–µ—Ö–æ–¥–Ω–∏–∫–∏¬ª, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–ø–∞—Å–Ω–æ–µ –≤–æ–∂–¥–µ–Ω–∏–µ _–Ω–µ—É–¥–æ–±–Ω—ã–º_.

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–ø–∏—à–µ–º –Ω–∞ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö: JavaScript –∏ Python. –í—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –±–æ–ª—å—à–µ –ø–æ –¥—É—à–µ, –∏ —á–∏—Ç–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞ –Ω—ë–º.

<aside>

–ó–∞ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞ Python –±–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ [–ê–Ω—Ç–æ–Ω—É –ñ–∏—è–Ω–æ–≤—É](https://antonz.ru)! –û–Ω –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –∏ –ø–µ—Ä–µ–≤—ë–ª –º–æ–∏
–ø—Ä–∏–º–µ—Ä—ã —Å JavaScript –Ω–∞ Python üòä

</aside>

–°—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ —è –æ—Å—Ç–∞–≤–ª—é —Å—Ä–∞–∑—É —Ç—É—Ç:

- [–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ](https://bespoyasov.ru/showcase/text-generator/browser/)
- [–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ JavaScript](https://github.com/bespoyasov/text-generator)
- [–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ Python](https://github.com/nalgeon/text-generator)

...–ò —Ç–∞–∫–∂–µ –æ–Ω–∏ –±—É–¥—É—Ç –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å—Ç–∞. –ù—É –∞ —Å–µ–π—á–∞—Å –Ω–∞—á–Ω—ë–º –ø–∏–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–µ–ø—å –ú–∞—Ä–∫–æ–≤–∞

–ï—Å–ª–∏ –Ω–µ –≤–¥–∞–≤–∞—Ç—å—Å—è –≤ [–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ–Ω–∫–æ—Å—Ç–∏](https://en.wikipedia.org/wiki/Markov_chain), —Ç–æ —Ü–µ–ø—å –ú–∞—Ä–∫–æ–≤–∞ ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –∑–∞–≤–∏—Å–∏—Ç _—Ç–æ–ª—å–∫–æ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ_ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ —É —Ü–µ–ø–∏ ¬´–Ω–µ—Ç –ø–∞–º—è—Ç–∏¬ª. –û–Ω–∞ ¬´–Ω–µ –ø–æ–º–Ω–∏—Ç¬ª, —á—Ç–æ –±—ã–ª–æ –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –¥–∞–ª—å—à–µ.

![–ï—Å–ª–∏ —Ü–µ–ø—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ B, —Ç–æ —Ñ–∞–∫—Ç –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è C1 –∏–ª–∏ C2 –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç B –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç A –∏ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –¥–æ —ç—Ç–æ–≥–æ](/img/blog/markov-sequence.png)

–ò–º–µ–Ω–Ω–æ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–∞–º—è—Ç–∏ —Ü–µ–ø—å –ú–∞—Ä–∫–æ–≤–∞ –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –≤–µ—Ä–Ω–æ, –Ω–æ –ø–æ —Å–º—ã—Å–ª—É –ø–æ—á—Ç–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –¥—Ä—É–≥–∏–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∂—É—Ä–Ω–∞–ª–µ ¬´–ö–æ–¥¬ª –∞–≤—Ç–æ—Ä—ã [—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏](https://thecode.media/markovify/) —Ç–µ–∫—Å—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π –ß–µ—Ö–æ–≤–∞:

> ‚Äî –≠—Ç–æ –≤—Å–µ –ø—É—Å—Ç—è–∫–∏! ‚Äî –≥–æ–≤–æ—Ä–∏–ª –æ–Ω. ‚Äî –ö–æ–≥–¥–∞ –∂–µ –º–Ω–µ, –Ω–∞–∫–æ–Ω–µ—Ü, —Å–∫–∞–∑–∞—Ç—å! ‚Äî –≥–æ–≤–æ—Ä–∏–ª–∞ –ú–∞—à–∞ —Å –ø–∏—Å—å–º–∞–º–∏ –∏ –≤–∏–∑–∏—Ç–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –Ω–∞ –ø–æ–¥–Ω–æ—Å–µ.<br />
> –û—Å–º–æ—Ç—Ä–µ–≤ –±–æ–ª—å–Ω–∏—Ü—É, –ê–Ω–¥—Ä–µ–π –ï—Ñ–∏–º—ã—á –≤—Å—ë –ø–æ–Ω—è–ª.

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ü–µ–ø—è—Ö –ú–∞—Ä–∫–æ–≤–∞

–¶–µ–ø—å –ú–∞—Ä–∫–æ–≤–∞ ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π. –í –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ —Å–æ–±—ã—Ç–∏–µ–º –±—É–¥–µ—Ç –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ç–æ–∫–µ–Ω –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ ‚Äî —Å–ª–æ–≤–æ –∏–ª–∏ –∑–Ω–∞–∫ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º –≤ –≤–∏–¥–µ —Ü–µ–ø–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:

> have idea have ikea!

...–¢–æ –ø–æ–ª—É—á–∏–º –≤–æ—Ç —Ç–∞–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

```
START ‚Üí have ‚Üí idea ‚Üí have ‚Üí ikea ‚Üí ! ‚Üí END
```

–ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º –µ—â—ë –∏ _–∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è_, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–æ–µ–Ω–∏–∏ –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ—á–∫–∞ —á–∞—â–µ –≤—Å–µ–≥–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–æ–Ω–µ—Ü –æ–¥–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞—á–∞–ª–æ –¥—Ä—É–≥–æ–≥–æ. –ü–æ–∑–∂–µ –º—ã —É–≤–∏–¥–∏–º, –∫–∞–∫ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∞ –ø–æ–∫–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º –ø–æ–±–ª–∏–∂–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ü–µ–ø–∏.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–ø–∏ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ–±—ã—Ç–∏—è–º–∏

–í –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π:

```
START ‚Üí have ‚Üí idea ‚Üí have ‚Üí ikea ‚Üí ! ‚Üí END
```

...–ï—Å—Ç—å —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —á–∞—â–µ –¥—Ä—É–≥–∏—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–≤–æ ‚Äúhave‚Äù –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã, —Ç–æ–≥–¥–∞ –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–º—É —Ä–∞–∑—É.

–°–µ–π—á–∞—Å —ç—Ç–æ –Ω–µ –æ—Å–æ–±–æ –∑–∞–º–µ—Ç–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ü–µ–ø—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ –≤ –≤–∏–¥–µ —Ü–µ–ø–æ—á–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤. –ù–æ –º—ã –º–æ–∂–µ–º —è–≤–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ–±—ã—Ç–∏—è, –µ—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º —Ü–µ–ø—å –≤ –≤–∏–¥–µ [–≥—Ä–∞—Ñ–∞](<https://ru.wikipedia.org/wiki/–ì—Ä–∞—Ñ_(–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)>), –≤–µ—Ä—à–∏–Ω–∞–º–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥—É—Ç —Å–æ–±—ã—Ç–∏—è, –∞ —Ä—ë–±—Ä–∞–º–∏ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –Ω–∏–º–∏.

![–í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ–±—ã—Ç–∏—è–º–∏ –≤ —Ü–µ–ø–∏ –Ω–∞ –≥—Ä–∞—Ñ–µ, —Å—Ç–∞–ª –≤–∏–¥–µ–Ω —Ü–∏–∫–ª –º–µ–∂–¥—É ‚Äúhave‚Äù –∏ ‚Äúidea‚Äù](/img/blog/markov-chain-graph.png)

–ú—ã –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º, —á—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏–∑ ‚Äúhave‚Äù –≤ ‚Äúidea‚Äù –∏ ‚Äúikea‚Äù —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã. –¢–æ –µ—Å—Ç—å –≤ –ø–æ–ª–æ–≤–∏–Ω–µ —Å–ª—É—á–∞–µ–≤ –º—ã –±—É–¥–µ–º –ø–æ–ø–∞–¥–∞—Ç—å –≤ ‚Äúidea‚Äù, –≤ –¥—Ä—É–≥–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ ‚Äî –≤ ‚Äúikea‚Äù:

–ï—Å–ª–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç —Ä–∞–∑–Ω—ã–º–∏, —Ç–æ —Ü–µ–ø—å –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –∏–Ω–∞—á–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏–∑ ‚Äúhave‚Äù –≤ ‚Äúidea‚Äù –±—É–¥–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–µ, —Ç–æ —á–∞—â–µ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ç–∞–∫–∏–µ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω—ã–µ —Ü–µ–ø–∏:

```
START ‚Üí have ‚Üí idea ‚Üí have ‚Üí idea ‚Üí have ‚Üí idea ‚Üí have ‚Üí ikea ‚Üí ! ‚Üí END
```

–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞, –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ.

### –ú–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

–ì—Ä–∞—Ñ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —É–¥–æ–±–Ω–æ (–Ω—É... –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ üòÉ) —á–∏—Ç–∞—Ç—å –ª—é–¥—è–º, –Ω–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –Ω–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫–æ–µ-—Ç–æ –µ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. –¢–∞–∫–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å [–º–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤](https://habr.com/ru/post/510798/).

–û –Ω–µ–π —É–¥–æ–±–Ω–æ –¥—É–º–∞—Ç—å, –∫–∞–∫ –æ —Ç–∞–±–ª–∏—Ü–µ, –≥–¥–µ –≤ —Å—Ç—Ä–æ–∫–∞—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞ –≤ —Å—Ç–æ–ª–±—Ü–∞—Ö ‚Äî –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ. –ï—Å–ª–∏ –≤ —è—á–µ–π–∫–∞—Ö –æ—Ç–º–µ—á–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ, —Ç–æ –≥—Ä–∞—Ñ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞—à–µ–π —Ü–µ–ø–∏ –º—ã –º–æ–∂–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:

|       | START | have | idea | ikea | !   | END |
| ----- | ----- | ---- | ---- | ---- | --- | --- |
| START | 0     | 1    | 0    | 0    | 0   | 0   |
| have  | 0     | 0    | 0.5  | 0.5  | 0   | 0   |
| idea  | 0     | 1    | 0    | 0    | 0   | 0   |
| ikea  | 0     | 0    | 0    | 0    | 1   | 0   |
| !     | 0     | 0    | 0    | 0    | 0   | 1   |

–ó–¥–µ—Å—å —á–µ—Ä–µ–∑ 0 –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–ª—É—á–∞—é—Ç—Å—è, –∞ —á–µ—Ä–µ–∑ 1 ‚Äî –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª—É—á–∞—é—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ. –¢–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —É–∂–µ —É–¥–æ–±–Ω–µ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤, –Ω–æ –º—ã –º–æ–∂–µ–º –∑–∞–ø–∏—Å–∞—Ç—å —ç—Ç—É –º–∞—Ç—Ä–∏—Ü—É –µ—â—ë –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ.

–ë–æ–ª—å—à—É—é —á–∞—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∑–∞–Ω–∏–º–∞—é—Ç –Ω—É–ª–∏ ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã. –†–∞–∑ –æ–Ω–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ, –º—ã –º–æ–∂–µ–º –∏—Ö –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–æ 2 —Å—Ç–æ–ª–±—Ü–æ–≤:

| –°–æ–±—ã—Ç–∏–µ | –í–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è |
| ------- | ----------------------------- |
| START   | ‚Üí have                        |
| have    | ‚Üí idea, ‚Üí ikea                |
| idea    | ‚Üí have                        |
| ikea    | ‚Üí !                           |
| !       | ‚Üí END                         |

–¢–µ–ø–µ—Ä—å –º—ã —Ö—Ä–∞–Ω–∏–º –ª–∏—à—å –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞ –Ω–∏–º. –¢–∞–∫—É—é —Ç–∞–±–ª–∏—Ü—É –º—ã –º–æ–∂–µ–º –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –æ–±—ä–µ–∫—Ç, –≥–¥–µ –∫–ª—é—á–æ–º –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü (–∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ), –∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º ‚Äî –≤—Ç–æ—Ä–æ–π (—Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö):

![–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞](/img/blog/markov-tokens-relations.png)

–¢–∞–∫–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –º–∞—Ç—Ä–∏—Ü—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º—ã –∏ –±—É–¥–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–∞–ª–µ–µ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞.

### –°–æ–±—ã—Ç–∏—è –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤

–ú–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ —Ä–∞–±–æ—á–∞—è, –Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ _—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ_ —Ç–µ–∫—Å—Ç–∞ –µ—ë –±—É–¥–µ—Ç –º–∞–ª–æ–≤–∞—Ç–æ. –°–æ–±—ã—Ç–∏–µ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–≤–æ—ë–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏, –≤ –∫–∞–∫–æ–º –º–µ—Å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç —á–∞—â–µ –≤—ã–¥–∞–≤–∞—Ç—å –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: —Å–ª–æ–≤–∞ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–∫–ª–æ–Ω–µ–Ω–∏–µ–º, –¥–ª–∏–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–µ–¥–ª–æ–≥–æ–≤, –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —Ç.–¥.

–ù–∞–º —Ö–æ—á–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å –±–æ–ª—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø–æ—è–≤—è—Ç—Å—è –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º —Ç–µ–∫—Å—Ç–µ, –∞ –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è–º –Ω—É–∂–Ω–æ —Ö–æ—Ç—è –±—ã –ø—Ä–∏–º–µ—Ä–Ω–æ –∑–Ω–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ù–∞–º –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ ¬´–ø–æ–º–Ω–∏—Ç—å –≤—Å—ë¬ª, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ¬´–∑–Ω–∞—Ç—å¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Å—á–∏—Ç–∞—Ç—å –∫–ª—é—á–æ–º –Ω–µ –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω, –∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∫–ª—é—á–µ –≤ 2 —Ç–æ–∫–µ–Ω–∞, —Ü–µ–ø—å –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞–∑–æ–±—å—ë—Ç—Å—è –Ω–∞ —Ç–∞–∫—É—é –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:

| –ö–ª—é—á –≤ 2 —Ç–æ–∫–µ–Ω–∞ | –í–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è |
| --------------- | ----------------------------- |
| START ‚Üí have    | ‚Üí idea                        |
| have ‚Üí idea     | ‚Üí have                        |
| idea ‚Üí have     | ‚Üí ikea                        |
| have ‚Üí ikea     | ‚Üí !                           |
| ikea ‚Üí !        | ‚Üí END                         |
| ! ‚Üí END         |                               |

–ü—Ä–∏ –∫–ª—é—á–µ –≤ 3 —Ç–æ–∫–µ–Ω–∞:

| –ö–ª—é—á –≤ 3 —Ç–æ–∫–µ–Ω–∞     | –í–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è |
| ------------------- | ----------------------------- |
| START ‚Üí have ‚Üí idea | ‚Üí have                        |
| have ‚Üí idea ‚Üí have  | ‚Üí ikea                        |
| idea ‚Üí have ‚Üí ikea  | ‚Üí !                           |
| have ‚Üí ikea ‚Üí !     | ‚Üí END                         |
| ikea ‚Üí ! ‚Üí END      |                               |

...–ò —Ç–∞–∫ –¥–∞–ª–µ–µ. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç —Ç–µ–º–∏ –∂–µ, —Ç–æ–ª—å–∫–æ –º—ã –∑–∞—Ö–≤–∞—Ç–∏–º –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.

–£ –¥–ª–∏–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π _–º–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π_. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–∞–±–ª–∏—Ü–µ —É –Ω–∞—Å –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –Ω–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –∫—Ä–æ–º–µ –∫–∞–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ. –ù–æ –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –º–Ω–æ–≥–æ, —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–µ ¬´—Å–ª–æ–≤–∞–º–∏¬ª, –∞ —Ü–µ–ª—ã–º–∏ ¬´—Ñ—Ä–∞–∑–∞–º–∏¬ª. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –æ–Ω –±—É–¥–µ—Ç –∫–∞–∑–∞—Ç—å—Å—è –±–æ–ª–µ–µ –Ω–∞—Å—Ç–æ—è—â–∏–º.

### –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —Ü–µ–ø—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤. –î–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–∫—É–¥–∞-—Ç–æ —ç—Ç–∏ —Ç–æ–∫–µ–Ω—ã –¥–æ—Å—Ç–∞—Ç—å.

¬´–î–æ—Å—Ç–∞–≤–∞—Ç—å¬ª –º—ã –∏—Ö –±—É–¥–µ–º –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ ‚Äî _–∫–æ—Ä–ø—É—Å–∞_, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞. –≠—Ç–æ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –º—ã –±—É–¥–µ–º —Ç–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å ‚Äî —Ä–∞–∑–±–∏–≤–∞—Ç—å –Ω–∞ —Å–ª–æ–≤–∞, –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ –ø—Ä–æ–±–µ–ª—ã. –ò–∑ –Ω–∞–±–æ—Ä–∞ —ç—Ç–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ—Å—Ç–∞–≤–∏–º –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, —Å –∫–æ—Ç–æ—Ä–æ–π –∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä.

## –ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

–î–ª—è –Ω–∞—á–∞–ª–∞ –º—ã ¬´–∑–∞–±—É–¥–µ–º¬ª –æ –¥–ª–∏–Ω–Ω—ã—Ö –∫–ª—é—á–∞—Ö –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ —Ä–∞–±–æ—Ç–µ —Å –∫–ª—é—á–∞–º–∏ –≤ 1 —Ç–æ–∫–µ–Ω. –≠—Ç–æ –¥–∞—Å—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Ü–µ–ø–∏ –∏ –Ω–∞—É—á–∏—Ç—å—Å—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–µ —Ç–µ–∫—Å—Ç—ã. –ü–æ—Ç–æ–º –º—ã –æ–±–æ–±—â–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º –∏ —Å–º–æ–∂–µ–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

### –ü–∞—Ä—Å–∏–º –∏ —Ç–æ–∫–µ–Ω–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç

–í –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ—Ä–ø—É—Å–∞ –≤–æ–∑—å–º—ë–º –ø–µ—Ä–≤—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–±–∑–∞—Ü–µ–≤ ¬´–ú–∞—Å—Ç–µ—Ä–∞ –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç—ã¬ª –ë—É–ª–≥–∞–∫–æ–≤–∞. –†–∞–∑–æ–±—å—ë–º —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–∫–µ–Ω—ã, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å. –ü—Ä–∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞–º –≤–∞–∂–Ω–æ —É—á–µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—â–µ–π:

- —á—Ç–æ–±—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–≥ —Ä–∞–∑–±–∏–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ –∞–±–∑–∞—Ü—ã, –Ω–∞–º –Ω–∞–¥–æ –≤—ã–¥–µ–ª–∏—Ç—å _–ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫_ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã;
- –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è _–∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ –ø—Ä–æ–±–µ–ª—ã_, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º—ã —Ç–æ–∂–µ —Å–æ—Ö—Ä–∞–Ω–∏–º –∏ –≤—ã–¥–µ–ª–∏–º –≤ —Ç–æ–∫–µ–Ω—ã;
- –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å) —Ç–µ–∫—Å—Ç –º—ã –Ω–µ –±—É–¥–µ–º, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –Ω–µ –∑–∞–º–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è —Å –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏ –≤ –Ω–∞—á–∞–ª–∞—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –∏–º–µ–Ω–∞—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö; –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–ª–æ–≤ _–≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ_.

<aside>
  –°—á–∏—Ç–∞—Ç—å –ª–∏ –ø—Ä–æ–±–µ–ª—ã —Ç–æ–∫–µ–Ω–∞–º–∏ ‚Äî –≤–æ–ø—Ä–æ—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –Ø –ø—Ä–æ–±–æ–≤–∞–ª –∏—Å–∫–ª—é—á–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã –ø—Ä–∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ –∏
  –æ—Å–æ–±–æ–≥–æ –ø—Ä–æ—Ñ–∏—Ç–∞ –≤ —ç—Ç–æ–º –Ω–µ –∑–∞–º–µ—Ç–∏–ª, –∞ –≤–æ—Ç –∫–æ–¥ –∑–∞—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è —Å–ª–æ–∂–Ω–µ–µ. –ü–æ—ç—Ç–æ–º—É –¥–ª—è —Å—Ç–∞—Ç—å–∏ —è —Ä–µ—à–∏–ª
  –Ω–µ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—è—Ç—å –ø—Ä–∏–º–µ—Ä –∏ —Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–±–µ–ª—ã —Ç–∞–∫–∏–º–∏ –∂–µ —Ç–æ–∫–µ–Ω–∞–º–∏, –∫–∞–∫ —Å–ª–æ–≤–∞ –∏ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è.
</aside>

–î–µ—Ä–∂–∞ –≤—Å—ë —ç—Ç–æ –≤ —É–º–µ, –Ω–∞—á–Ω—ë–º –ø–∏—Å–∞—Ç—å —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä. –°–ø–µ—Ä–≤–∞ –∑–∞–º–µ–Ω–∏–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –Ω–∞ —á—Ç–æ-–Ω–∏–±—É–¥—å –¥—Ä—É–≥–æ–µ, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –æ—Ç–ª–∏—á–∞—Ç—å –ø–µ—Ä–µ–Ω–æ—Å—ã –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–±–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.

–Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é –∑–Ω–∞–∫ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ ¬´¬ß¬ª. –ú—ã —Å–º–æ–∂–µ–º –µ–≥–æ –±—ã—Å—Ç—Ä–æ –æ—Ç—ã—Å–∫–∞—Ç—å –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å. –ö —Ç–æ–º—É –∂–µ, –µ—Å–ª–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ —Ç–æ–∂–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—Å—è —Ç–∞–∫–æ–π –∑–Ω–∞–∫, –º—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ–º, –∑–∞–º–µ–Ω–∏–≤ –µ–≥–æ –Ω–∞ –Ω–æ–≤—ã–π –∞–±–∑–∞—Ü.

<Switch options={['js', 'py']} id="create-tokenizer">

```js
// tokenizer.js

const NEWLINE_PLACEHOLDER = "¬ß";
const newlinesRegex = /\n\s*/g;

export function tokenize(text) {
  return text.replaceAll(newlinesRegex, NEWLINE_PLACEHOLDER);
}
```

```py
# tokenizer.py

NEWLINE_PLACEHOLDER = "¬ß"
newlines_re = re.compile(r"\n\s*")

def tokenize(text):
    return newlines_re.sub(NEWLINE_PLACEHOLDER, text)
```

</Switch>

–ß—Ç–æ–±—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–∫–µ–Ω—ã —Å —É—á—ë—Ç–æ–º –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–≤, —Å–æ—Å—Ç–∞–≤–∏–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –ó–∞ –æ—Å–Ω–æ–≤—É –≤–æ–∑—å–º—ë–º [–≤–æ—Ç —ç—Ç—É —Ä–µ–≥—É–ª—è—Ä–∫—É](https://stackoverflow.com/questions/6162600/how-do-you-split-a-javascript-string-by-spaces-and-punctuation), –Ω–æ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–∏–º –µ—ë:

<Switch options={['js', 'py']} id="consider-punctuation">

```js
// tokenizer.js

const punctuation = `[](){}!?.,:;'"\/*&^%$_+-‚Äì‚Äî=<>@|~`.split("").join("\\");
const ellipsis = "\\.{3}";

const words = "[a-zA-Z–∞-—è–ê-–Ø—ë–Å]+";
const compounds = `${words}-${words}`;

const tokenizeRegex = new RegExp(`(${ellipsis}|${compounds}|${words}|[${punctuation}])`);

// ...
```

```py
# tokenizer.py

punctuation = "\\" + "\\".join(list("[](){}!?.,:;'\"\\/*&^%$_+-‚Äì‚Äî=<>@|~"))
ellipsis = "\\.{3}"

words = "[a-zA-Z–∞-—è–ê-–Ø—ë–Å]+"
compounds = f"{words}-{words}"

tokenize_re = re.compile(f"({ellipsis}|{compounds}|{words}|[{punctuation}])")

# ...
```

</Switch>

–ó–¥–µ—Å—å –º—ã —Å–ø–µ—Ä–≤–∞ —Å–æ–∑–¥–∞—ë–º ¬´–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª —Ä–µ–≥—É–ª—è—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Ä–∞–∑–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Ç–æ–∫–µ–Ω–æ–≤: –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é, —Å–ª–æ–∂–Ω—ã–µ —Å–ª–æ–≤–∞, –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞ –∏ —Ç.–¥. –ó–∞—Ç–µ–º –º—ã –æ–±—ä–µ–¥–∏–Ω—è–µ–º —ç—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ Capturing Group, –≥–¥–µ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –º—ã —Ö–æ—Ç–∏–º –Ω–∞–π—Ç–∏ –≤ —Ç–µ–∫—Å—Ç–µ.

–°—Ç—Ä–æ–∫—É —Å Capturing Group –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–∫ –∏—Å—Ö–æ–¥–Ω–∏–∫ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–∫–µ–Ω—ã.

<aside>

–ï—Å–ª–∏ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–∞ —Ä–µ–≥—É–ª—è—Ä–∫–∞, —Ç–æ —Å–æ–≤–µ—Ç—É—é –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—ë –≤
[regex101](https://regex101.com) ‚Äî –æ–Ω –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥—Ä—É–ø–ø—ã –∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ —Ç–µ–∫—Å—Ç–µ –ø–æ
—É–∫–∞–∑–∞–Ω–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º. –Ø –∏—Å–ø–æ–ª—å–∑—É—é –µ–≥–æ –≤–µ–∑–¥–µ, –≥–¥–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è üòÉ

</aside>

–ß—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Ç–æ–∫–µ–Ω—ã, –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –º–µ—Ç–æ–¥–æ–º `split()`:

<Switch options={['js', 'py']} id="tokenize-text">

```js
// tokenizer.js
// ...

export function tokenize(text) {
  return text.replaceAll(newlinesRegex, NEWLINE_PLACEHOLDER).split(tokenizeRegex);
}
```

```py
# tokenizer.py
# ...

def tokenize(text):
    paragraphed = newlines_re.sub(NEWLINE_PLACEHOLDER, text)
    return tokenize_re.split(paragraphed)
```

</Switch>

–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è `tokenize` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ç–æ–∫–µ–Ω–æ–≤, –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—Å—Ç–µ. –°—Ä–µ–¥–∏ –Ω–∏—Ö –º–æ–≥—É—Ç –±—É–¥—É—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è —Å—Ç–∞–≤—è—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–ª–æ–≤–∞, –±–µ–∑ –ø—Ä–æ–±–µ–ª–∞ –¥–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ—á–∫—É –∏ –∑–∞–ø—è—Ç—ã–µ –≤ —ç—Ç–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏:

```
[
  '¬ß',           '–û–¥–Ω–∞–∂–¥—ã',     ' ',
  '–≤–µ—Å–Ω–æ—é',      '',            ',',
  ' ',           '–≤',           ' ',
  '—á–∞—Å',         ' ',           '–Ω–µ–±—ã–≤–∞–ª–æ',
  ' ',           '–∂–∞—Ä–∫–æ–≥–æ',     ' ',
  '–∑–∞–∫–∞—Ç–∞',      '',            ',',
  ' ',           '–≤',           ' ',
  '–ú–æ—Å–∫–≤–µ',      '',            ',',
  ' ',           '–Ω–∞',          ' ',
  '–ü–∞—Ç—Ä–∏–∞—Ä—à–∏—Ö',  ' ',           '–ø—Ä—É–¥–∞—Ö',
  '',            ',',           ' ',
  '–ø–æ—è–≤–∏–ª–∏—Å—å',   ' ',           '–¥–≤–∞',
  ' ',           '–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞',  '',
  '.',           ...
]
```

–ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω—ã, –ø–æ—ç—Ç–æ–º—É –º—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º –∏—Ö. –í –∫–æ–¥ –Ω–∞ JS –¥–æ–±–∞–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é `exists`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `false` –µ—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç falsy-–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –≤—Ö–æ–¥:

<Switch options={['js', 'py']} id="check-for-falsy-values">

```js
// tokenizer.js
// ...

function exists(entity) {
  return !!entity;
}

// ...
```

```py
# generator.py
# ...

# –í–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è bool-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø—Ä—è–º–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `tokenize()`.
```

</Switch>

–û—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º –º–∞—Å—Å–∏–≤ —Ç–æ–∫–µ–Ω–æ–≤:

<Switch options={['js', 'py']} id="filter-out-empty-strings">

```js
// tokenizer.js
// ...

export function tokenize(text) {
  return text.replaceAll(newlinesRegex, NEWLINE_PLACEHOLDER).split(tokenizeRegex).filter(exists);
}
```

```py
# tokenizer.py
# ...

def tokenize(text):
    paragraphed = newlines_re.sub(NEWLINE_PLACEHOLDER, text)
    return [token for token in tokenize_re.split(paragraphed) if token]
```

</Switch>

### –ù–∞—Ä–µ–∑–∞–µ–º –∫–æ—Ä–ø—É—Å –Ω–∞ ¬´–æ–∫–Ω–∞¬ª

–ß—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –º—ã —Ä–∞–∑–¥–µ–ª–∏–º –≤–µ—Å—å –∫–æ—Ä–ø—É—Å –Ω–∞ –º–∞—Å—Å–∏–≤ ¬´–æ–∫–æ–Ω¬ª. –ü–æ–¥ _–æ–∫–Ω–æ–º_ –º—ã –±—É–¥–µ–º –ø–æ–Ω–∏–º–∞—Ç—å —Å–æ—á–µ—Ç–∞–Ω–∏–µ ¬´—Å–æ–±—ã—Ç–∏–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥¬ª –≤ –º–∞—Ç—Ä–∏—Ü–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º —Å–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å –∫–ª—é—á–æ–º –≤ –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω:

| –°–æ–±—ã—Ç–∏–µ | –ü–µ—Ä–µ—Ö–æ–¥        |
| ------- | -------------- |
| START   | ‚Üí have         |
| have    | ‚Üí idea, ‚Üí ikea |
| idea    | ‚Üí have         |
| ikea    | ‚Üí !            |
| !       | ‚Üí END          |

...–¢–æ –æ–∫–Ω–∞–º–∏ –±—É–¥—É—Ç –ø–∞—Ä—ã ‚ÄúSTART have‚Äù, ‚Äúhave idea‚Äù, ‚Äúhave ikea‚Äù, ‚Äúidea have‚Äù –∏ —Ç.–¥.

–í –º–∞—Ç—Ä–∏—Ü–µ —Å –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –æ–∫–Ω–∞ –±—É–¥—É—Ç –±–æ–ª—å—à–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —É –º–∞—Ç—Ä–∏—Ü—ã —Å –∫–ª—é—á–æ–º –≤ 2 —Ç–æ–∫–µ–Ω–∞:

| –ö–ª—é—á –≤ 2 —Ç–æ–∫–µ–Ω–∞ | –ü–µ—Ä–µ—Ö–æ–¥ |
| --------------- | ------- |
| START ‚Üí have    | ‚Üí idea  |
| have ‚Üí idea     | ‚Üí have  |
| idea ‚Üí have     | ‚Üí ikea  |
| have ‚Üí ikea     | ‚Üí !     |
| ikea ‚Üí !        | ‚Üí END   |
| ! ‚Üí END         |         |

...–û–∫–Ω–∞ –±—É–¥—É—Ç —Ä–∞–∑–º–µ—Ä–∞ 3: ‚ÄúSTART have idea‚Äù, ‚Äúhave idea have‚Äù, ‚Äúidea have ikea‚Äù –∏ —Ç.–¥.

–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –≤—Å–µ–≥–¥–∞ —Ä–∞–≤–µ–Ω —Å—É–º–º–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–ª—é—á–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ø–µ—Ä–µ—Ö–æ–¥–µ. –¢–∞–∫ –∫–∞–∫ –ø–µ—Ä–µ—Ö–æ–¥ —É –Ω–∞—Å –≤—Å–µ–≥–¥–∞ ‚Äî 1 —Ç–æ–∫–µ–Ω, —Ç–æ:

<mark>(–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞) = (–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫–ª—é—á–µ) + 1</mark>

–î–ª—è –Ω–∞–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω –¥–≤—É–º. –ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é `sliceCorpus`, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–¥–µ–ª–∏—Ç –º–∞—Å—Å–∏–≤ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —Ç–∞–∫–∏–µ ¬´–æ–∫–Ω–∞¬ª:

<Switch options={['js', 'py']} id="slice-corpus">

```js
// generator.js

function sliceCorpus(corpus) {
  const sampleSize = 2;

  return corpus
    .map((_, index) => corpus.slice(index, index + sampleSize))
    .filter((group) => group.length === sampleSize);
}
```

```py
# generator.py

def slice_corpus(corpus):
    sample_size = 2

    samples = (corpus[idx : idx + sample_size] for idx, _ in enumerate(corpus))
    return [s for s in samples if len(s) == sample_size]
```

</Switch>

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ—Ä–ø—É—Å –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤. –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–Ω–∞ –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤ —Ä–∞–∑–º–µ—Ä–∞ `sampleSize`. –í –ø–æ–¥–º–∞—Å—Å–∏–≤–∞—Ö –ø–µ—Ä–≤—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –±—É–¥—É—Ç –∫–ª—é—á–∏, –∞ –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ ‚Äî —Å–æ–±—ã—Ç–∏—è-–ø–µ—Ä–µ—Ö–æ–¥—ã:

```
[
  ['¬ß', '–û–¥–Ω–∞–∂–¥—ã'],     ['–û–¥–Ω–∞–∂–¥—ã', ' '],     [' ', '–≤–µ—Å–Ω–æ—é'],
  ['–≤–µ—Å–Ω–æ—é', ','],      [',', ' '],           [' ', '–≤'],
  ['–≤', ' '],           [' ', '—á–∞—Å'],         ['—á–∞—Å', ' '],
  [' ', '–Ω–µ–±—ã–≤–∞–ª–æ'],    ['–Ω–µ–±—ã–≤–∞–ª–æ', ' '],    [' ', '–∂–∞—Ä–∫–æ–≥–æ'],
  ['–∂–∞—Ä–∫–æ–≥–æ', ' '],     [' ', '–∑–∞–∫–∞—Ç–∞'],      ['–∑–∞–∫–∞—Ç–∞', ','],
  [',', ' '],           [' ', '–≤'],           ['–≤', ' '],
  [' ', '–ú–æ—Å–∫–≤–µ'],      ['–ú–æ—Å–∫–≤–µ', ','],      [',', ' '],
  [' ', '–Ω–∞'],          ['–Ω–∞', ' '],          [' ', '–ü–∞—Ç—Ä–∏–∞—Ä—à–∏—Ö'],
  ['–ü–∞—Ç—Ä–∏–∞—Ä—à–∏—Ö', ' '],  [' ', '–ø—Ä—É–¥–∞—Ö'],      ['–ø—Ä—É–¥–∞—Ö', ','],
  [',', ' '],           [' ', '–ø–æ—è–≤–∏–ª–∏—Å—å'],   ['–ø–æ—è–≤–∏–ª–∏—Å—å', ' '],
  [' ', '–¥–≤–∞'],         ['–¥–≤–∞', ' '],         [' ', '–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞'],
  ['–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞', '.'],  // ...
]

// ['¬ß',      '–û–¥–Ω–∞–∂–¥—ã'].length === 2
//   ‚Üë –ö–ª—é—á    ‚Üë –ü–µ—Ä–µ—Ö–æ–¥            ‚Üë –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞
```

–≠—Ç–∏ –Ω–∞—Ä–µ–∑–∞–Ω–Ω—ã–µ –æ–∫–Ω–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–ª–µ–µ, —á—Ç–æ–±—ã —Å–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.

### –°–æ—Å—Ç–∞–≤–ª—è–µ–º –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ –∫–æ–¥–µ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞, –≥–¥–µ –∫–ª—é—á–æ–º –±—É–¥–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ–±—ã—Ç–∏–µ, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π. –ú—ã —É–∂–µ –≤–∏–¥–µ–ª–∏ —Ç–∞–∫–æ–π –æ–±—ä–µ–∫—Ç —Ä–∞–Ω–µ–µ:

![–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞](/img/blog/markov-tokens-relations.png)

–ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Ç–∞–∫–æ–π –æ–±—ä–µ–∫—Ç, –ø—Ä–æ–±–µ–∂–∏–º—Å—è –ø–æ –≤—Å–µ–º –æ–∫–Ω–∞–º, –≤—ã–¥–µ–ª–∏–º –∫–ª—é—á–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ —Å–æ–±–µ—Ä—ë–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤—Å—Ç—Ä–µ—Ç–∏–≤—à–∏—Ö—Å—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:

<Switch options={['js', 'py']} id="collect-transitions">

```js
// generator.js

function collectTransitions(samples) {
  return samples.reduce((transitions, sample) => {
    // –†–∞–∑–±–∏–≤–∞–µ–º –æ–∫–Ω–æ –Ω–∞ —Ç–µ–∫—É—â–µ–µ —Å–æ–±—ã—Ç–∏–µ –∏ —Å–æ–±—ã—Ç–∏–µ-–ø–µ—Ä–µ—Ö–æ–¥:
    const [state, next] = sample;

    // –ï—Å–ª–∏ —É —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è –µ—â—ë –Ω–µ—Ç —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤,
    // —Å–æ–∑–¥–∞—ë–º –µ–≥–æ, –∞ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ-–ø–µ—Ä–µ—Ö–æ–¥:
    transitions[state] = transitions[state] ?? [];
    transitions[state].push(next);
    return transitions;
  }, {});
}
```

```py
# generator.py

def collect_transitions(samples):
    transitions = defaultdict(list)
    for sample in samples:
        # –†–∞–∑–±–∏–≤–∞–µ–º –æ–∫–Ω–æ –Ω–∞ —Ç–µ–∫—É—â–µ–µ —Å–æ–±—ã—Ç–∏–µ –∏ —Å–æ–±—ã—Ç–∏–µ-–ø–µ—Ä–µ—Ö–æ–¥:
        state, next_ = sample

        # –ï—Å–ª–∏ —É —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è –µ—â—ë –Ω–µ—Ç —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤,
        # —Å–æ–∑–¥–∞—ë–º –µ–≥–æ, –∞ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ-–ø–µ—Ä–µ—Ö–æ–¥:
        transitions[state].append(next_)
    return transitions
```

</Switch>

–í —Å–ø–∏—Å–∫–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–æ–≥—É—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è. –ß–µ–º —á–∞—â–µ —Ç–æ–∫–µ–Ω –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —ç—Ç–æ–º —Å–ø–∏—Å–∫–µ, —Ç–µ–º —á–∞—â–µ –æ–Ω –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

–ú—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –¥–µ–ª–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–µ —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã–º–∏, –∞ ¬´—Å –æ–≥–ª—è–¥–∫–æ–π –Ω–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫¬ª. –ß–µ–º —á–∞—â–µ –∞–≤—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –∫–∞–∫–æ–µ-—Ç–æ —Å–ª–æ–≤–æ, —Ç–µ–º —á–∞—â–µ –æ–Ω–æ –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ ‚Äî ¬´–ª–æ–≤–∏–º –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Å—Ç–∏–ª—å¬ª :‚Äì)

### –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–æ–≤–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ç–æ–∫–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ü–µ–ø–∏.

–§—É–Ω–∫—Ü–∏—è `predictNext` –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ü–µ–ø—å –∏ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. _–¶–µ–ø—å—é_ –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ —Ä–∞–Ω–µ–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤. –§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –±—Ä–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω, –∏—Å–∫–∞—Ç—å –ø–æ –Ω–µ–º—É –≤ –º–∞—Ç—Ä–∏—Ü–µ —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∞ –∑–∞—Ç–µ–º ‚Äî —Å–ª—É—á–∞–π–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö:

<Switch options={['js', 'py']} id="predict-next-token">

```js
// generator.js

function predictNext(chain, transitions) {
  const lastState = chain.at(-1);
  const nextWords = transitions[lastState] ?? [];
  return pickRandom(nextWords);
}
```

```py
# generator.py

def predict_next(chain, transitions):
    last_state = chain[-1]
    next_words = transitions[last_state]
    return random.choice(next_words) if next_words else ""
```

</Switch>

–í –∫–æ–¥–µ –Ω–∞ JavaScript –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –Ω–∞–ø–∏—à–µ–º –ø–∞—Ä—É —É—Ç–∏–ª–∏—Ç. –§—É–Ω–∫—Ü–∏—è `random` –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Ü–µ–ª–æ–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö, –∞ `pickRandom` –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º:

<Switch options={['js', 'py']} id="select-random-token">

```js
// generator.js

const random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
const pickRandom = (list) => list[random(0, list.length - 1)];
```

```py
# generator.py

# –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è,
# –ø–æ–ª—å–∑—É–µ–º—Å—è –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `random.choice()`.
```

</Switch>

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–¥–∞–≤ –µ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ü–µ–ø–∏ –º–∞—Å—Å–∏–≤ —Å —Å–∞–º—ã–º —á–∞—Å—Ç—ã–º —Å–∏–º–≤–æ–ª–æ–º –≤ —Ç–µ–∫—Å—Ç–µ ‚Äî –ø—Ä–æ–±–µ–ª–æ–º:

<Switch options={['js', 'py']} id="generate-next-token-after-space">

```js
// generator.js

const samples = sliceCorpus(tokenize(text));
const transitions = collectTransitions(samples);

predictNext([" "], transitions);
```

```py
# generator.py

samples = slice_corpus(tokenize(text));
transitions = collect_transitions(samples);

predict_next([" "], transitions)
```

</Switch>

–§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ —à–ª–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–±–µ–ª–∞:

![–ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Å–ª–æ–≤–∞](/img/blog/markov-predict-next.png)

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –≥–¥–µ-—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∞–º—É —Ü–µ–ø—å, –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ–Ω –¥–æ–±–∞–≤–ª—è–ª—Å—è –≤ —ç—Ç—É —Ü–µ–ø—å.

### –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ü–µ–ø–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Å–æ–±–æ–≥–æ —Ç–∏–ø–∞ ‚Äî _[–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Generator)_. –¢–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–º–µ—é—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–≤–æ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –∫ –Ω–∏–º –Ω–µ –æ–±—Ä–∞—Ç—è—Ç—Å—è —Å–Ω–æ–≤–∞.

–ú—ã –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–∂–µ–º –Ω–µ –∑–Ω–∞—Ç—å, —Ü–µ–ø—å –∫–∞–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∂–µ –±—É–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –Ω–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤, —É–≤–µ–ª–∏—á–∏–≤–∞—è —Ü–µ–ø—å. –°–∞–º—É —Ü–µ–ø—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤ [–∑–∞–º—ã–∫–∞–Ω–∏–∏](https://doka.guide/js/closures/#funkcii-vnutri-funkciy-i-zamykaniya) —Ñ—É–Ω–∫—Ü–∏–∏-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, —Ç–æ–≥–¥–∞ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

–°–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä `generateChain`. –í –∫–æ–¥–µ –Ω–∞ JavaScript –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∞—Å—Ç–µ—Ä–∏—Å–∫ –ø–æ—Å–ª–µ —Å–ª–æ–≤–∞ `function*` ‚Äî —ç—Ç–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞:

<Switch options={['js', 'py']} id="wrap-generator-in-generator">

```js
// generator.js

function* generateChain(startText, transitions) {
  const chain = createChain(startText, transitions);

  while (true) {
    const state = predictNext(chain, transitions);
    yield state;

    chain.push(state);
  }
}
```

```py
# generator.py
# –í Python –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π `yield`.

def generate_chain(start_text, transitions):
    chain = create_chain(start_text, transitions)

    while True:
        state = predict_next(chain, transitions)
        yield state

        chain.append(state)
```

</Switch>

–í —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º—ã —Å–æ–∑–¥–∞—ë–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è —Ü–µ–ø–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏—Ç–µ—Ä–∞—Ü–∏–∏. –í –∫–æ–Ω—Ü–µ –¥–æ–±–∞–≤–ª—è–µ–º —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤ —Ü–µ–ø—å, —á—Ç–æ–±—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ –±—ã–ª–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —É–∂–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–≥–æ.

–°–∞–º—É —Ü–µ–ø—å —Å–æ–∑–¥–∞—ë–º –¥–æ —Ü–∏–∫–ª–∞ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `createChain`. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç —Ü–µ–ø—å –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –µ–π —Ç–µ–∫—Å—Ç–∞. –ï—Å–ª–∏ –µ–π –Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–ª–∏, –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–∞–Ω–¥–æ–º–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–∑ –º–∞—Ç—Ä–∏—Ü—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–∞—á–∞–ª–æ–º —Ü–µ–ø–∏:

<Switch options={['js', 'py']} id="create-chain">

```js
// generator.js

function createChain(startText, transitions) {
  const head = startText ?? pickRandom(Object.keys(transitions));
  return tokenize(head);
}
```

```py
# generator.py

def create_chain(start_text, transitions):
    head = start_text or random.choice(list(transitions.keys()))
    return tokenize(head)
```

</Switch>

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ `generateChain` –º—ã –ø–æ–ª—É—á–∏–º –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –¥—ë—Ä–≥–∞—Ç—å –∑–∞ –º–µ—Ç–æ–¥ `next()` –∏ –ø–æ–ª—É—á–∞—Ç—å –Ω–æ–≤—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞:

<Switch options={['js', 'py']} id="call-next-on-generator">

```js
const startText = " ";
const transitions = collectTransitions(sliceCorpus(tokenize(text)));
const generator = generateChain(startText, transitions);

console.log(generator.next());
// { value: '–∏–Ω–æ–µ', done: false }
```

```py
start_text = " "
transitions = collect_transitions(slice_corpus(tokenize(text)))
generator = generate_chain(start_text, transitions)

print(next(generator))
# '–∏–Ω–æ–µ'
```

</Switch>

–ú—ã –º–æ–∂–µ–º –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ `next()` —Ä–∞–∑ –∑–∞ —Ä–∞–∑–æ–º, –∏ —Ü–µ–ø—å –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏, –∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω:

<Switch options={['js', 'py']} id="call-next-many-times">

```js
const generator = generateChain(startText, transitions);

console.log(generator.next().value);
console.log(generator.next().value);
console.log(generator.next().value);

// '–ø–ª–µ—á–∞—Ö'
// ' '
// '–ø—É—Å—Ç–∞'
```

```py
generator = generate_chain(start_text, transitions)

print(next(generator))
print(next(generator))
print(next(generator))

# '–ø–ª–µ—á–∞—Ö'
# ' '
# '–ø—É—Å—Ç–∞'
```

</Switch>

–î–∞–ª—å—à–µ –Ω–∞–ø–∏—à–µ–º –æ–±—ë—Ä—Ç–∫—É `generate`, –∫–æ—Ç–æ—Ä–∞—è —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª–∏–Ω—ã `wordsCount`. –§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

–í–Ω—É—Ç—Ä–∏ –æ–Ω–∞ –±—É–¥–µ—Ç —Ç–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç, —Ä–∞–∑–±–∏–≤–∞—Ç—å –µ–≥–æ –Ω–∞ –æ–∫–Ω–∞ –∏ —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ü–µ–ø–∏ –∏ –≤—ã–∑–æ–≤–µ—Ç –µ–≥–æ —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö. –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±—É–¥–µ–º –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º —Å–∫–ª–µ–∏–º —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `textify`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç:

<Switch options={['js', 'py']} id="create-public-api">

```js
// generator.js

export function generate({ source, start = null, wordsCount = 100 } = {}) {
  const corpus = tokenize(String(source));
  const samples = sliceCorpus(corpus);
  const transitions = collectTransitions(samples);

  const generator = generateChain(start, transitions);
  const generatedTokens = [];

  for (let i = 0; i < wordsCount; i++) {
    generatedTokens.push(generator.next().value);
  }

  return textify(generatedTokens);
}
```

```py
# generator.py

def generate(source, start = "", words_count = 100):
    corpus = tokenize(source)
    samples = slice_corpus(corpus)
    transitions = collect_transitions(samples)

    generator = generate_chain(start, transitions)
    generated_tokens = [next(generator) for _ in range(words_count)]

    return textify(generated_tokens)
```

</Switch>

–§—É–Ω–∫—Ü–∏—è `textify` –±—É–¥–µ—Ç —Å–∫–ª–µ–∏–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ —Å—Ç—Ä–æ–∫—É –∏ –∑–∞–º–µ–Ω—è—Ç—å –∑–Ω–∞–∫–∏ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫:

<Switch options={['js', 'py']} id="textify-results">

```js
// tokenizer.js

const PARAGRAPH_CHARACTER = "\n\n";

export function textify(tokens) {
  return tokens.join("").replaceAll(NEWLINE_PLACEHOLDER, PARAGRAPH_CHARACTER);
}
```

```py
# tokenizer.py

PARAGRAPH_CHARACTER = "\n\n"

def textify(tokens):
    return "".join(tokens).replace(NEWLINE_PLACEHOLDER, PARAGRAPH_CHARACTER)
```

</Switch>

–í—ã–∑—ã–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ –±—É–¥–µ–º —Ç–∞–∫:

<Switch options={['js', 'py']} id="call-main-function">

```js
generate({ source: text, wordsCount: 200 });
```

```py
generate(source=text, wordsCount=200)
```

</Switch>

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏–º –Ω–µ—á—Ç–æ —Ç–∏–ø–∞:

> –ù—É, –º–æ–ª–æ–¥–æ–π –ø—Ä—ã–≥–∞–ª–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞. –ü–æ–ø–∞–≤ –ø–æ–¥ ‚Äì –ª–∏—Ü–æ–º —á–∞—Å –ø—Ä–∏–∫–ª—é—á–∏–ª–∞—Å—å –∫—Ä–∞—Å–∫–∞–º–∏, –∏ –∫—É–¥–∞-—Ç–æ —É–≤–∏–¥–µ–ª, –æ–Ω –Ω–µ–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–º –ö–∏—Å–ª–æ–≤–æ–¥—Å–∫...¬ª –ò —ç—Ä—É–¥–∏—Ü–∏—é, –Ω–µ —Å–∫–≤–æ–∑—å —Å–æ–æ–±—â–∏–ª –∞–±—Ä–∏–∫–æ—Å–æ–≤–æ–π. ‚Äì –≥–ª–∞–≤–Ω–æ–µ –≤ –∏–∑ –ø—Ä–æ—á–∏–º, –ø–∏–¥–∂–∞—á–æ–∫...

–≠—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, —Å–æ–≤—Å–µ–º –Ω–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–µ–∫—Å—Ç üòÉ<br />
–ù–∞ —Ç–æ –µ—Å—Ç—å –¥–≤–µ –ø—Ä–∏—á–∏–Ω—ã:

- –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –º–∞–ª–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è;
- –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç, –≤–µ—Ä–æ—è—Ç–Ω–æ, –±—ã–ª —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π.

–ü–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±–µ –ø—Ä–æ–±–ª–µ–º—ã.

## –î–µ–ª–∞–µ–º —Ç–µ–∫—Å—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–µ–µ

–ß—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –±—ã–ª –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π, –º—ã —É–≤–µ–ª–∏—á–∏–º —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –∏ –ø–æ–¥–±–µ—Ä—ë–º –∫–æ—Ä–ø—É—Å –ø–æ–æ–±—ä—ë–º–Ω–µ–µ.

### –†–µ–∞–ª–∏–∑—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞

–í –Ω–∞–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –æ–∫–Ω–æ –≤ 2 —Ç–æ–∫–µ–Ω–∞: –ø–µ—Ä–≤—ã–π –±—ã–ª –∫–ª—é—á–æ–º, –≤—Ç–æ—Ä–æ–π ‚Äî —Å–æ–±—ã—Ç–∏–µ–º-–ø–µ—Ä–µ—Ö–æ–¥–æ–º. –í —ç—Ç–æ—Ç —Ä–∞–∑ –º—ã —Å–¥–µ–ª–∞–µ–º —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∞–º–∏ –º–æ–≥–ª–∏ —Ä–µ—à–∞—Ç—å, –∫–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä –∏–º –±–æ–ª—å—à–µ –ø–æ–¥–æ–π–¥—ë—Ç.

<aside>
  –ú—ã –Ω–µ –º–æ–∂–µ–º —Ç–æ—á–Ω–æ –ø—Ä–µ–¥—É–≥–∞–¥–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∫–æ—Ä–ø—É—Å–∞.
  –ï—Å–ª–∏ –∫–æ—Ä–ø—É—Å —Å–∫—É–¥–Ω—ã–π, –∞ –æ–∫–Ω–æ –±–æ–ª—å—à–æ–µ ‚Äî —Ç–æ —Ü–µ–ø—å –ø—Ä–æ—Å—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω—ë–º
  –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —Å–ª–æ–≤.
</aside>

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –æ–±–Ω–æ–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é `sliceCorpus`. –û–Ω–∞ —Ç–µ–ø–µ—Ä—å –Ω–∞—á–Ω—ë—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞, –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç:

<Switch options={['js', 'py']} id="add-sample-size-to-corpus-slicer">

```js
// generator.js

function sliceCorpus(corpus, sampleSize) {
  return corpus
    .map((_, index) => corpus.slice(index, index + sampleSize))
    .filter((group) => group.length === sampleSize);
}
```

```py
# generator.py

def slice_corpus(corpus, sample_size):
    samples = (corpus[idx : idx + sample_size] for idx, _ in enumerate(corpus))
    return [s for s in samples if len(s) == sample_size]
```

</Switch>

–°–ª–µ–¥—É—é—â–µ–π –æ–±–Ω–æ–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é `collectTransitions`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –í –Ω–µ–π –º—ã –æ–±–æ–±—â–∏–º –ø–æ–∏—Å–∫ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∫–ª—é—á–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞:

<Switch options={['js', 'py']} id="generalize-matrix-collector">

```js
// generator.js

function collectTransitions(samples) {
  return samples.reduce((transitions, sample) => {
    // –†–∞–∑–±–∏–≤–∞–µ–º –æ–∫–Ω–æ –Ω–∞ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∫–ª—é—á–∞ –∏ —Ç–æ–∫–µ–Ω-–ø–µ—Ä–µ—Ö–æ–¥.
    // –ü–µ—Ä–µ—Ö–æ–¥ ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω,
    // –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —ç—Ç–æ –±—É–¥—É—â–∏–π –∫–ª—é—á:
    const lastIndex = sample.length - 1;
    const lastToken = sample[lastIndex];
    const restTokens = sample.slice(0, lastIndex);

    // –ò–∑ –ø–µ—Ä–≤—ã—Ö (n - 1) —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–ª—é—á,
    // –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:
    const state = fromTokens(restTokens);
    const next = lastToken;

    // –î–∞–ª—å—à–µ ‚Äî –≤—Å—ë, –∫–∞–∫ –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑ :‚Äì)
    // –ò—â–µ–º —Å–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞—ë–º –µ–≥–æ, –µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏,
    // –¥–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω-–ø–µ—Ä–µ—Ö–æ–¥:
    transitions[state] = transitions[state] ?? [];
    transitions[state].push(next);
    return transitions;
  }, {});
}
```

```py
# generator.py

def collect_transitions(samples):
    transitions = defaultdict(list)
    for sample in samples:
        # –†–∞–∑–±–∏–≤–∞–µ–º –æ–∫–Ω–æ –Ω–∞ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∫–ª—é—á–∞ –∏ —Ç–æ–∫–µ–Ω-–ø–µ—Ä–µ—Ö–æ–¥.

        # –ò–∑ –ø–µ—Ä–≤—ã—Ö (n - 1) —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–ª—é—á,
        # –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:
        state = "".join(sample[0:-1])

        # –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω ‚Äî –ø–µ—Ä–µ—Ö–æ–¥:
        next_ = sample[-1]

        # –î–∞–ª—å—à–µ ‚Äî –≤—Å—ë, –∫–∞–∫ –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑ :‚Äì)
        # –ò—â–µ–º —Å–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞—ë–º –µ–≥–æ, –µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏,
        # –¥–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω-–ø–µ—Ä–µ—Ö–æ–¥:
        transitions[state].append(next_)
    return transitions
```

</Switch>

–§—É–Ω–∫—Ü–∏—è `fromTokens` –≤ –∫–æ–¥–µ –Ω–∞ JavaScript ¬´—Å–∫–ª–µ–∏–≤–∞–µ—Ç¬ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á:

```js
// generator.js

const escapeString = (token) => `_+${token}`;
const fromTokens = (tokens) => escapeString(tokens.join(""));
```

–§—É–Ω–∫—Ü–∏—è `escapeString` ‚Äî —ç—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞–∏–≤–Ω–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –û–Ω–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –≤ JS –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–æ –ø—Ä–æ–±–ª–µ–º —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –º—ã –Ω–µ –ø—ã—Ç–∞–ª–∏—Å—å –¥–æ—Å—Ç–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `transitions['constructor']` üòÉ

<aside>

–¢–∞–∫–∂–µ –≤ –∫–æ–¥–µ –Ω–∞ JavaScript –º—ã –Ω–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`Map`](https://learn.javascript.ru/map-set#map) –∏ –∫–ª—é—á-–º–∞—Å—Å–∏–≤, –ø–æ—Ç–æ–º—É
—á—Ç–æ `Map` —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∫–ª—é—á–∏ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
[SameValueZero](https://tc39.es/ecma262/#sec-samevaluezero). –í —Å–ª—É—á–∞–µ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å
–∑–Ω–∞—á–µ–Ω–∏–µ, –º—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞—Ç—å _—Ç–æ—Ç –∂–µ —Å–∞–º—ã–π_ –º–∞—Å—Å–∏–≤, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –∑–∞–ø–∏—Å–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ. –†–∞–∑–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã
‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–Ω—É—Ç—Ä–∏. –≠—Ç–æ –±—É–¥–µ—Ç –Ω–µ —Ç–∞–∫ —É–¥–æ–±–Ω–æ, –∫–∞–∫
–æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–ª—é—á—É.

</aside>

–î–∞–ª—å—à–µ –æ–±–Ω–æ–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é `predictNext`, —á—Ç–æ–±—ã –æ–Ω–∞ —É–º–µ–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –º–∞—Ç—Ä–∏—Ü—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –û–Ω–∞ —Ç–æ–∂–µ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç, –∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–≥–æ ¬´–æ—Ç—Ä–µ–∑–∞—Ç—å¬ª –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∫–ª—é—á:

<Switch options={['js', 'py']} id="generalize-predictor">

```js
// generator.js

function predictNext(chain, transitions, sampleSize) {
  const lastState = fromTokens(chain.slice(-(sampleSize - 1)));
  const nextWords = transitions[lastState] ?? [];
  return pickRandom(nextWords);
}
```

```py
# generator.py

def predict_next(chain, transitions, sample_size):
    last_state = "".join(chain[-(sample_size - 1) :])
    next_words = transitions[last_state]
    return random.choice(next_words) if next_words else ""
```

</Switch>

–¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–∏–º —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Å–∞–º–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö:

<Switch options={['js', 'py']} id="generalize-generator">

```js
// generator.js

function* generateChain(startText, transitions, sampleSize) {
  const chain = createChain(startText, transitions);

  while (true) {
    const state = predictNext(chain, transitions, sampleSize);
    yield state;

    if (state) chain.push(state);
  }
}
```

```py
# generator.py

def generate_chain(start_text, transitions, sample_size):
    chain = create_chain(start_text, transitions)

    while True:
        state = predict_next(chain, transitions, sample_size)
        yield state

        if state:
            chain.append(state)
```

</Switch>

–î–æ–±–∞–≤–∏–º —É—Å–ª–æ–≤–∏–µ, —á—Ç–æ –µ—Å–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –∫–∞–∫–æ–π-—Ç–æ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞—à–ª–æ—Å—å, —Ç–æ –º—ã —É–¥–∞–ª–∏–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–æ–∫–µ–Ω –∏–∑ —Ü–µ–ø–∏:

<Switch options={['js', 'py']} id="generalize-public-api">

```js
// generator.js

function* generateChain(startText, transitions, sampleSize) {
  const chain = createChain(startText, transitions);

  while (true) {
    const state = predictNext(chain, transitions, sampleSize);
    yield state;

    if (state) chain.push(state);
    else chain.pop();
  }
}
```

```py
# generator.py

def generate_chain(start_text, transitions, sample_size):
    chain = create_chain(start_text, transitions)

    while True:
        state = predict_next(chain, transitions, sample_size)
        yield state

        if state:
            chain.append(state)
        else:
            chain = chain[:-1]
```

</Switch>

–≠—Ç–æ –Ω—É–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö –æ–∫–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –Ω–∞–∫–∏–¥–∞—Ç—å —Ç–∞–∫–∏—Ö —Å–æ—á–µ—Ç–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Ç–µ–∫—Å—Ç–µ –Ω–µ –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å. –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –Ω–∞–º –Ω–∞–¥–æ –ª–∏–±–æ –∑–∞–∫–æ–Ω—á–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é, –ª–∏–±–æ ¬´–æ—Ç–∫–∞—Ç–∏—Ç—å¬ª —Ç–∞–∫–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç.

–ü–æ–ø—Ä–æ–±—É–µ–º —Ç–µ–ø–µ—Ä—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —Å —Ä–∞–∑–º–µ—Ä–æ–º –æ–∫–Ω–∞ 4:

> –ù–æ —ç—Ç–æ, —É–≤—ã, –±—ã–ª–æ, –∏ —Ç—É–ø–∞—è –∏–≥–ª–∞ –≤—ã—Å–∫–æ—á–∏–ª–∞ –∏–∑ —ç—Ç–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ –º–∞–π—Å–∫–æ–≥–æ –≤–µ—á–µ—Ä–∞. –ù–µ —Ç–æ–ª—å–∫–æ —É –±—É–¥–æ—á–∫–∏, –Ω–æ –≤ –µ–≥–æ –µ—â–µ –ø—Ä—ã–≥–∞–ª–∞ —Ç—Ä–µ–≤–æ–≥–∞, –∏ —Ñ–∏–∑–∏–æ–Ω–æ–º–∏—è, –ø—Ä–æ—à—É –∑–∞–º–µ—Ç–∏—Ç—å, –≥–ª—É–º–ª–∏–≤–∞—è. –ñ–∏–∑–Ω—å –ë–µ—Ä–ª–∏–æ–∑–∞ —Å–∫–ª–∞–¥—ã–≤–∞–ª–∞—Å—å —Ç–∞–∫, —á—Ç–æ –≤—Å–µ –∫ –≤–µ—á–µ—Ä—É, ‚Äì –æ—Ç–≤–µ—Ç–∏–ª–∞ –∂–µ–Ω—â–∏–Ω–∞ –≤ —á–µ—Ä–Ω—ã—Ö —Ç–∞–ø–æ—á–∫–∞—Ö. –ü–µ—Ä–≤—ã–π –±—ã–ª —á–µ–ª–æ–≤–µ–∫–æ–º –Ω–∞—á–∏—Ç–∞–Ω–Ω—ã–º –∏ –≤ –µ–≥–æ –Ω–∞–ø—É–≥–∞–ª–æ. –û–Ω –ø–æ–±–ª–µ–¥–Ω–µ–ª, –≤—ã—Ç–µ—Ä –ª–æ–± –ø–ª–∞—Ç–∫–æ–º, –ø–æ–¥—É–º–∞–ª: ¬´–ß—Ç–æ —ç—Ç–æ —Å–æ –º–Ω–æ–π?

–°—Ç–∞–ª–æ –ø–æ–ª—É—á—à–µ. –¶–µ–ø—å –Ω–∞—á–∞–ª–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª–µ–µ ¬´–æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ¬ª –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –∞ –µ—â—ë ‚Äî ¬´–≤—ã—É—á–∏–ª–∞¬ª –ø—Ä–∞–≤–∏–ª–∞ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏. –ö–∞–∫ –º–∏–Ω–∏–º—É–º –æ–Ω–∞ —Ç–µ–ø–µ—Ä—å –≤—ã–¥–µ–ª—è–µ—Ç –≤–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞ –∑–∞–ø—è—Ç—ã–º–∏ üòÉ

### –ü–æ–¥–±–∏—Ä–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã

–ö—Ä–æ–º–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ü–µ–ø–∏ –º—ã –º–æ–∂–µ–º —É–≤–µ–ª–∏—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ë—É–ª–≥–∞–∫–æ–≤–∞ ‚Äî —ç—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –Ω–æ –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å —á–µ–≥–æ-—Ç–æ –ø–æ–≤–µ—Å–µ–ª–µ–µ.

–í –æ–±—â–µ–º, —è —Ä–µ—à–∏–ª —Å–∫–æ—Ä–º–∏—Ç—å —Ü–µ–ø–∏ —Å–≤–æ–∏ —Ç–µ–∫—Å—Ç—ã –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, ~~—Å–º–æ–≥—É –ª–∏ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –ø–∏—Å–∞—Ç—å –≤ –±–ª–æ–≥ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ~~ —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è.

## –ö–æ—Ä–º–∏–º —Ü–µ–ø—å –Ω–æ–≤—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏

–î–ª—è —ç—Ç–æ–≥–æ –ø–æ—Å—Ç–∞ —è –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–æ—Ä–æ–≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤. –í –ø–µ—Ä–≤–æ–º —è —Å–æ–±—Ä–∞–ª –≤—Å–µ —Å–≤–æ–∏ —Ç–≤–∏—Ç—ã, –≤–æ –≤—Ç–æ—Ä–æ–º ‚Äî –≤—Å–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ –±–ª–æ–≥–∞, –∞ –≤ —Ç—Ä–µ—Ç—å–µ–º ‚Äî –∫–æ–¥ –∏–∑ –º–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ –ì–∏—Ç—Ö–∞–±–µ üòÖ

–î–∞–ª–µ–µ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫ –≤—ã —Ç–æ–∂–µ –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ —Å–æ —Å–≤–æ–∏–º–∏ —Ç–≤–∏—Ç–∞–º–∏ –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ç–≤–∏—Ç. –Ø —Ç–∞–∫–∂–µ —Å—Ä–∞–∑—É –æ—Å—Ç–∞–≤–ª—é [—Å—Å—ã–ª–∫—É –Ω–∞ –≥–æ—Ç–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä](https://bespoyasov.ru/showcase/text-generator/browser/) –ø—Ä—è–º–æ —Ç—É—Ç, –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –≤–∞–º –∑–∞—Ö–æ—á–µ—Ç—Å—è –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å –Ω–∏–º.

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–≤–∏—Ç—ã

–ß—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å –≤—Å–µ —Å–≤–æ–∏ —Ç–≤–∏—Ç—ã, —è —Å—Ö–æ–¥–∏–ª –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é [—Å—Ç—Ä–∞–Ω–∏—Ü—É, –≥–¥–µ –º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –∞—Ä—Ö–∏–≤](https://twitter.com/settings/download_your_data):

![–¢–≤–∏—Ç–µ—Ä—É –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∞—Ä—Ö–∏–≤](/img/blog/markov-twitter-request-data-archive.png)

–í –≥–æ—Ç–æ–≤–æ–º –∞—Ä—Ö–∏–≤–µ —è –Ω–∞—à—ë–ª —Ñ–∞–π–ª `data/tweet.js` –∏ –¥–æ—Å—Ç–∞–ª –∏–∑ –Ω–µ–≥–æ —Ç–µ–∫—Å—Ç—ã –≤—Å–µ—Ö —Å–≤–æ–∏—Ö —Ç–≤–∏—Ç–æ–≤. –Ø –Ω–∞–ø–∏—Å–∞–ª —Å–∫—Ä–∏–ø—Ç, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å —Å—Å—ã–ª–∫–∏, —Ä–µ—Ç–≤–∏—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç IFTTT. –£ –º–µ–Ω—è –ø–æ–ª—É—á–∏–ª–æ—Å—å –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ:

<Switch options={['js', 'py']} id="clean-twitter-archive">

```js
const onlyText = ({ tweet: { full_text } }) => full_text;
const onlyAuthored = ({ tweet: { full_text } }) =>
  !full_text.includes("RT @") && !full_text.includes("—Å –ø–æ–º–æ—â—å—é @YouTube");

const removeHandles = (text) => text.replaceAll(/@[a-zA-Z_]+/g, "");
const removeTwitterLinks = (text) => text.replaceAll(/https?:\/\/t\.co\/[0-9a-zA-Z]+/g, "");

const clean = tweets
  .filter(onlyAuthored)
  .map(onlyText)
  .map(removeHandles)
  .map(removeTwitterLinks)
  .map((s) => s.trim());
```

```py
remove_handles_re = re.compile(r"@[a-zA-Z_]+")
remove_twitter_links_re = re.compile(r"https?://t\.co/[0-9a-zA-Z]+")

def only_text(tweet):
    return tweet["tweet"]["full_text"]

def only_authored(tweet):
    full_text = only_text(tweet)
    return "RT @" not in full_text and "—Å –ø–æ–º–æ—â—å—é @YouTube" not in full_text

def remove_handles(text):
    return remove_handles_re.sub("", text)

def remove_twitter_links(text):
    return remove_twitter_links_re.sub("", text)

def clean(tweets):
    cleaned = filter(only_authored, tweets)
    cleaned = map(only_text, cleaned)
    cleaned = map(remove_handles, cleaned)
    cleaned = map(remove_twitter_links, cleaned)
    cleaned = map(lambda s: s.strip(), cleaned)
    return list(cleaned)
```

</Switch>

<aside>
  –ù–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –∫ –º–æ–º–µ–Ω—Ç—É, –∫–æ–≥–¥–∞ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —ç—Ç—É —Å—Ç–∞—Ç—å—é, —Ñ–æ—Ä–º–∞—Ç –∞—Ä—Ö–∏–≤–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–µ–º –∂–µ. –≠—Ç–æ—Ç –∫–æ–¥
  –º–æ–∂–µ—Ç –∏ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å, —Å–æ—Ä—è–Ω ¬Ø\_(„ÉÑ)_/¬Ø
</aside>

–û–ø—ã—Ç–Ω—ã–º –ø—É—Ç—ë–º —è –≤—ã—è—Å–Ω–∏–ª, —á—Ç–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ¬´–º–æ–∏—Ö —Ç–≤–∏—Ç–æ–≤¬ª –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –æ–∫–Ω–æ –≤ 3‚Äì4 —Ç–æ–∫–µ–Ω–∞. –¢–æ–≥–¥–∞ —Ü–µ–ø—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–æ—Ç —Ç–∞–∫–∏–µ –≤–æ—Ç, –∫—Ö–º, –∏–∑—Ä–µ—á–µ–Ω–∏—è:

> –ù–µ–¥–∞–≤–Ω–æ —è —Å–æ–≤–µ—Ä—à–∏–ª –±–æ–ª—å—à—É—é –æ—à–∏–±–∫—É. –Ø –∫–∞–π—Ñ–∞–Ω—É–ª.

> –ü–æ–∫–∞ —è –∂–∏–≤—É –Ω–∞ –≤–∏–Ω–¥–µ‚Ä¶ –≠—Ç–æ –∫–∞–∫? –ö–∞–∫ —á–∏–Ω–∏—Ç—å?

> –¢–≤–æ–π —Å–ª—É—á–∞–π ‚Äî –æ–±—â–∏–π, –º–æ–π –ª—é–±–∏–º—ã–π, –∏–¥—ë–º ‚Äî –æ–±–Ω–∏–º—É.

> –í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç —ç—Ç–æ –¥–∞–∂–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–æ—Å—å –≤ –∏–≥—Ä—É: –æ–¥–µ–≤–∞—Ç—å—Å—è —Ç–∞–∫ —É–±–æ–≥–æ, —á—Ç–æ–±—ã –¥–µ–ø–ª–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ, –µ—Å–ª–∏ —á—Ç–æ. –£—á–∏–ª—Å—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –º—ã—Å–ª–∏ —Ç–æ—á–Ω–µ–µ, –ø—Ä–æ–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –∏—Ö —á—ë—Ç—á–µ.

> –ú—ç–Ω—Å–æ–Ω –≤ ¬´–¢–æ–Ω–∫–æ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ –ø–æ—Ñ–∏–≥–∏–∑–º–∞¬ª –ø–∏—Å–∞–ª, —á—Ç–æ –ø–µ—Ä–µ–¥–µ–ª–∞–ª —Å–≤–æ–π —Å–∞–π—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º.

–û–Ω–æ –¥–∞–∂–µ –∏–Ω–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–º–æ–¥–∂–∏ –∏ —Å–º–∞–π–ª–∏–∫–∏!

> –í—ã—É—á–∏ –°++, —á—Ç–æ–±—ã —Ä–∞–∑–≤–∏–¥–µ—Ç—å üòÉ

> ‚Äî –ò –≤–æ—Ç –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –¥–æ—à–ª–∏ —Ä—É–∫–∏, –∏ –∫—É–¥–∞ —É—à–ª–∏ –º–æ–∏ –¥–µ–Ω—å–≥–∏.<br />‚Äî –î–∞ —è –± –ø–æ—Å–º–æ—Ç—Ä–µ–ª. –£ –Ω–∞—Å –∫—É—á–∞ –æ–ø—ã—Ç–∞, ¬Ø\\\_(„ÉÑ)\_/¬Ø

> –î–∞! –ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ –≤ –≤–∞–≥–æ–Ω–µ –º–µ—Ç—Ä–æ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π! üôÇ

–¢–æ –∂–µ —Å–∞–º–æ–µ —è –ø—Ä–æ–¥–µ–ª–∞–ª –∏ —Å –º–æ–∏–º –∞–Ω–≥–ª–æ—è–∑—ã—á–Ω—ã–º —Ç–≤–∏—Ç–µ—Ä–æ–º. –¢—É–¥–∞ —è –ø–∏—à—É –ø–æ—Ä–µ–∂–µ, –ø–æ—ç—Ç–æ–º—É –∏ —É–ª–æ–≤ –Ω–µ —Ç–∞–∫–æ–π –±–æ–ª—å—à–æ–π:

> Hello world! Wish me luck üçÄ

> It has a post about the codebase. This will be my first place, we are skyrocketing!

> I prefer the Game of folder structure :‚Äì)

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç–∞—Ç—å–∏ –≤ –±–ª–æ–≥

–ü–æ—Å–ª–µ —Ç–≤–∏—Ç–µ—Ä–∞ —è —Ä–µ—à–∏–ª –Ω–∞—Ç—Ä–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —Ç–µ–∫—Å—Ç—ã –∏–∑ –±–ª–æ–≥–∞. –£ –º–µ–Ω—è –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏ –ª–µ–∂–∞—Ç [–Ω–∞ –ì–∏—Ç—Ö–∞–±–µ](https://github.com/bespoyasov/www) –≤ Markdown-—Ñ–∞–π–ª–∞—Ö, –ø–æ—ç—Ç–æ–º—É –±—ã–ª–æ –Ω–µ—Ç—Ä—É–¥–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –∏ —Å–ª–µ–ø–∏—Ç—å –∏—Ö –≤ –æ–¥–Ω—É –¥–ª–∏–Ω–Ω—É—é –ø—Ä–æ—Å—Ç—ã–Ω—é.

–û–ø—ã—Ç–Ω—ã–º, –æ–ø—è—Ç—å –∂–µ, –ø—É—Ç—ë–º —è –ø–æ–Ω—è–ª, —á—Ç–æ –¥–ª—è –º–æ–µ–≥–æ –±–ª–æ–≥–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É –Ω—É–∂–Ω–æ –æ–∫–Ω–æ –≤ 6‚Äì7 —Ç–æ–∫–µ–Ω–æ–≤, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ-–º–µ–Ω–µ–µ –≤–º–µ–Ω—è–µ–º–æ–µ.

–ó–∞–±–∞–≤–Ω–æ –±—ã–ª–æ –≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Ü–µ–ø—å –≤—ã–¥–∞—ë—Ç –∑–∞–º–µ—Ç–∫–∏ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏, —Ü–∏—Ç–∞—Ç–∞–º–∏ –∏ –¥–∞–∂–µ –∫—Ä–∏—á–∞–ª–∫–∞–º–∏ üòÉ

![–ü—Ä–∏–º–µ—Ä ¬´—Å—Ç–∞—Ç—å–∏¬ª, –≥–¥–µ –µ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Ä–æ–≤–Ω–µ–π, —Ü–∏—Ç–∞—Ç—ã –∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç](/img/blog/markov-article-example-1.png)

–ò–Ω–æ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É—Ö–æ–¥–∏—Ç –≤ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é:

![¬´–ó–∞–º–µ—Ç–∫–∞¬ª –æ–± –∏–ª–ª—é–∑–∏–∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏](/img/blog/markov-article-example-2.png)

–ò–Ω–æ–≥–¥–∞ ‚Äî –±—ã–≤–∞–µ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º:

![¬´–û–±—ä—è—Å–Ω—è–π—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö¬ª, –≥–æ–≤–æ—Ä–∏—Ç –Ω–∞–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä](/img/blog/markov-article-example-3.png)

–û–Ω —Ç–∞–∫–∂–µ –Ω–µ –ø—Ä–æ—á—å –ø–æ–±–æ–ª—Ç–∞—Ç—å –∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º:

![–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç –Ω–µ–º–Ω–æ–≥–æ —Ö—É–∂–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å—Ö–æ–¥–Ω–∏–∫ –Ω–µ —Ç–∞–∫–æ–π –±–æ–ª—å—à–æ–π](/img/blog/markov-article-example-4.png)

–î–æ [GPT-3](https://ru.wikipedia.org/wiki/GPT-3) (–∏–ª–∏ [GPT-4](https://towardsdatascience.com/gpt-4-will-have-100-trillion-parameters-500x-the-size-of-gpt-3-582b98d82253)) –∫–æ–Ω–µ—á–Ω–æ –¥–∞–ª–µ–∫–æ, –Ω–æ –≤ —Ü–µ–ª–æ–º, –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å —Ä—ã–±—ã –Ω–∞ —Å–∞–π—Ç ‚Äî –≤–ø–æ–ª–Ω–µ —Å–æ–π–¥—ë—Ç.

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥?

–ü–æ—Å–ª–µ —Ç–µ–∫—Å—Ç–∞ —è –ø–æ–¥—É–º–∞–ª, –∞ —á–µ–≥–æ –±—ã –Ω–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–π —Ñ–∏–≥–æ–≤–∏–Ω–æ–π –∫–æ–¥. –ú–Ω–µ –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Å–º–æ–∂–µ—Ç –æ–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ-—Ç–æ —Ö–æ—Ç—è –±—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ. –°–Ω–∞—á–∞–ª–∞ —è –ø–æ–¥—É–º–∞–ª, —á—Ç–æ —ç—Ç–æ –±–µ–∑–Ω–∞–¥—ë–∂–Ω–æ, –∫–æ–≥–¥–∞ —É–≤–∏–¥–µ–ª –≤–æ—Ç —ç—Ç–æ:

```ts
let currentTime + '-': false

this._fieldSize -= isFromRub ?? centralNodes => { createAgent(i, this.data,
scrollbar='button' ' '')

const renderBackBtn == useSelector(selectCourse);
}

onPointerDown(e)
// http:// closest => el } = lastPageX =>
```

–ù–æ –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –Ω–∞ –±–æÃÅ–ª—å—à–∏—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö –æ–∫–æ–Ω –æ–Ω–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è! –ù—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ–∫–Ω–µ —Ä–∞–∑–º–µ—Ä–∞ 6 –æ–Ω–æ –º–Ω–µ –≤—ã–¥–∞–ª–æ:

```tsx
import { defaultDatetime } from "./sortWith";

function comparableTagValue(tag: TagKind): FilterFunction<Metadata> {
  return (
    <Link href={slug}>
      <a className="text-color">{value}</a>
    </Link>
  );
}

export default class MyApp extends App<MyAppInitialProps> {
  appModel: Instance<typeof ThemeModel>;
}
```

–ï—Å–ª–∏ –Ω–µ –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ–æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ç–æ –∫–æ–¥ –≤–ø–æ–ª–Ω–µ —Å–µ–±–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º—ã–π (–Ω—É... –ø—Ä–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É—Å–∏–ª–∏—è—Ö). –ò–ª–∏ –≤–æ—Ç –ø—Ä–∏ –æ–∫–Ω–µ 7:

```ts
export type Alphabet = string;

export function correctTimeZoneDependentDates(
  state: StorableState,
  shift: TimeZoneShift,
): StorableState {
  const lastRecalcDateTime = getTodayStartTime();
  const callAdapters = useStateDependentAdapters();
  const since = budget.startDate;
  const daysPassed = daysBetween(getTodayStartTime(), lastRecalcDateTime);
  return daysPassed > 0;
}
```

–ù–∞—Ä—É—à–∏–ª–æ –ø—Ä–∞–≤–∏–ª–æ —Ö—É–∫–æ–≤! –ê–π-–∞–π-–∞–π!

–ü—Ä–∏ –æ–∫–Ω–µ 10 –æ–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±—ä—è–≤–ª—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã:

```ts
interface Settings {
  event: AnalyticsEventName;
  params?: AnalyticsEventParameters;
}

type Line = {
  start: Point;
  end: Point;
};

type ObsoleteHistory = List<ObsoleteRecord>;
type ActualHistory = HistoryLog;

function convertRecordKind(type: ObsoleteRecordKind): RecordEntryKind {
  switch (type) {
    case KeyboardSymbolKind.Number:
    case KeyboardSymbolKind.Comma:
      return shapeSymbol(type, ",");
  }
}
```

–Ø –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏ –æ–ø—É—Å–∫–∞—é –∫—É—á–∏ –∏–º–ø–æ—Ä—Ç–æ–≤. (–í–æ—Ç —á—Ç–æ-—á—Ç–æ, –∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—è–∫–æ–µ –±–µ–∑ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª—é–±–∏—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ.)

–ï—â—ë –ø—Ä–∏–º–µ—Ä:

```ts
export enum CompareResult {
  AThenB = -1,
  BThenA = 1,
  Equal = 0,
}

export type CompareFunction<TComparable> = (a: TComparable, b: TComparable) => CompareResult;

export function isEmpty<TCollection extends SomeCollection>(
  collection: TCollection,
): CollectionSize {
  if (!isCollection(collection)) throw new Error("Failed to sort by missing datetime field.");

  return Date.parse(datetime);
}
```

–ü—Ä–∏ –æ–∫–Ω–µ –≤ 15 —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª, –ø–æ—ç—Ç–æ–º—É –ø–æ–≤—ã—à–∞—Ç—å –æ–∫–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ.

–ü–æ –æ—â—É—â–µ–Ω–∏—è–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è –±—ã –æ–ø–∏—Å–∞–ª, –∫–∞–∫... –ù—É –≤–æ—Ç –≤–∏–¥–µ–ª–∏ —Ñ–∏–ª—å–º—ã, –≥–¥–µ —Ö–∞–∫–µ—Ä—ã —Ç–∞–∫–∏–µ —Å–∏–¥—è—Ç –∏ —à–ø–∞—Ä—è—Ç –∫–∞–∫–æ–π-—Ç–æ –∫–æ–¥? –í–æ—Ç –æ–Ω–æ, –∫–∞–∂–∏—Å—å, –∫–∞–∫ —Ä–∞–∑ –ø–æ–¥–æ–π–¥—ë—Ç –¥–ª—è —ç—Ç–∏—Ö —Ñ–∏–ª—å–º–æ–≤ üòÉ

## –ì–æ—Ç–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ü–æ–Ω—è—Ç–Ω–æ–µ –¥–µ–ª–æ, —á—Ç–æ –ø–∏—Å–∞—Ç—å —Ä—É–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —è –±—ã —ç—Ç–æ –Ω–µ —Å—Ç–∞–ª. –ï—Å—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –≤–æ—Ç –Ω–∞–≤—Å–∫–∏–¥–∫—É –ø–∞—Ä–æ—á–∫–∞ –¥–ª—è Python –∏ JavaScript:

- [markovify](https://github.com/jsvine/markovify)
- [js-markov](https://github.com/Edwin-Pratt/js-markov)

–ú–Ω–µ –∂–µ —Ö–æ—Ç–µ–ª–æ—Å—å ¬´–ø–æ—â—É–ø–∞—Ç—å¬ª —ç—Ç–æ —Ä—É–∫–∞–º–∏, —á—Ç–æ–±—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ú–æ—Ç–∏–≤–∞—Ü–∏—è –±—ã–ª–∞ —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –≤ [–ø–æ—Å—Ç–µ –æ –∫–æ–Ω–µ—á–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∞—Ö](/blog/fsm-to-the-rescue/), –≥–¥–µ —è –ø–∏—Å–∞–ª –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å –Ω—É–ª—è.

## –ì–¥–µ –µ—â—ë –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ü–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ ‚Äî —ç—Ç–æ –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–ø–µ–π –ú–∞—Ä–∫–æ–≤–∞. –ò—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ [–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤](https://en.wikipedia.org/wiki/Markov_chain#Applications):

- –≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ —Ä–µ—á–∏;
- –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–µ–∫—Ü–∏–π;
- —Ä–∞—Å—á—ë—Ç–∞—Ö –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –º–µ—Ö–∞–Ω–∏–∫–µ;
- –∏ –¥–∞–∂–µ —ç–∫–æ–Ω–æ–º–∏–∫–µ, –º—É–∑—ã–∫–µ –∏ –∏–≥—Ä–∞—Ö.

–ù–æ —Ç–∞–º, –∫–æ–Ω–µ—á–Ω–æ, –≤—Å—ë —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º —è –ø–æ–∫–∞–∑–∞–ª –≤ —ç—Ç–æ–º –ø–æ—Å—Ç–µ :‚Äì)

## –°—Å—ã–ª–∫–∏ –∏ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏

–ö–∞–∫ –æ–±—ã—á–Ω–æ, —è —Å–æ–±—Ä–∞–ª —Å–ø–∏—Å–æ–∫ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å—Ç–∞. –ö—Ä–æ–º–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –Ω–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö —è —Ç–∞–∫–∂–µ –æ—Å—Ç–∞–≤–∏–ª —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ –ì–∏—Ç—Ö–∞–±–µ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤ –¢–≤–∏—Ç–µ—Ä–µ, –≥–¥–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –∞—Ä—Ö–∏–≤ —Ç–≤–∏—Ç–æ–≤:

- [–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ](https://bespoyasov.ru/showcase/text-generator/browser/)
- [–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ JavaScript](https://github.com/bespoyasov/text-generator)
- [–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –Ω–∞ Python](https://github.com/nalgeon/text-generator)
- [–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∞—Ä—Ö–∏–≤ —Ç–≤–∏—Ç–æ–≤](https://twitter.com/settings/download_your_data)

### –¶–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞

- [–¶–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞ –Ω–∞ –í–∏–∫–∏–ø–µ–¥–∏–∏](https://en.wikipedia.org/wiki/Markov_chain)
- [–¶–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞ –Ω–∞ –ò–¢–ú–û](https://neerc.ifmo.ru/wiki/index.php?title=–ú–∞—Ä–∫–æ–≤—Å–∫–∞—è_—Ü–µ–ø—å)
- [–ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ü–µ–ø–µ–π –ú–∞—Ä–∫–æ–≤–∞](https://en.wikipedia.org/wiki/Markov_chain#Applications)
- [–°–ª—É—á–∞–π–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å](https://ru.wikipedia.org/wiki/–°–ª—É—á–∞–π–Ω—ã–π_–ø—Ä–æ—Ü–µ—Å—Å)
- [–ì—Ä–∞—Ñ, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞](<https://ru.wikipedia.org/wiki/–ì—Ä–∞—Ñ_(–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)>)

### –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞

- [RegEx101](https://regex101.com)
- [How do you split a javascript string by spaces and punctuation?](https://stackoverflow.com/questions/6162600/how-do-you-split-a-javascript-string-by-spaces-and-punctuation)
- [GPT-3](https://ru.wikipedia.org/wiki/GPT-3) –∏ [GPT-4](https://towardsdatascience.com/gpt-4-will-have-100-trillion-parameters-500x-the-size-of-gpt-3-582b98d82253)

### –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π —Å –Ω—É–ª—è

- [–ü–∏—à–µ–º –ß–µ—Ö–æ–≤–∞ –Ω–∞ —Ü–µ–ø—è—Ö –ú–∞—Ä–∫–æ–≤–∞](https://thecode.media/markovify/)
- [–°–æ–∑–¥–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ü–µ–ø–µ–π –ú–∞—Ä–∫–æ–≤–∞](https://tproger.ru/translations/markov-chains/)
- [–¶–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞ –∏ –ü–∞–π—Ç–æ–Ω ‚Äî —Ä–∞–∑–±–∏—Ä–∞–µ–º—Å—è –≤ —Ç–µ–æ—Ä–∏–∏ –∏ —Å–æ–±–∏—Ä–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–æ–≤](https://habr.com/ru/post/510798/)
- [–ö—Ä–∞—Ç–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ —Ü–µ–ø–∏ –ú–∞—Ä–∫–æ–≤–∞](https://habr.com/ru/post/455762/)

### –ì–æ—Ç–æ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- [–ù–∞ Python, markovify](https://github.com/jsvine/markovify)
- [–ù–∞ JavaScript, js-markov](https://github.com/Edwin-Pratt/js-markov)

### –®—Ç—É–∫–∏ –∏–∑ JavaScript –∏ –±–ª–æ–≥–∞

- [–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Generator) –∏ [—Ñ—É–Ω–∫—Ü–∏–∏-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction)
- [–û–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏](https://doka.guide/js/closures/)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω–µ—á–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–æ–≤](/blog/fsm-to-the-rescue/)
