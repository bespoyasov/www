---
title: –ß–∞—Å—Ç—å 8. –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Ñ–∏—á—É
description: –í –Ω–æ–≤–æ–º –ø–æ—Å—Ç–µ —Å–µ—Ä–∏–∏ –º—ã –¥–æ–±–∞–≤–∏–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–æ–≤—É—é —Ñ–∏—á—É, —Ä–µ–∞–ª–∏–∑—É–µ–º –µ—ë, –æ–±—Å—É–¥–∏–º, –∫–∞–∫ –¥–µ—Ä–∂–∞—Ç—å –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π, –∏ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –ø–æ–ª—å–∑–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–∞–π—Å–æ–≤.
datetime: 2023-06-19T18:00
slug: /blog/explicit-design-8
cover: /images/content/explicit-design-series/08-various-elaboration.png
tags:
  - architecture
  - communication
  - dev
  - opinion
  - patterns
  - react
  - refactoring
  - ts
---

# –ß–∞—Å—Ç—å 8. –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Ñ–∏—á—É

–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ—Å—Ç–∞—Ö –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ –æ–¥–Ω–æ–π —Ñ–∏—á–∏ ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç. –í —ç—Ç–æ–º –ø–æ—Å—Ç–µ –º—ã –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—É—é —Ñ–∏—á—É, —Ä–µ–∞–ª–∏–∑—É–µ–º –µ—ë (—á—É—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ, —á–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é üôÉ), –æ–±—Å—É–¥–∏–º, –∫–∞–∫ –¥–µ—Ä–∂–∞—Ç—å –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ, –∏ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –ø–æ–ª—å–∑–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–∞–π—Å–æ–≤.

## –û–ø–∏—Å—ã–≤–∞–µ–º –º–æ–¥–µ–ª—å

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –ø—Ä–æ–¥—É–∫—Ç-–æ—É–Ω–µ—Ä —Ö–æ—á–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏. –ú—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —ç—Ç–∞ —Ñ–∏—á–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –ø–æ—ç—Ç–æ–º—É —Ö–æ—Ç–∏–º –¥–æ–±–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤ –±—É–¥—É—â–µ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ —É–ª—É—á—à–∏—Ç—å.

–ß—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—É–≤–∞—Ç—å –ø–æ—Å—Ç, –º—ã –æ–ø–∏—à–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏. –¢–∞–∫–æ–π —é–∑–∫–µ–π—Å ‚Äî —ç—Ç–æ [CRUD](https://ru.wikipedia.org/wiki/CRUD) –æ–ø–µ—Ä–∞—Ü–∏—è, –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤ –Ω–µ–π –Ω–µ—Ç. –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–Ω–æ —Å–≤–µ—Å—Ç–∏ –∫ —Ç–∞–∫–æ–º—É –ø–æ—Ç–æ–∫—É –¥–∞–Ω–Ω—ã—Ö:

```
// –ü–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ—á–∫—É –∏–∑ UI,
// —Å–æ–∑–¥–∞—ë–º –∏–∑ –Ω–µ—ë –æ–±—ä–µ–∫—Ç –∑–∞–º–µ—Ç–∫–∏,
// –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –≤–∞–ª–∏–¥–Ω–∞,
// —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

FormSubmitEvent ->
  ContentString ->
  Note ->
  Persistence
```

–í—Ö–æ–¥–Ω—ã–º –ø–æ—Ä—Ç–æ–º –¥–ª—è —ç—Ç–æ–≥–æ —é–∑–∫–µ–π—Å–∞ –±—É–¥–µ—Ç —Ç–∏–ø `CreateNote`. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–º–µ—Ç–∫–∏) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:

```ts
// core/ports.input
type CreateNote = (content: string) => Promise<void>;
```

–í—ã—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç —É –Ω–∞—Å –±—É–¥–µ—Ç –ø–æ–∫–∞ –æ–¥–∏–Ω ‚Äî —Ç–∏–ø `PersistNote`. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–º–µ—Ç–∫–∏, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –∑–∞–º–µ—Ç–∫—É:

```ts
// core/ports.output
type PersistNote = (note: DraftNote) => Promise<SavedNote>;
```

–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–∫–∏ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 2 —Ç–∏–ø–æ–≤: —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –∑–∞–º–µ—Ç–∫–∏. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º [—é–Ω–∏–æ–Ω](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types), —á—Ç–æ–±—ã –≤ –±—É–¥—É—â–µ–º –±—ã–ª–æ [–ø—Ä–æ—â–µ —Ä–∞—Å—à–∏—Ä—è—Ç—å –º–æ–¥–µ–ª—å](/blog/domain-modelling-made-functional/) –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

```ts
// core/types

type Note = DraftNote | SavedNote;

type DraftNote = { content: LocalizedString };
type SavedNote = { content: LocalizedString; id: EntityId };
```

<SideNote>
  –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —é–Ω–∏–æ–Ω –≤–º–µ—Å—Ç–æ –±—É–ª–µ–≤—ã—Ö —Ñ–ª–∞–≥–æ–≤, —á—Ç–æ–±—ã –≤ –∫–æ–¥–µ [–º–æ–∂–Ω–æ –±—ã–ª–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å
  —ç–≤–æ–ª—é—Ü–∏—é](https://blog.ploeh.dk/2016/02/10/types-properties-software-designing-with-types/) –∏
  —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–º–æ–≥–∞—é—Ç
  [¬´–∑–∞–ø—Ä–µ—Ç–∏—Ç—å¬ª](https://khalilstemmler.com/articles/typescript-domain-driven-design/make-illegal-states-unrepresentable/)
  –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
</SideNote>

–£—á—Ç—ë–º —Ç–∞–∫–∂–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã, –ø–æ—ç—Ç–æ–º—É –º—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å –µ—ë [_–∞–≥—Ä–µ–≥–∞—Ç–æ–º_](https://martinfowler.com/bliki/DDD_Aggregate.html). –í –ø—Ä–æ—Å—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–∞ –∫–æ–¥–µ —ç—Ç–æ –Ω–µ –æ—Ç—Ä–∞–∑–∏—Ç—Å—è, –Ω–æ –≤ –±—É–¥—É—â–µ–º —ç—Ç–æ –º–æ–∂–µ—Ç –æ–±—É—Å–ª–æ–≤–∏—Ç—å –≤—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ–¥ –∑–∞–¥–∞—á—É.

## –†–µ–∞–ª–∏–∑—É–µ–º —é–∑–∫–µ–π—Å

–í —ç—Ç–æ—Ç —Ä–∞–∑ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —é–∑–∫–µ–π—Å–∞ –º—ã –Ω–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ¬´—è–≤–Ω—É—é –∫–æ–º–ø–æ–∑–∏—Ü–∏—é¬ª, –∞ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–æ–ø—Ä–æ–±—É–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:

```ts
// core/createNote
import type { CreateNote } from "../ports.input";
import { persistNote } from "../../infrastructure/persistence";

export const createNote: CreateNote = async (content: string) => {
  const draft = { content };
  await persistNote(draft);
};
```

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ, –º—ã –≤—Å—ë –µ—â—ë –º–æ–∂–µ–º –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ–±—ã —é–∑–∫–µ–π—Å –æ–ø–∏—Ä–∞–ª—Å—è –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –Ω–∞ _—Ç–∏–ø_, –∞ [–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é](https://en.wikipedia.org/wiki/Inversion_of_control):

```ts
// infrastructure/persistence
import type { PersistNote } from "../../core/ports.output";

// TODO: implement the port.
export const persistNote: PersistNote = async () => {};
```

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —é–∑–∫–µ–π—Å–∞ –º—ã —Å–º–æ–∂–µ–º –∑–∞–º–æ–∫–∞—Ç—å –º–æ–¥—É–ª—å `infrastructure/persistence` –∏ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `persistNote` –Ω–∞ —à–ø–∏–æ–Ω–∞.

### –°–µ—Ä–≤–∏—Å—ã –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –ø–æ—Ä—Ç—ã

–í –º–æ–¥—É–ª–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –º—ã —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `persistNote` –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç `PersistNote`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã —Å–ª–µ–¥–∏–º, —á—Ç–æ–±—ã _—Å–µ—Ä–≤–∏—Å—ã_ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–ª–∏—Å—å –ø–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∞ [–Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç](https://www.goodreads.com/book/show/18043011-clean-architecture). (–¢–∞–∫ –∫–∞–∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –≤ —ç—Ç–æ–π —Ñ–∏—á–µ –Ω–µ—è–≤–Ω–∞—è, –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ—à–∏–±–∫—É —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—â–µ, –º—ã –∂–µ —Ö–æ—Ç–∏–º –µ—ë –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å.)

–£–∫–∞–∑–∞–Ω–∏–µ —Ç–∏–ø–∞ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–ª—É–∂–∏—Ç [¬´–±—É—Ñ–µ—Ä–Ω–æ–π –∑–æ–Ω–æ–π¬ª](https://learn.microsoft.com/en-us/azure/architecture/patterns/anti-corruption-layer)¬†‚Äî –µ—Å–ª–∏ –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –ø–æ—Ä—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–∫–∞–∂–µ—Ç –æ–± —ç—Ç–æ–º –∏ –Ω–µ –¥–∞—Å—Ç —Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ —ç—Ç–æ–π –∂–µ –ø—Ä–∏—á–∏–Ω–µ –≤–Ω—É—Ç—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º—ã, –≤ —Ü–µ–ª–æ–º, –º–æ–∂–µ–º –ø—Ä–∏–≤—è–∑–∞—Ç—å—Å—è –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –Ω–∞–ø—Ä—è–º—É—é:

```ts
// infrastructure/persistence

import type { NoteCollection } from "../../core/types";
import type { PersistNote } from "../../core/ports.output";

import { nanoid } from "nanoid";
import { persist, retrieve } from "~/services/persistence";

export const persistNote: PersistNote = async (draft) => {
  // Imagine the ID is assigned
  // by the persistence service:
  const note = { ...draft, id: nanoid() };
  const notes = retrieve<NoteCollection>(persistenceKey) ?? [];

  persist(persistenceKey, [...notes, note]);
  return note;
};
```

¬´–û—Ç—Ü–µ–ø–∏—Ç—å¬ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –±—É–¥—É—â–µ–º –±—É–¥–µ—Ç –Ω–µ —Å–ª–æ–∂–Ω–æ –∫–∞–∫ —Ä–∞–∑ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–∏–ø—É –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### UI –∏ –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç

–ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞ –∂–µ —Å–∏—Ç—É–∞—Ü–∏—è –±—É–¥–µ—Ç —Å –≤—Ö–æ–¥–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Ç–∏–ø `CreateNote`, —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `createNote`:

```tsx
import { createNote } from "../../core/createNote";
import { useField } from "~/shared/ui/useField";
import { Input } from "~/shared/ui/Input";

export function NoteForm() {
  const [value, update, clear] = useField("");
  const onSubmit = useCallback(
    (e: FormEvent) => {
      e.preventDefault();
      createNote(value);
      clear();
    },
    [value],
  );

  return (
    <form onSubmit={onSubmit}>
      <label>
        <span>Make a note:</span>
        <Input type="text" value={value} onChange={update} />
      </label>
    </form>
  );
}
```

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è ¬´—Å–º–µ—à–∞–Ω–∞¬ª —Å –∫–æ–¥–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–æ –∏–¥–µ–π–Ω–æ –æ–Ω –≤—Å—ë –µ—â—ë ¬´–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é¬ª –∏ ¬´–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç—Ü–µ–ø–ª–µ–Ω¬ª –æ—Ç —è–¥—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### Cross-Cutting Concerns

–î–æ–ø—É—Å—Ç–∏–º, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑—ã –º—ã —Ö–æ—Ç–∏–º –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É. –û–ø–∏—Ä–∞—è—Å—å –Ω–∞ —Ç–∏–ø —é–∑–∫–µ–π—Å–∞, –º—ã –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å [–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä](https://refactoring.guru/ru/design-patterns/decorator), –∫–æ—Ç–æ—Ä—ã–π ¬´–Ω–∞–≤–µ—Å–∏—Ç¬ª –∞–Ω–∞–ª–∏—Ç–∏–∫—É –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–π, –Ω–µ –≤–º–µ—à–∏–≤–∞—è—Å—å –≤–Ω—É—Ç—Ä—å –∫–æ–¥–∞ —é–∑–∫–µ–π—Å–∞:

```ts
// infrastructure/analytics

import type { CreateNote } from "../../core/ports.input";
import { sendEvent } from "~/services/analytics";

export const withAnalytics =
  (fn: CreateNote): CreateNote =>
  async (content) => {
    sendEvent("NOTE_CREATED", `Content size of: ${content.length}`);
    return await fn(content);
  };
```

–¢–∞–∫ –∫–∞–∫ ¬´–∫–æ–º–ø–æ–∑–∏—Ü–∏—è¬ª —é–∑–∫–µ–π—Å–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ –µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ, –Ω–∞–≤–µ—Å–∏–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä—è–º–æ —Ç–∞–º:

```ts
import { withAnalytics } from "../../infrastructure/analytics";

//                                    ‚Üì Decorator   ‚Üì Use Case Function
export const createNote: CreateNote = withAnalytics(async (content: string) => {
  const draft = { content };
  await persistNote(draft);
});
```

–û–¥–Ω–∞–∫–æ, –º—ã –≤—Å—ë –µ—â—ë –¥–µ—Ä–∂–∏–º –≤ –≥–æ–ª–æ–≤–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —é–∑–∫–µ–π—Å–∞, –∏ –ø–æ—ç—Ç–æ–º—É –º–æ–∂–µ–º –æ—Ç–¥–µ–ª–∏—Ç—å –∏—Ö –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –ò–¥–µ–π–Ω–æ —ç—Ç–∞ –¥–≤–∞ –º–æ–¥—É–ª—è —Ä–∞—Å—Ü–µ–ø–ª–µ–Ω—ã –∏ –æ–±–∞ –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ _—Ç–∏–ø_ —é–∑–∫–µ–π—Å–∞.

<SideNote>–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞—Ö –∏ –∏—Ö –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø–æ—Å—Ç–µ.</SideNote>

## –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏—á—É

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω–æ–µ API –¥–ª—è –Ω–æ–≤–æ–π —Ñ–∏—á–∏:

```tsx
// ui/Notes

export function Notes() {
  return (
    <section>
      <h2 className="visually-hidden">Notes</h2>
      <NoteForm />
    </section>
  );
}

// notes/index

export * from "./ui/Notes";
```

...–ò –¥–æ–±–∞–≤–∏—Ç—å –µ—ë –Ω–∞ –¥–∞—à–±–æ—Ä–¥:

```tsx
// pages/Dashboard

import { Converter } from "~/features/converter";
import { Notes } from "~/features/notes";

export function Dashboard() {
  return (
    <>
      <Converter />
      <Notes />
    </>
  );
}
```

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –¥–∞—à–±–æ—Ä–¥–∞ –≤–∏–¥–Ω–æ, –∫–∞–∫ –æ–Ω –∫–æ–º–ø–æ–Ω—É–µ—Ç –≤–∏–¥–∂–µ—Ç—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–∏—á –≤–º–µ—Å—Ç–µ. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å [¬´–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã¬ª](https://martinfowler.com/bliki/BoundedContext.html), –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–∞–∂–¥–∞—è –∏–∑ —Ñ–∏—á, –∏ –∏–∑–±–µ–≥–∞—Ç—å –∏—Ö –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è ‚Äî —Ç–æ –µ—Å—Ç—å –ø–æ–¥–µ–ª–∏—Ç—å –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ _—Å–ª–∞–π—Å—ã_.

## –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–ª–∞–π—Å—ã

–ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–¥–∏–Ω –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç. –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –∫–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –≤—Ö–æ–¥–Ω—ã–µ-–≤—ã—Ö–æ–¥–Ω—ã–µ –ø–æ—Ä—Ç—ã –∏ –∞–¥–∞–ø—Ç–µ—Ä—ã –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –µ–π –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã. –ü–æ-–¥—Ä—É–≥–æ–º—É —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è [—Å–ª–∞–π—Å–æ–º](https://en.wikipedia.org/wiki/Vertical_slice).

–ü–æ–ª—å–∑–∞ —ç—Ç–æ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª—è –≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Ñ–∏—á. –ò—Ö –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å, —Ä–∞–∑–≤–∏–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ —Å [_—Ä–∞–∑–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∏_](https://youtu.be/cVVMbuKmNes).

–î–ª—è —Å–ª–∞–π—Å–∞ –Ω–µ–≤–∞–∂–Ω–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –¥—Ä—É–≥–∏–µ —Å–ª–∞–π—Å—ã. –í –æ–¥–Ω–æ–º –º—ã –º–æ–∂–µ–º –ø–∏—Å–∞—Ç—å –∫–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –≤ –¥—Ä—É–≥–æ–º ‚Äî –ø–∏—Å–∞—Ç—å, –±—É–¥—Ç–æ –º—ã –ø–∏—à–µ–º –ø—Ä–æ—Ç–æ—Ç–∏–ø. –û–¥–Ω–∏ —Å–ª–∞–π—Å –º—ã –º–æ–∂–µ–º —Ä–∞—Å–ø–∏–ª–∏—Ç—å –Ω–∞ —Å–ª–æ–∏, –∞ –≤ –¥—Ä—É–≥–æ–º ‚Äî –ø–∏—Å–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.

–¢–∞–∫ –∫–∞–∫ —Å–ª–∞–π—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ —Ä–µ—à–µ–Ω–∏—è, –ø—Ä–∏–Ω—è—Ç—ã–µ –≤ –∫–æ–¥–µ –æ–¥–Ω–æ–π —Ñ–∏—á–∏, _–º–æ–≥—É—Ç –Ω–µ –≤–ª–∏—è—Ç—å_ –Ω–∞ –∫–æ–¥ –¥—Ä—É–≥–∏—Ö —Ñ–∏—á. –≠—Ç–æ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏ —É—Å–ª–æ–∂–Ω—è—Ç—å –∫–æ–¥ _–ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏_. –¢–æ –µ—Å—Ç—å –Ω–∞–º –Ω–µ –Ω–∞–¥–æ –ø—Ä–æ–¥—É–º—ã–≤–∞—Ç—å ¬´–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è¬ª —Ü–µ–ª–∏–∫–æ–º, –≤—ã–±–∏—Ä–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ¬´—Å—Ä–∞–∑—É –∏ –≤—Å–µ¬ª –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∑–∞–ª–æ–∂–Ω–∏–∫–∞–º–∏ —ç—Ç–∏—Ö —Ä–µ—à–µ–Ω–∏–π –≤ –±—É–¥—É—â–µ–º.

–£ —Ñ–∏—á –≤–ø–æ–ª–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∞ –∏—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç—å ‚Äî –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –¢–∞–∫ –¥–ª—è –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–æ–≥–æ CRUD-—Å–ª–∞–π—Å–∞ –º—ã –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å –º–µ–Ω–µ–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –∏ –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–π –∫–æ–¥, –∞ –¥–ª—è —Ñ–∏—á–∏ —Å–æ —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π ‚Äî —Ä–∞—Å–ø–∏—Å–∞—Ç—å –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–æ–¥ –Ω–∞ —Å–ª–æ–∏:

![–†–∞–∑–Ω—ã–µ —Ñ–∏—á–∏ –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å —Ä–∞–∑–Ω–æ–π —Å—Ç–µ–ø–µ–Ω—å—é —Ç—â–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](/images/content/explicit-design-series/08-various-elaboration.png)

–°–ª–∞–π—Å—ã –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º –¥–µ—Ä–∂–∞—Ç—å _–≤—Å–µ –∑–Ω–∞–Ω–∏—è_, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –æ–¥–Ω–æ–º—É –ø–æ–¥–¥–æ–º–µ–Ω—É, —Ä—è–¥–æ–º, [–Ω–µ —Ä–∞–∑–±—Ä–∞—Å—ã–≤–∞—è –∏—Ö –ø–æ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ](https://youtu.be/L2Wnq0ChAIA). –ê –∏–∑–æ–ª—è—Ü–∏—è –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–æ–ª—å—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç.

–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ —Å–ª–∞–π—Å—ã –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –Ω–∞—Å [–∏–Ω–∞—á–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ](https://youtu.be/L2Wnq0ChAIA), —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º. –¢–∞–∫ –∫–∞–∫ —Ñ–æ–∫—É—Å —Å–ª–∞–π—Å–æ–≤ —Å–º–µ—â—ë–Ω –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —á–∞—Å—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –¥–∞–Ω–Ω—ã–µ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –≤–∏–¥–µ—Ç—å _—á–µ—Ä–µ–∑ –ø—Ä–∏–∑–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞_. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è ¬´—Ü–µ–Ω–∞¬ª –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞–∫—É–ø–æ–∫ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –æ–∑–Ω–∞—á–∞—Ç—å ¬´–æ–ø—Ç–æ–≤—É—é —Ü–µ–Ω—É –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞¬ª, –∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–¥–∞–∂–∏ ‚Äî ¬´—Ü–µ–Ω—É –Ω–∞ —Ü–µ–Ω–Ω–∏–∫–µ —Å —É—á—ë—Ç–æ–º –¥–æ—Å—Ç–∞–≤–∫–∏¬ª.

–¢–∞–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –ø–æ–Ω—è—Ç—å —Å—É—Ç—å –¥–∞–Ω–Ω—ã—Ö, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É ¬´–∫–∞–∑–∞–ª–æ—Å—å –±—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –≤–µ—â–∞–º–∏¬ª –≤ —Å–≤–µ—Ç–µ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.

## –û–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–∏—á–∞–º–∏

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Å–ª–∞–π—Å–æ–≤ –≤ –∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –§–∏—á–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤ –∏–¥–µ–∞–ª–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –∏ –≤–ª–∏—è—Ç—å –Ω–∞ —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

–î–æ—Å—Ç–∏—á—å —ç—Ç–æ–≥–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –Ω–∏–º–∏. –ï—Å–ª–∏ –º—ã –∑–∞–º–µ—á–∞–µ–º, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, —Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ [–º—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Ö –ø–æ–¥–µ–ª–∏–ª–∏](https://youtu.be/anL-RGKz_Ak). (–û—Å–æ–±–µ–Ω–Ω–æ —ç—Ç–æ –∑–∞–º–µ—Ç–Ω–æ, –µ—Å–ª–∏ –¥–≤–µ —Ñ–∏—á–∏ –º–µ–Ω—è—é—Ç—Å—è —Å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —á–∞—Å—Ç–æ—Ç–æ–π –∏ –æ–ø–µ—Ä–∏—Ä—É—é—Ç —Å—Ö–æ–∂–∏–º –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö.)

–ù–æ –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–∏—á–∏–Ω–∞–º —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç–∏–∂–∏–º–æ, –∏ –Ω–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–∏—á–∞–º–∏. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∫–∞–∫ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∏–∑ –æ–¥–Ω–æ–π —Ñ–∏—á–∏ –≤ –¥—Ä—É–≥—É—é –Ω–∞–ø—Ä—è–º—É—é, —Ç–∞–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è.

–í —ç—Ç–æ–º –ø–æ—Å—Ç–µ –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä –ø—Ä—è–º–æ–≥–æ –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É —Ñ–∏—á–∞–º–∏ –∏ –æ–±—Å—É–¥–∏–º –µ–≥–æ –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã. –í —Å–ª–µ–¥—É—é—â–µ–º ‚Äî –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ–± –æ–±—â–µ–Ω–∏–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è—Ö –∏ —Å—Ä–∞–≤–Ω–∏–º —ç—Ç–∏ –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞.

### –ü—Ä–∏–º–µ—Ä –ø—Ä—è–º–æ–≥–æ –æ–±—â–µ–Ω–∏—è

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –Ω–∞–º –ø—Ä–∏—à–ª–∞ –∑–∞–¥–∞—á–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É —Å–æ —Å–≤–µ–∂–∏–º –∫—É—Ä—Å–æ–º. (–ü—Ä–∏–º–µ—Ä –ø—Ä–∏—Ç—è–Ω—É—Ç –∑–∞ —É—à–∏, –Ω–æ —É –º–µ–Ω—è –Ω–µ –æ—á–µ–Ω—å –±–æ–≥–∞—Ç–∞—è —Ñ–∞–Ω—Ç–∞–∑–∏—è, —Å–æ—Ä—è–Ω ü§∑)

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ ¬´–¥—ë—Ä–Ω—É—Ç—å¬ª –¥—Ä—É–≥—É—é —Ñ–∏—á—É, —á—Ç–æ–±—ã –¥–∞—Ç—å –µ–π –∫–æ–º–∞–Ω–¥—É —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É. –î–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ —ç—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–º –≤ —É—Å–ª–æ–≤–Ω—ã–π ¬´–≤–Ω–µ—à–Ω–∏–π –º–∏—Ä¬ª ‚Äî –µ–º—É –Ω–µ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ, –∫—É–¥–∞ –∏–º–µ–Ω–Ω–æ –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º —ç—Ç—É –∫–æ–º–∞–Ω–¥—É. –î–ª—è —Ñ–∏—á–∏ –∑–∞–º–µ—Ç–æ–∫ –∂–µ —Ç–∞–∫–æ–π —Å–∏–≥–Ω–∞–ª ‚Äî —ç—Ç–æ –±—É–∫–≤–∞–ª—å–Ω–æ —Ä—ã—á–∞–∂–æ–∫ –≤—Ö–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏—Ç —é–∑–∫–µ–π—Å.

![–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç—ã, –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è —Ñ–∏—á](/images/content/explicit-design-series/08-coupling-via-ports.png)

–¢–∞–∫–æ–µ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–∏—á–∞–º–∏ –≤—Å—ë –µ—â—ë –ø–æ–≤—ã—à–∞–µ—Ç –º–µ–∂–¥—É –Ω–∏–º–∏ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—É –ø—Ä–∏–¥—ë—Ç—Å—è _–∑–Ω–∞—Ç—å_ –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ —Å–æ—Å–µ–¥–Ω–µ–π —Ñ–∏—á–∏. –ù–æ —Å–≤—è–∑—ã–≤–∞—è –∏—Ö —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç—ã, –º—ã –≤—Å—ë –µ—â—ë –ø–æ–∑–≤–æ–ª—è–µ–º —Å–µ–±–µ –≤ –±—É–¥—É—â–µ–º —Ä–∞—Å—Ü–µ–ø–∏—Ç—å –∏—Ö –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É. (–û–± —ç—Ç–æ–º –º—ã –∫–∞–∫ —Ä–∞–∑ –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Å—Ç–µ.)

### –°–≤—è–∑—å —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç—ã

–ü—Ä–∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏ —Ñ–∏—á —á–µ—Ä–µ–∑ –∏—Ö –ø–æ—Ä—Ç—ã –º—ã —Å–æ–∑–¥–∞—ë–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ç–æ—á–∫—É –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è. –≠—Ç–æ —É–¥–æ–±–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç—Ç–æ–≥–æ, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥—É–º–∞—Ç—å, –≥–¥–µ –∏—Å–∫–∞—Ç—å —Å–æ—á–ª–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ñ–∏—á.

–í —Å–ª—É—á–∞–µ —Å –∑–∞–º–µ—Ç–∫–∞–º–∏ –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å:

```ts
// notes/ports.input

type CreateNote = (content: string) => Promise<void>;
```

–§—É–Ω–∫—Ü–∏—è, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è —ç—Ç–æ—Ç –ø–æ—Ä—Ç, –∏ –±—É–¥–µ—Ç –≤—Ö–æ–¥–Ω–æ–π —Ç–æ—á–∫–æ–π –≤ —Ñ–∏—á—É, –∞ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –µ—ë –≤—ã–∑—ã–≤–∞—Ç—å, –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —é–∫–µ–π—Å, —Ç–æ –µ—Å—Ç—å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–æ–ª—å [¬´—É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞¬ª](https://herbertograca.com/2017/09/14/ports-adapters-architecture/).

–í –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–µ –∂–µ –Ω–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π –æ –∑–∞–º–µ—Ç–∫–∞—Ö –∏ –Ω–µ –¥–∞—Ç—å –∏–º ¬´—Ä–∞—Å–ø–æ–ª–∑—Ç–∏—Å—å¬ª –ø–æ –≤—Å–µ–º—É –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –ø–æ–ª–æ–∂–∏–º `CreateNote` –ø—Ä—è–º–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —é–∑–∫–µ–π—Å–∞, —Ç–æ –∑–∞—Ü–µ–ø–∏–º —è–¥—Ä–æ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ –Ω–∞–ø—Ä—è–º—É—é —Å –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä–æ–º:

```ts
// converter/refreshRates

import type { FetchRates, ReadConverter, SaveConverter } from "../ports.output";
import type { CreateNote } from "~/features/notes/ports.input";
// –ü—Ä—è–º–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ...          ‚Üë

type Dependencies = {
  fetchRates: FetchRates;
  readConverter: ReadConverter;
  saveConverter: SaveConverter;
  createNote: CreateNote;
};
```

...–ê –Ω–∞–º –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ ¬´—Ä–∞–∑–º–∞–∑—ã–≤–∞–µ—Ç¬ª —Å–æ—á–ª–µ–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–∏—á–∞–º–∏, –∏ –∑–Ω–∞–Ω–∏—è –æ –∑–∞–º–µ—Ç–∫–∞—Ö –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞—Å–ø–ª—ã–≤–∞—Ç—å—Å—è –ø–æ –≤—Å–µ–º—É –∫–æ–¥—É –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞.

–ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –±—É–¥–µ—Ç –ø–æ–±—É–∂–¥–∞—Ç—å –Ω–∞—Å –º–µ–Ω—è—Ç—å –∫–æ–¥ _–∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞_ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ _–∑–∞–º–µ—Ç–æ–∫_:

```ts
export const createRefreshRates =
  ({}: /*...*/ Dependencies): RefreshRates =>
  async () => {
    // ...

    // –ß—Ç–æ–±—ã ¬´–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É¬ª,
    // –Ω–∞–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –º–µ–Ω—è—Ç—å –∫–æ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞:
    const message = JSON.stringify(rates);
    createNote(message);

    // ...–ù–æ –∫–∞–∫ –∏ –≤–æ —á—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–º–µ—Ç–∫–∏,
    // –∫ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—É –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è.
  };
```

–ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å ¬´—Ä–∞—Å–ø–æ–ª–∑–∞–Ω–∏–µ¬ª –∑–Ω–∞–Ω–∏–π –æ –∑–∞–º–µ—Ç–∫–∞—Ö –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —é–∑–∫–µ–π—Å–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞, –º—ã –Ω–∞–ø–∏—à–µ–º –∞–¥–∞–ø—Ç–µ—Ä –∫ —Ñ–∏—á–µ –∑–∞–º–µ—Ç–æ–∫.

### –ê–¥–∞–ø—Ç–µ—Ä _–∫ —Ñ–∏—á–µ_? ü§®

–ü–æ —Å–ª–æ–≤—É ¬´–∞–¥–∞–ø—Ç–µ—Ä¬ª –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ, —á—Ç–æ–±—ã —Å–æ–µ–¥–∏–Ω–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏. –ù–æ –Ω–∞ –¥–µ–ª–µ [–∑–∞–¥–∞—á–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞](https://refactoring.guru/design-patterns/adapter) —Å–¥–µ–ª–∞—Ç—å –æ–¥–∏–Ω _–∫–∞–∫–æ–π-—Ç–æ_ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–ø–æ—Å—Ç–∞–≤–∏–º—ã–º —Å –¥—Ä—É–≥–∏–º _–∫–∞–∫–∏–º-—Ç–æ_ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

–û–±–∞ —ç—Ç–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–ø–æ–ª–Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ä—Ç–∞–º–∏ —Ñ–∏—á, —á–µ–º –º—ã –∏ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è. –ù–∞–ø–∏—à–µ–º —Ç–∏–ø `CreateNoteAdapter` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞. –≠—Ç–æ—Ç —Ç–∏–ø –±—É–¥–µ—Ç –≤—ã—Ö–æ–¥–Ω—ã–º –ø–æ—Ä—Ç–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–≥–æ –∑–∞–¥–∞—á–∞ –ø–æ–¥–∞—Ç—å —Å–∏–≥–Ω–∞–ª –≤–æ –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä:

```ts
// converter/ports.output

type CreateNoteAdapter = (rates: ExchangeRates) => void;
```

–Æ–∑–∫–µ–π—Å—É —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏—à—å –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, —Ä–µ–∞–ª–∏–∑—É—é—â—É—é —Ç–∏–ø `CreateNoteAdapter`:

```ts
// converter/refreshRates

import type { CreateNoteAdapter /*...*/ } from "../ports.output";

type Dependencies = {
  fetchRates: FetchRates;
  readConverter: ReadConverter;
  saveConverter: SaveConverter;
  createNote: CreateNoteAdapter;
};

export const createRefreshRates =
  ({}: /*...*/ Dependencies): RefreshRates =>
  async () => {
    // ...

    // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, –æ —á—ë–º –Ω–∞–¥–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è —é–∑–∫–µ–π—Å—É, ‚Äî
    // –≤—ã–∑–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—Ä–µ–¥–∞–≤ –µ–π —Å–≤–µ–∂–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏.
    // –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ–Ω–∞ –æ–±—è–∑—É–µ—Ç—Å—è –≤–∑—è—Ç—å –Ω–∞ —Å–µ–±—è.
    createNote(rates);
  };
```

–¢–æ–≥–¥–∞ [–≤—Å–µ –∑–Ω–∞–Ω–∏—è](<https://en.wikipedia.org/wiki/Cohesion_(computer_science)>) –æ —Ç–æ–º, _–∫–∞–∫_ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–º–µ—Ç–∫–∞–º–∏, –≤–æ —á—Ç–æ –∏—Ö –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ —Ç.–¥., –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

```ts
// converter/adapters

// –ó–∞–≤–∏—Å–∏–º —Ç–æ–ª—å–∫–æ –æ—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞
// –∏ –≤—Ö–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ —Å–æ—Å–µ–¥–Ω–µ–π —Ñ–∏—á–∏:
import type { CreateNoteAdapter } from "../../core/ports.output";
import type { CreateNote } from "~/features/notes/core/ports.input";

// –ë–µ—Ä—ë–º –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ –¥—Ä—É–≥–æ–π:
type AdaptInterface = (realFeature: CreateNote) => CreateNoteAdapter;

export const createAdapter =
  (callFeature: CreateNote): CreateNoteAdapter =>
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –≤—Å—ë,
  // —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª
  // –≤–æ –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —é–∑–∫–µ–π—Å –≤ —Ñ–∏—á–µ –∑–∞–º–µ—Ç–æ–∫:
  (rates) => {
    const noteContent = JSON.stringify(rates, null, 2);
    callFeature(noteContent);
  };
```

–ß–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–º–µ–Ω–∏–º —Ñ–∞–±—Ä–∏–∫—É, –ø–µ—Ä–µ–¥–∞–≤ –µ–π –Ω–∞—Å—Ç–æ—è—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `createNote`, —Ä–µ–∞–ª–∏–∑—É—é—â—É—é –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç –∑–∞–º–µ—Ç–æ–∫:

```ts
// adapters/createNote.composition

import { createAdapter } from "./createNote";
import { createNote as callFeature } from "~/features/notes/core/createNote";

export const createNote = createAdapter(callFeature);
```

–¢–µ–ø–µ—Ä—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –≤–æ _–≤—Å—ë–º —é–∑–∫–µ–π—Å–µ_, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–æ —Å –∫–æ–¥–æ–º –¥—Ä—É–≥–æ–π —Ñ–∏—á–∏ ‚Äî —ç—Ç–æ –∞–¥–∞–ø—Ç–µ—Ä –∏ –µ–≥–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è:

![–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä ¬´–∑–Ω–∞–µ—Ç¬ª –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å —Å –¥—Ä—É–≥–æ–π —Ñ–∏—á–µ–π, ‚Äî –∞–¥–∞–ø—Ç–µ—Ä](/images/content/explicit-design-series/08-coupling-via-adapter.png)

–¢–∞–∫ –º—ã —Å–æ–∑–¥–∞—ë–º –∑–∞–¥–µ–ª –Ω–∞ –µ—â—ë –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–µ —Ä–∞—Å—Ü–µ–ø–ª–µ–Ω–∏–µ —Ñ–∏—á –≤ –±—É–¥—É—â–µ–º.

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–∞–ø—Ç–µ—Ä–∞

–ù–∞–º –æ—Å—Ç–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä –≤ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —é–∑–∫–µ–π—Å–∞ –∏ –ø–æ–∫—Ä—ã—Ç—å —ç—Ç–æ –≤—Å—ë —Ç–µ—Å—Ç–∞–º–∏. –û–±–Ω–æ–≤–∏–º –∫–æ–º–ø–æ–∑–∏—Ü–∏—é:

```ts
// converter/refreshRates.composition

// ...
import { createNote } from "../../adapters/createNote";

export const refreshRates: RefreshRates = withAnalytics(
  createRefreshRates({ createNote /* ...Other dependencies. */ }),
);
```

–û–±–Ω–æ–≤–∏–º –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ç–µ—Å—Ç–æ–≤:

```ts
const fetchRates = async () => ({ ...rates });
const readConverter = () => ({ ...converter });
const saveConverter = vi.fn();
const createNote = vi.fn();

const refreshRates = createRefreshRates({
  fetchRates,
  readConverter,
  saveConverter,
  createNote,
});
```

–ò –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ —é–∑–∫–µ–π—Å –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∞–¥–∞–ø—Ç–µ—Ä–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:

```ts
describe("when called", () => {
  // ...

  it("calls a note creations out of the fresh rates data", async () => {
    await refreshRates();
    expect(createNote).toHaveBeenCalledWith(rates);
  });
});
```

## –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑

–í —ç—Ç–æ–º –ø–æ—Å—Ç–µ –º—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–æ–≤—É—é —Ñ–∏—á—É –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –µ—ë, –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏ –ø—Ä–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–æ–¥—É–ª–∏ —Å —Ä–∞–∑–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π. –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ –º—ã –æ–ø–∏—Å–∞–ª–∏ –ø—Ä—è–º–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–ª–∞–π—Å–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ—Å—Ç–∞–≤–∏–ª–∏ —Å–µ–±–µ –∑–∞–¥–µ–ª –Ω–∞ –±—É–¥—É—â–µ–µ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ. –í [—Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Å—Ç–µ](/blog/explicit-design-9) –º—ã –æ–±—Å—É–¥–∏–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–ª–∞–π—Å—ã –µ—â—ë –±–æ–ª–µ–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ —Å –ø–æ–º–æ—â—å—é —Å–æ–±—ã—Ç–∏–π –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–∞–≤–¥–∞–Ω–æ.

## –°—Å—ã–ª–∫–∏

–í—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–Ω–∏–≥–∏, —Å—Ç–∞—Ç—å–∏ –∏ –¥—Ä—É–≥–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —É–ø–æ–º—è–Ω—É—Ç—ã–µ –≤ —Å—Ç–∞—Ç—å–µ.

- [–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —ç—Ç–∞–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –ì–∏—Ç—Ö–∞–±–µ](https://github.com/bespoyasov/explicit-design/tree/main/08-adding-new-feature)
- [–ë–ª–æ–≥ –Ω–∞ –ì–∏—Ç—Ö–∞–±–µ –Ω–∞ —Å–ª—É—á–∞–π –æ–ø–µ—á–∞—Ç–æ–∫](https://github.com/bespoyasov/www)

### –ò–∑–æ–ª—è—Ü–∏—è, –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –∏ —Å–≤—è–∑–Ω–æ—Å—Ç—å

- [Anti-corruption layer](https://learn.microsoft.com/en-us/azure/architecture/patterns/anti-corruption-layer)
- [Bounded context](https://martinfowler.com/bliki/BoundedContext.html)
- [‚ÄúI NEED data from another service!‚Äù... Do you really?](https://youtu.be/anL-RGKz_Ak)
- [CRUD, –í–∏–∫–∏–ø–µ–¥–∏—è](https://ru.wikipedia.org/wiki/CRUD)
- [–ò–Ω–≤–µ—Ä—Å–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è, –í–∏–∫–∏–ø–µ–¥–∏—è](https://ru.wikipedia.org/wiki/–ò–Ω–≤–µ—Ä—Å–∏—è_—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- [–°–≤—è–∑–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –í–∏–∫–∏–ø–µ–¥–∏—è](<https://ru.wikipedia.org/wiki/–°–≤—è–∑–Ω–æ—Å—Ç—å_(–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)>)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- [Adapter](https://refactoring.guru/design-patterns/adapter)
- [Aggregate](https://martinfowler.com/bliki/DDD_Aggregate.html)
- [Clean Architecture by Robert C. Martin](https://www.goodreads.com/book/show/18043011-clean-architecture)
- [Ports & Adapters Architecture](https://herbertograca.com/2017/09/14/ports-adapters-architecture/)
- [–î–µ–∫–æ—Ä–∞—Ç–æ—Ä](https://refactoring.guru/ru/design-patterns/decorator)

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–ª–∞–π—Å—ã

- [Feature-Sliced Design](https://feature-sliced.design)
- [Restructuring to a Vertical Slice Architecture](https://youtu.be/cVVMbuKmNes)
- [Vertical Slice Architecture, not Layers!](https://youtu.be/L2Wnq0ChAIA)
- [Vertical slice, –í–∏–∫–∏–ø–µ–¥–∏—è](https://en.wikipedia.org/wiki/Vertical_slice)

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

- [Make Illegal States Unrepresentable!](https://khalilstemmler.com/articles/typescript-domain-driven-design/make-illegal-states-unrepresentable/)
- [Types + Properties = Software: designing with types](https://blog.ploeh.dk/2016/02/10/types-properties-software-designing-with-types/)
- [Union Types in TypeScript](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types)

### –î—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ —Å–µ—Ä–∏–∏

- [–í–≤–µ–¥–µ–Ω–∏–µ, –ø—Ä–µ–¥–ø–æ—Å—ã–ª–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](/blog/explicit-design-series)
- [–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏](/blog/explicit-design-1)
- [–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤](/blog/explicit-design-2)
- [–û–ø–∏—Å–∞–Ω–∏–µ UI –∫–∞–∫ ¬´–∞–¥–∞–ø—Ç–µ—Ä–∞¬ª –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é](/blog/explicit-design-3)
- [–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–¥ –Ω—É–∂–¥—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤](/blog/explicit-design-4)
- [–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ö—É–∫–∞—Ö](/blog/explicit-design-5)
- [–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ —Ö—É–∫–æ–≤](/blog/explicit-design-6)
- [–í–Ω–µ–¥—Ä–µ–Ω–∏–µ cross-cutting concerns](/blog/explicit-design-7)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–π —Ñ–∏—á–µ–π (—ç—Ç–æ—Ç –ø–æ—Å—Ç)
- [–†–∞—Å—Ü–µ–ø–ª–µ–Ω–∏–µ —Ñ–∏—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](/blog/explicit-design-9)
- –û–±–∑–æ—Ä –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã
