---
title: –ü–∏—à–µ–º –¥–≤–æ–∏—á–Ω—ã–π —Å—É–º–º–∞—Ç–æ—Ä –≤ –∏–≥—Ä–µ ¬´–ñ–∏–∑–Ω—å¬ª –Ω–∞ JavaScript
description: –†–µ–∞–ª–∏–∑—É–µ–º –¥–≤–æ–∏—á–Ω—É—é –ª–æ–≥–∏–∫—É —Å –ø–æ–º–æ—â—å—é –∏–≥—Ä—ã ¬´–ñ–∏–∑–Ω—å¬ª –ö–æ–Ω–≤–µ—è –Ω–∞ JavaScript. –í –ø–µ—Ä–≤–æ–º –ø–æ—Å—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã, –Ω–∞–ø–∏—à–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –Ω–∞ canvas.
datetime: 2021-08-03T10:00
slug: /blog/binary-adder-in-the-game-of-life
cover: /images/content/binary-adder-in-the-game-of-life/cell-states.png
tags:
  - dev
  - favorite
  - hardware
---

# –ü–∏—à–µ–º –¥–≤–æ–∏—á–Ω—ã–π —Å—É–º–º–∞—Ç–æ—Ä –≤ –∏–≥—Ä–µ ¬´–ñ–∏–∑–Ω—å¬ª –Ω–∞ JavaScript

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —è –ø—Ä–æ—á–∏—Ç–∞–ª [¬´–ö–æ–¥¬ª –ü–µ—Ç—Ü–æ–ª—å–¥–∞](/blog/code-the-hidden-language-of-computer-hardware-and-software/), –º–Ω–µ –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å —Å–æ–±—Ä–∞—Ç—å –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –ª–æ–≥–∏—á–µ—Å–∫—É—é —Å—Ö–µ–º—É —Ä—É–∫–∞–º–∏. –ù–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–±—Ä–∞—Ç—å, –∞ –µ—â—ë –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ—ë —Ä–∞–±–æ—Ç—É: –∫–∞–∫ –ø–æ –Ω–µ–π –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–∏–≥–Ω–∞–ª—ã, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≥–µ–π—Ç—ã, –≤–æ—Ç —ç—Ç–æ –≤—Å—ë.

–ü–µ—Ä–≤–æ–µ, –æ —á—ë–º —è –≤—Å–ø–æ–º–Ω–∏–ª ‚Äî —ç—Ç–æ —Ä–æ–ª–∏–∫ –ú—ç—Ç–∞ –ü–∞—Ä–∫–µ—Ä–∞ (Matt Parker), –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω —Å —Ä–µ–±—è—Ç–∞–º–∏ [—Å–æ–±–∏—Ä–∞–ª –∫–æ–º–ø—å—é—Ç–µ—Ä –∏–∑ –¥–æ–º–∏–Ω–æ](https://www.youtube.com/watch?v=OpLU__bhu2w). –í —Ä–æ–ª–∏–∫–µ –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–ª, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–∑ –¥–æ–º–∏–Ω–æ ‚Äî —Ö–æ—Ç–µ–ª–æ—Å—å —á–µ–≥–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–≥–æ. –ê –ø–æ—Ç–æ–º —è –≤—Å–ø–æ–º–Ω–∏–ª, —á—Ç–æ —è –¥–∞–≤–Ω–æ —Ö–æ—Ç–µ–ª –Ω–∞–ø–∏—Å–∞—Ç—å –∏–≥—Ä—É ¬´–ñ–∏–∑–Ω—å¬ª. <del>–ü–æ—Ç–æ–º—É —á—Ç–æ –≤–µ–¥—å –≤—Å–µ –¥–æ–ª–∂–Ω—ã —Ö–æ—Ç—å —Ä–∞–∑ –Ω–∞–ø–∏—Å–∞—Ç—å –∏–≥—Ä—É ¬´–ñ–∏–∑–Ω—å¬ª, –≤–µ—Ä–Ω–æ?</del> –î–≤–µ –∏–¥–µ–∏ —Å–æ—à–ª–∏—Å—å –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ, –∏ –ø–æ—è–≤–∏–ª–∞—Å—å —ç—Ç–∞ —Å–µ—Ä–∏—è –ø–æ—Å—Ç–æ–≤ üòÉ

–í —ç—Ç–∏ —Ç—Ä—ë—Ö —Å—Ç–∞—Ç—å—è—Ö –º—ã —Å –ø–æ–º–æ—â—å—é JS —Ä–µ–∞–ª–∏–∑—É–µ–º –¥–≤–æ–∏—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö –∏–∑ –∏–≥—Ä—ã ¬´–ñ–∏–∑–Ω—å¬ª –ö–æ–Ω–≤–µ—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–≤–∞ –¥–≤—É–±–∏—Ç–æ–≤—ã—Ö —á–∏—Å–ª–∞.

- –í –ø–µ—Ä–≤–æ–º –ø–æ—Å—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã, –Ω–∞–ø–∏—à–µ–º –º–æ–¥—É–ª—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –Ω–∞ canvas.
- [–í–æ –≤—Ç–æ—Ä–æ–º –ø–æ—Å—Ç–µ](/blog/binary-adder-in-the-game-of-life-2) –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —Ñ–∏–≥—É—Ä–∞–º–∏ –∏–∑ –∏–≥—Ä—ã, –Ω–∞—É—á–∏–º—Å—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ¬´—Å–∏–≥–Ω–∞–ª—ã¬ª –∏ —Å–æ–∑–¥–∞–¥–∏–º –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã NOT, AND, OR –∏ XOR.
- [–í —Ç—Ä–µ—Ç—å–µ–º –ø–æ—Å—Ç–µ](/blog/binary-adder-in-the-game-of-life-3) —Ä–µ–∞–ª–∏–∑—É–µ–º –¥–≤–æ–∏—á–Ω—ã–π –ø–æ–ª—É—Å—É–º–º–∞—Ç–æ—Ä –∏ –ø–æ–ª–Ω—ã–π —Å—É–º–º–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏–º [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](https://bespoyasov.ru/showcase/game-of-life/), –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–≤–∞ –¥–≤—É–±–∏—Ç–æ–≤—ã—Ö —á–∏—Å–ª–∞ –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å ¬´—Å–∏–≥–Ω–∞–ª—ã¬ª –∏–∑ —Ñ–∏–≥—É—Ä –∏–≥—Ä—ã ¬´–ñ–∏–∑–Ω—å¬ª, —á—Ç–æ–±—ã —Å–ª–æ–∂–∏—Ç—å –∏—Ö –∏ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç.

–°—Å—ã–ª–∫—É –Ω–∞ [–∏—Å—Ö–æ–¥–Ω–∏–∫–∏](https://github.com/bespoyasov/binary-full-adder-in-the-game-of-life) —è –ø–æ–ª–æ–∂—É –∑–¥–µ—Å—å –∏ –µ—â—ë –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å—Ç–∞. –ê —Å–µ–π—á–∞—Å —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞—Ö –∏–≥—Ä—ã –∏ –µ—ë –æ—Ç—Ä–∏—Å–æ–≤–∫–µ.

## –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã ¬´–ñ–∏–∑–Ω—å¬ª

[–ò–≥—Ä–∞ ¬´–ñ–∏–∑–Ω—å¬ª](https://ru.wikipedia.org/wiki/–ò–≥—Ä–∞_¬´–ñ–∏–∑–Ω—å¬ª) (–∞–Ω–≥–ª. Conway's Game of Life) ‚Äî —ç—Ç–æ [–º–∏—Ä, –ø–æ–¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞ –∫–ª–µ—Ç–∫–∏](https://ru.wikipedia.org/wiki/–ö–ª–µ—Ç–æ—á–Ω—ã–π_–∞–≤—Ç–æ–º–∞—Ç), –≥–¥–µ –∫–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å ¬´–∂–∏–≤–æ–π¬ª –∏–ª–∏ ¬´–º—ë—Ä—Ç–≤–æ–π¬ª.

<YouTube
  src="https://www.youtube.com/embed/qMn6za1Ycv8"
  caption="–ö–ª–µ—Ç–∫–∏ –∫–∞–∫ –±—É–¥—Ç–æ –±—ã —Ä–æ–∂–¥–∞—é—Ç—Å—è –∏ —É–º–∏—Ä–∞—é—Ç ‚Äî –æ—Ç—Å—é–¥–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ"
/>

–£ –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–∏ –µ—Å—Ç—å 8 —Å–æ—Å–µ–¥–µ–π –≤–æ–∫—Ä—É–≥ –Ω–µ—ë. –°–æ—Å–µ–¥–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∂–∏–≤—ã–º–∏ –∏–ª–∏ –º—ë—Ä—Ç–≤—ã–º–∏.

![–ù–∞ –ø–æ–ª–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–ª–µ—Ç–∫–∞ –∂–∏–≤–∞, –≤–æ–∫—Ä—É–≥ –Ω–µ—ë 7 –º—ë—Ä—Ç–≤—ã—Ö —Å–æ—Å–µ–¥–µ–π –∏ –æ–¥–∏–Ω –∂–∏–≤–æ–π](/img/blog/life-states.png)

–ñ–∏–≤—ã–µ –∏ –º—ë—Ä—Ç–≤—ã–µ –∫–ª–µ—Ç–∫–∏ –≤–ª–∏—è—é—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ –º–∏—Ä –±—É–¥–µ—Ç ¬´—ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å¬ª. –ö–ª–µ—Ç–∫–∏ ¬´—Ä–æ–∂–¥–∞—é—Ç—Å—è¬ª –∏ ¬´—É–º–∏—Ä–∞—é—Ç¬ª –ø–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∞–≤–∏–ª–∞–º, –∑–∞–¥–∞–Ω–Ω—ã–º –≤ –º–∏—Ä–µ. –ü—Ä–∞–≤–∏–ª–∞ –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏, –Ω–æ –≤ –∏–≥—Ä–µ ¬´–ñ–∏–∑–Ω—å¬ª –ø—Ä–∏–Ω—è—Ç—ã —Ç–∞–∫–∏–µ:

- –∫–ª–µ—Ç–∫–∞ —Ä–æ–∂–¥–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –≤–æ–∫—Ä—É–≥ –Ω–µ—ë –µ—Å—Ç—å —Ä–æ–≤–Ω–æ 3 –∂–∏–≤—ã—Ö —Å–æ—Å–µ–¥–∞;
- –∫–ª–µ—Ç–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∂–∏—Ç—å, –µ—Å–ª–∏ –≤–æ–∫—Ä—É–≥ –Ω–µ—ë —Ä–æ–≤–Ω–æ 2 –∏–ª–∏ 3 –∂–∏–≤—ã—Ö —Å–æ—Å–µ–¥–∞;
- –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –∫–ª–µ—Ç–∫–∞ —É–º–∏—Ä–∞–µ—Ç –æ—Ç –ø–µ—Ä–µ–Ω–∞—Å–µ–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –∫–ª–µ—Ç–æ–∫ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, –∏–ª–∏ –æ—Ç –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞, –µ—Å–ª–∏ –∫–ª–µ—Ç–æ–∫ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ.

–¢–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏ –¥–≤–∏–∂—É—â–∏–µ—Å—è —Ñ–∏–≥—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ö–µ–º. –ù–æ —Ñ–∏–≥—É—Ä—ã –∏ —Å—Ö–µ–º—ã ‚Äî —ç—Ç–æ –≤ –±—É–¥—É—â–µ–º, –∞ —Å–µ–π—á–∞—Å –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∞–º–æ–π –∏–≥—Ä—ã.

## –ö–ª–µ—Ç–∫–∏ –∏ —Å–æ—Å–µ–¥–∏

–°–ø–µ—Ä–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º—Å—è, –∫–∞–∫ –º—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å ¬´–ø–æ–ø—É–ª—è—Ü–∏—é¬ª –∫–ª–µ—Ç–æ–∫ –≤ –º–∏—Ä–µ –∏–≥—Ä—ã. –ú–∏—Ä –¥–≤—É–º–µ—Ä–Ω—ã–π, –∑–Ω–∞—á–∏—Ç –∑–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–∏ –æ—Ç–≤–µ—á–∞—é—Ç –¥–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:

- x, –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏,
- y, –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏.

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ü–∏–∏ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ–º –æ—Ç–º–µ—á–∞—Ç—å –∂–∏–≤—ã–µ –∫–ª–µ—Ç–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º `1`, –∞ –º—ë—Ä—Ç–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º `0`.

```js
const population = [
  [0, 0, 1],
  [0, 1, 0],
  [1, 1, 1],
];
```

–≠—Ç–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–∏—Ä–æ–≤ –æ–Ω –Ω–∞–º –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ —á–µ–º –±–æ–ª—å—à–µ –±—É–¥–µ—Ç —Å—Ö–µ–º–∞ (–∞ —Å—É–º–º–∞—Ç–æ—Ä –ø–æ–ª—É—á–∏—Ç—Å—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º), —Ç–µ–º –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –∏ _–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å_ –Ω–∞ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Ç–æ–ª—å–∫–æ –∂–∏–≤—ã–µ –∫–ª–µ—Ç–∫–∏.

–ß—Ç–æ–±—ã –±—ã–ª–æ —É–¥–æ–±–Ω–µ–µ –∫ –Ω–∏–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è, –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –Ω–µ –≤ –º–∞—Å—Å–∏–≤–µ, –∞ –≤ –æ–±—ä–µ–∫—Ç–µ:

```js
const population = {
  "2:0": cell1,
  "1:1": cell2,
  "0:2": cell3,
  "1:2": cell4,
  "2:2": cell5,
  // ‚Ä¶
};
```

–ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –±—É–¥–µ—Ç –æ–±—ä–µ–∫—Ç–æ–º —Å –¥–≤—É–º—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏. –û–±—ä–µ–∫—Ç –∑–∞–Ω–∏–º–∞–µ—Ç —á—É—Ç—å –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, –Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–≥–æ–¥—è—Ç—Å—è –Ω–∞–º –≤ –±—É–¥—É—â–µ–º –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤ —ç–≤–æ–ª—é—Ü–∏–π –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

–ù–∞–ø–∏—à–µ–º —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∂–∏–≤—ã—Ö –∫–ª–µ—Ç–æ–∫:

```js
// life/agent.js

export function createAgent(x, y) {
  return { x, y };
}
```

–ü—Ä–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ –º—ã –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—É—é –∂–∏–≤—É—é –∫–ª–µ—Ç–∫—É –∏ –µ—ë —Å–æ—Å–µ–¥–µ–π, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –∫–ª–µ—Ç–∫–∏ –¥–æ–∂–∏–≤—É—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:

```js
// life/agent.js

export function isAlive(agent, population) {
  return !!population[`${agent.x}:${agent.y}`];
}
```

–ï—Å–ª–∏ –≤ –ø–æ–ø—É–ª—è—Ü–∏–∏ –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç, –∑–Ω–∞—á–∏—Ç –∫–ª–µ—Ç–∫–∞ –∂–∏–≤–∞—è. –ï—Å–ª–∏ —Ç–∞–º –ø—É—Å—Ç–æ, –∑–Ω–∞—á–∏—Ç –∫–ª–µ—Ç–∫–∞ –º—ë—Ä—Ç–≤–∞—è:

```js
const population = {
  "5:5": { x: 5, y: 5 },
};

isAlive({ x: 5, y: 5 }, population); // true
isAlive({ x: 0, y: 5 }, population); // false
```

–ß—Ç–æ–±—ã –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–≤—ã—Ö —Å–æ—Å–µ–¥–µ–π –≤–æ–∫—Ä—É–≥ –∑–∞–¥–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–∏, –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Ö –≤—Å–µ—Ö —Å–ø–µ—Ä–≤–∞ –Ω–∞–π—Ç–∏:

```js
// life/agent.js

export function neighborsOf({ x, y }) {
  return [
    // –°–æ—Å–µ–¥–∏ —Å–≤–µ—Ä—Ö—É:
    { x: x - 1, y: y - 1 },
    { x, y: y - 1 },
    { x: x + 1, y: y - 1 },

    // ...–° –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã:
    { x: x - 1, y },
    { x: x + 1, y },

    // ...–ò –ø–æ–¥ —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–ª–µ—Ç–∫–æ–π:
    { x: x - 1, y: y + 1 },
    { x, y: y + 1 },
    { x: x + 1, y: y + 1 },
  ];
}
```

‚Ä¶–ê –ø–æ—Ç–æ–º ‚Äî –ø–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ –∏–∑ –Ω–∏—Ö –≤ –ø–æ–ø—É–ª—è—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ –µ—Å—Ç—å ‚Äî —Å–∫–æ–ª—å–∫–æ –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∂–∏–≤—ã:

```js
// life/agent.js

export function countAliveAround(agent, population) {
  return neighborsOf(agent).reduce((total, agent) => {
    return total + (isAlive(agent, population) ? 1 : 0);
  }, 0);
}
```

–¢–æ–≥–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç–∞–∫–æ–π –ø–æ–ø—É–ª—è—Ü–∏–∏ —É –∫–ª–µ—Ç–∫–∏ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ 1:1 –±—É–¥–µ—Ç 4 –∂–∏–≤—ã—Ö —Å–æ—Å–µ–¥–∞:

```js
// Alive  Dead    Alive
// Alive  Current Dead
// Dead   Alive   Dead

const population = {
  "0:0": { x: 0, y: 0 },
  "2:0": { x: 2, y: 0 },
  "0:1": { x: 0, y: 1 },
  "1:1": { x: 1, y: 1 },
  "1:2": { x: 1, y: 2 },
};

countAliveAround({ x: 1, y: 1 }, population);
// 4
```

–ö–æ–≥–¥–∞ –≥–ª–∞–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–µ—Ç–∫–∞–º–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å–æ—Å–µ–¥–µ–π –≥–æ—Ç–æ–≤—ã, –º—ã –º–æ–∂–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –º–∏—Ä–∞ –∏–≥—Ä—ã –∏ –ø—Ä–∞–≤–∏–ª —ç–≤–æ–ª—é—Ü–∏–∏.

## –≠–≤–æ–ª—é—Ü–∏—è –∫–ª–µ—Ç–æ–∫

–ò–≥—Ä–∞ ¬´–ñ–∏–∑–Ω—å¬ª ‚Äî —ç—Ç–æ [–∫–ª–µ—Ç–æ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç](https://ru.wikipedia.org/wiki/–ö–ª–µ—Ç–æ—á–Ω—ã–π_–∞–≤—Ç–æ–º–∞—Ç). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —ç–≤–æ–ª—é—Ü–∏—è –≤ –Ω–µ–π –¥–∏—Å–∫—Ä–µ—Ç–Ω–∞ ‚Äî —Ç–æ –µ—Å—Ç—å –º—ã –º–æ–∂–µ–º —Ä–∞–∑–±–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–∏—Ç–∏—è –ø–æ–ø—É–ª—è—Ü–∏–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏, –∏—Ç–µ—Ä–∞—Ü–∏–∏.

–ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–ø—É–ª—è—Ü–∏—è –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–º —à–∞–≥–æ–º —ç–≤–æ–ª—é—Ü–∏–∏. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –º—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –∫–æ –≤—Å–µ–º –∫–ª–µ—Ç–∫–∞–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –∏ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º —ç–≤–æ–ª—é—Ü–∏–∏.

–§—É–Ω–∫—Ü–∏—è —ç–≤–æ–ª—é—Ü–∏–∏ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ ‚Äî [—á–∏—Å—Ç–∞—è](https://ru.hexlet.io/courses/introduction_to_programming/lessons/pure/theory_unit), –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ø—É–ª—è—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã. –ù–æ —á—Ç–æ–±—ã –±—ã–ª–æ —É–¥–æ–±–Ω–µ–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–ø—É–ª—è—Ü–∏—é –∏ —Å–≤–æ–π—Å—Ç–≤–∞ ¬´–º–∏—Ä–∞¬ª, –º—ã –Ω–∞–ø–∏—à–µ–º –∫–ª–∞—Å—Å `World`:

```js
// life/world.js

export class World {
  constructor(rows, columns, population) {
    this.rows = rows;
    this.columns = columns;
    this.population = population;
  }
}
```

–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –º–∏—Ä–∞ –≤ –∫–ª–µ—Ç–æ—á–∫–∞—Ö –∏ –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–ø—É–ª—è—Ü–∏—é. –î–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —ç–≤–æ–ª—é—Ü–∏–∏ –Ω–∞–ø–∏—à–µ–º –º–µ—Ç–æ–¥ `evolve`. –í –Ω—ë–º –∑–∞–≤–µ–¥—ë–º –æ–±—ä–µ–∫—Ç `evolved`, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ø—É–ª—è—Ü–∏–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ. –ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –º—ã –∑–∞–º–µ–Ω–∏–º —Å—Ç–∞—Ä—É—é –ø–æ–ø—É–ª—è—Ü–∏—é –Ω–∞ `evolved`:

```js
// life/world.js

export class World {
  // ‚Ä¶

  evolve = () => {
    const evolved = {};
    const checked = {};

    // TODO: –ó–¥–µ—Å—å –±—É–¥—É—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è‚Ä¶

    this.population = evolved;
  };
}
```

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Å—Ç–∏ —Å–∞–º–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ –∫–∞–∂–¥–æ–π –∂–∏–≤–æ–π –∫–ª–µ—Ç–∫–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ª–∏ –æ–Ω–∞ –∂–∏–≤–æ–π. –í—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ –∫–ª–µ—Ç–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –∂–∏–≤–æ–π, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –Ω–µ—ë 2 –∏–ª–∏ 3 –∂–∏–≤—ã—Ö —Å–æ—Å–µ–¥–∞:

```js
// life/world.js

evolve = () => {
  const evolved = {};
  const checked = {};

  Object.values(this.population).forEach((agent) => {
    const alive = countAliveAround(agent, this.population);

    if (alive === 2 || alive === 3) {
      const { x, y } = agent;
      evolved[`${x}:${y}`] = agent;
    }

    // TODO: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å–µ–¥–µ–π‚Ä¶
  });
};
```

–ú—ã –¥–æ–±–∞–≤–ª—è–µ–º –≤—ã–∂–∏–≤—à–∏–µ –∫–ª–µ—Ç–∫–∏ –≤ –Ω–æ–≤—É—é –ø–æ–ø—É–ª—è—Ü–∏—é `evolved`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Ç–æ–º –∑–∞–º–µ–Ω–∏—Ç —Ç–µ–∫—É—â—É—é. –û—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –Ω–∞–º –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–ø—É–ª—è—Ü–∏—é –ø–æ —Ö–æ–¥—É –µ—ë –æ–±—Ä–∞–±–æ—Ç–∫–∏.

–ú—ã –Ω–µ –º–æ–∂–µ–º –º–µ–Ω—è—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–ø—É–ª—è—Ü–∏—é, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç—Ä–∞–∑—è—Ç—Å—è –Ω–∞ –ø–µ—Ä–µ—Å—á—ë—Ç–µ –¥—Ä—É–≥–∏—Ö –∫–ª–µ—Ç–æ–∫, –∞ —ç—Ç–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ. –ù–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ _—Å—Ä–∞–∑—É –∫–æ –≤—Å–µ–º_ –∫–ª–µ—Ç–∫–∞–º –≤ —Ç–µ–∫—É—â–µ–π –ø–æ–ø—É–ª—è—Ü–∏–∏. –ê –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—è —Ç–µ–∫—É—â—É—é –ø–æ–ø—É–ª—è—Ü–∏—é, —Ç–æ —ç—Ç–æ —É—Å–ª–æ–≤–∏–µ —É–∂–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è.

–ö—Ä–æ–º–µ —Å–∞–º–æ–π –∫–ª–µ—Ç–∫–∏ –Ω–∞–º —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –µ—ë —Å–æ—Å–µ–¥–µ–π. –ï—Å–ª–∏ —É —Å–æ—Å–µ–¥–Ω–µ–π –∫–ª–µ—Ç–∫–∏ 3 –∂–∏–≤—ã—Ö —Å–æ—Å–µ–¥–∞, –æ–Ω–∞ —Ä–æ–∂–¥–∞–µ—Ç—Å—è:

```js
Object.values(this.population).forEach((agent) => {
  // ‚Ä¶

  neighborsOf(agent).forEach((neighbor) => {
    const { x, y } = neighbor;

    if (checked[`${x}:${y}`]) return;
    checked[`${x}:${y}`] = true;

    if (countAliveAround(neighbor, this.population) !== 3) return;
    evolved[`${x}:${y}`] = createAgent(x, y);
  });
});
```

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç `checked`, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ –∫–ª–µ—Ç–∫–∏. –¢–∞–∫ –∫–∞–∫ —Å–æ—Å–µ–¥–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–º–µ–Ω—è—Ç—å—Å—è –Ω–µ –º–æ–≥—É—Ç, –ø–æ—Å—á–∏—Ç–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–º–µ–Ω—è—Ç—å—Å—è –Ω–µ –¥–æ–ª–∂–µ–Ω, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å.

## –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ú–µ—Ç–æ–¥ –¥–ª—è —ç–≤–æ–ª—é—Ü–∏–∏ –≥–æ—Ç–æ–≤. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –Ω–∞ –∫–∞–∫–æ–º-–Ω–∏–±—É–¥—å –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–µ. [–û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã](https://www.conwaylife.com/wiki/Oscillator) –≤ –∏–≥—Ä–µ ¬´–ñ–∏–∑–Ω—å¬ª ‚Äî —ç—Ç–æ —Ñ–∏–≥—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –∑–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –≤ —Å–µ–±—è –∂–µ.

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä ‚Äî [–±–ª–∏–Ω–∫–µ—Ä](https://www.conwaylife.com/wiki/Blinker). –≠—Ç–æ —Ñ–∏–≥—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Å—Ü–∏–ª–ª–∏—Ä—É–µ—Ç –º–µ–∂–¥—É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø–æ–ª–æ—Å–æ–π –¥–ª–∏–Ω–æ–π –≤ 3 –∫–ª–µ—Ç–∫–∏ –∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –ø–æ–ª–æ—Å–æ–π –≤—ã—Å–æ—Ç–æ–π –≤ 3 –∫–ª–µ—Ç–∫–∏:

<Figure
  src="https://www.conwaylife.com/w/images/b/b9/Blinker.gif"
  alt="–ë–ª–∏–Ω–∫–µ—Ä –Ω–∞ –ø–æ–ª–µ"
  cite="https://www.conwaylife.com/wiki/Blinker"
/>

–ù–∞–ø–∏—à–µ–º —Ç–∞–∫–æ–π –±–ª–∏–Ω–∫–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –Ω–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–µ—Ç —ç—Ç—É —Ñ–∏–≥—É—Ä—É. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–∑–¥–∞–¥–∏–º HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–¥–∫–ª—é—á–∏–º —Å–∫—Ä–∏–ø—Ç —Å —Ç–∏–ø–æ–º `module` ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å:

```
<script type="module" src="./main.js"></script>
```

–ê—Ç—Ä–∏–±—É—Ç `type="module"` –≥–æ–≤–æ—Ä–∏—Ç –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JS-–º–æ–¥—É–ª–∏. –í–Ω—É—Ç—Ä–∏ [JS-–º–æ–¥—É–ª—è](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules) –º—ã —Å–º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã, —Å–≤–µ–∂–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –≤—Å—ë —Ç–∞–∫–æ–µ. –≠—Ç–æ –∏–∑–±–∞–≤–∏—Ç –Ω–∞—Å –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ç–∞—â–∏—Ç—å —Å–±–æ—Ä–∫—É –≤ –ø—Ä–æ–µ–∫—Ç: –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∫—Ä–∏–ø—Ç –∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –∫–∞–∫ –≤ —Å—Ç–∞—Ä—ã–µ –¥–æ–±—Ä—ã–µ –≤—Ä–µ–º–µ–Ω–∞, —Ç–æ–ª—å–∫–æ —Å —à–∞—à–µ—á–∫–∞–º–∏ –∏ –µ—Ö–∞—Ç—å –ø—Ä–æ—â–µ.

–°–æ–∑–¥–∞–¥–∏–º –º–∏—Ä –∏ –ø–æ–ø—É–ª—è—Ü–∏—é –≤ –≤–∏–¥–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø–æ–ª–æ—Å–∫–∏ –∏–∑ 3 –∫–ª–µ—Ç–æ–∫:

```js
// main.js

import { World } from "./life/world.js";

const population = {
  "0:1": { x: 0, y: 1 },
  "1:1": { x: 1, y: 1 },
  "2:1": { x: 2, y: 1 },
};

const world = new World(5, 5, population);
```

–ê —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–±—É–µ–º –ø—Ä–æ–≤–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Ç–µ—Ä–∞—Ü–∏–π —ç–≤–æ–ª—é—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø–æ–ø—É–ª—è—Ü–∏—è. –£ –±–ª–∏–Ω–∫–µ—Ä–∞ –ø–µ—Ä–∏–æ–¥ —Ä–∞–≤–µ–Ω 2 –∏—Ç–µ—Ä–∞—Ü–∏—è–º ‚Äî —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–µ 2 —Ö–æ–¥–∞ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–≤–æ–µ–π –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ. –ü—Ä–æ–≤–µ—Ä–∏–º —ç—Ç–æ:

```js
// main.js
// ‚Ä¶

world.evolve();
console.log(world.population);
// {1:0: {x: 1, y: 0}, 1:2: {x: 1, y: 2}, 1:1: {x: 1, y: 1}}

world.evolve();
console.log(world.population);
// {0:1: {x: 0, y: 1}, 2:1: {x: 2, y: 1}, 1:1: {x: 1, y: 1}}
```

–ò –ø—Ä–∞–≤–¥–∞, –Ω–∞ –≤—Ç–æ—Ä–æ–º —à–∞–≥–µ –ø–æ–ø—É–ª—è—Ü–∏—è –≤–µ—Ä–Ω—É–ª–∞—Å—å –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π. ‚Ä¶–ù–æ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –ø–æ–ø—É–ª—è—Ü–∏—é –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ—É–¥–æ–±–Ω–æ. –•–æ—á–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –†–µ–∞–ª–∏–∑—É–µ–º –∏ –µ–≥–æ!

## –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–æ–ø—É–ª—è—Ü–∏–∏

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `canvas` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä–∞—Ñ–∏–∫–æ–π –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏ –≤ –∏–≥—Ä–µ. –î–æ–±–∞–≤–∏–º —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É:

```
<canvas width="400" height="300" id="canvas"></canvas>
<script type="module" src="./main.js"></script>
```

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–Ω–≤–∞—Å–æ–º –º—ã —Å–æ–∑–¥–∞–¥–∏–º –µ—â—ë –æ–¥–∏–Ω –º–æ–¥—É–ª—å, –Ω–∞–∑–æ–≤—ë–º –µ–≥–æ `Drawer`. –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –±—É–¥–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ –∏ –≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–ª–æ—Ç–Ω–æ –∫ —Ä–∏—Å–æ–≤–∞–Ω–∏—é:

```js
// dom/drawer.js

export class Drawer {
  constructor(kernelSize) {
    // –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç:
    const canvas = document.getElementById("canvas");
    const context = canvas.getContext("2d");
    const [width, height] = [canvas.offsetWidth, canvas.offsetHeight];

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
    this.context = context;
    this.kernel = kernelSize;

    this.width = width;
    this.height = height;

    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫ –∏ —Ä—è–¥–æ–≤ –Ω–∞ –ø–æ–ª–µ:
    this.rows = Math.floor(height / this.kernel);
    this.columns = Math.floor(width / this.kernel);

    // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö —Å –≤—ã—Å–æ–∫–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –ø–∏–∫—Å–µ–ª–µ–π:
    this.normalizeScale();
  }
}
```

–ß—Ç–æ–±—ã —Ä–∏—Å—É–Ω–æ–∫ –Ω–µ –±—ã–ª –º—ã–ª—å–Ω—ã–º –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö —Å –≤—ã—Å–æ–∫–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç—å—é –ø–∏–∫—Å–µ–ª–µ–π, –º—ã [–æ—Ç–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º](https://www.html5rocks.com/en/tutorials/canvas/hidpi/) —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –ø–æ–ª–æ—Ç–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—è `window.devicePixelRatio`:

```js
// dom/drawer.js

export class Drawer {
  // ‚Ä¶

  normalizeScale = () => {
    const { devicePixelRatio: pixelRatio } = window;

    if (pixelRatio > 1) {
      canvas.width = this.width * pixelRatio;
      canvas.height = this.height * pixelRatio;
      canvas.style.width = `${this.width}px`;
      canvas.style.height = `${this.height}px`;
      this.context.scale(pixelRatio, pixelRatio);
    }
  };
}
```

–°–µ—Ç–∫—É –º–∏—Ä–∞ –Ω–∞—Ä–∏—Å—É–µ–º —Å –ø–æ–º–æ—â—å—é –ª–∏–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–∏–º —á–µ—Ä–µ–∑ [`lineTo`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineTo). –†–∞—Å—Å—Ç–∞–≤–∏–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ –≤ `kernelSize` –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞:

```js
// dom/drawer.js

export class Drawer {
  // ‚Ä¶

  drawGrid = () => {
    this.context.strokeStyle = "rgba(0,0,0, 0.3)";

    // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏:
    for (let i = 0; i < this.width; i += this.kernel) {
      this.context.beginPath();
      this.context.moveTo(i, 0);
      this.context.lineTo(i, this.height);
      this.context.stroke();
    }

    // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏:
    for (let j = 0; j < this.height; j += this.kernel) {
      this.context.beginPath();
      this.context.moveTo(0, j);
      this.context.lineTo(this.width, j);
      this.context.stroke();
    }
  };
}
```

–í–æ–∑—å–º—ë–º –∏–∑ –ø–æ–ø—É–ª—è—Ü–∏–∏ –≤—Å–µ –∂–∏–≤—ã–µ –∫–ª–µ—Ç–∫–∏ –∏ –Ω–∞—Ä–∏—Å—É–µ–º —á—ë—Ä–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ –∏—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é [`fillRect`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillRect):

```js
// dom/drawer.js

export class Drawer {
  // ‚Ä¶

  drawWorld = (world) => {
    this.context.fillStyle = "#000000";

    world.agents.forEach((agent) => {
      this.context.fillRect(agent.x * this.kernel, agent.y * this.kernel, this.kernel, this.kernel);
    });
  };
}
```

–°–µ–π—á–∞—Å –≤ –∫–ª–∞—Å—Å–µ `World` –Ω–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ `agents`, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–µ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–µ—Ç–æ–∫. (–ü–æ–º–Ω–∏–º, —á—Ç–æ –ø–æ–ø—É–ª—è—Ü–∏—è ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç.) –°–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–¥–æ–±–Ω–µ–µ, –ø–æ—ç—Ç–æ–º—É –¥–æ–±–∞–≤–∏–º –≥–µ—Ç—Ç–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∂–∏–≤—ã—Ö –∫–ª–µ—Ç–æ–∫:

```js
// life/world.js

export class World {
  // ‚Ä¶

  get agents() {
    return Object.values(this.population);
  }
}
```

–¢–µ–ø–µ—Ä—å –≤ –≥–ª–∞–≤–Ω–æ–º –º–æ–¥—É–ª–µ –≤—ã–∑–æ–≤–µ–º –æ—Ç—Ä–∏—Å–æ–≤—â–∏–∫ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```js
// main.js
// ‚Ä¶

const drawer = new Drawer(20);
const world = new World(5, 5, population);

function liveGeneration() {
  drawer.drawGrid();
  drawer.drawWorld(world);
}

liveGeneration();
```

–ü–æ–ª—É—á–∏–ª—Å—è –±–ª–∏–Ω–∫–µ—Ä –≤ –µ–≥–æ –Ω–∞—á–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:

![–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∏–≥—É—Ä—ã ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–æ–ª–æ—Å–∞ –∏–∑ 3 –∫–ª–µ—Ç–æ–∫](/img/blog/life-blinker-1.png)

–ü—Ä–æ–≤–µ—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –¥–æ–±–∞–≤–∏–º —ç–≤–æ–ª—é—Ü–∏—é:

```js
// main.js
// ‚Ä¶

function liveGeneration() {
  world.evolve();
  drawer.drawGrid();
  drawer.drawWorld(world);
}

liveGeneration();
```

–û—Ç–ª–∏—á–Ω–æ, –±–ª–∏–Ω–∫–µ—Ä —Å—Ç–∞–ª –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º ‚Äî —ç—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –æ–∂–∏–¥–∞–ª–∏ –æ—Ç –Ω–µ–≥–æ.

![–ë–ª–∏–Ω–∫–µ—Ä –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é –ø–æ–ª–æ—Å—É –∏–∑ 3 –∫–ª–µ—Ç–æ–∫](/img/blog/life-blinker-2.png)

–ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –º–µ–Ω—è—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ä—É–∫–∞–º–∏ ‚Äî –¥–µ–ª–æ –ø—É—Å—Ç–æ–µ, –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω—É–∂–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤—ã—Ö —à–∞–≥–æ–≤ —ç–≤–æ–ª—é—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª.

## –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª

[–ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª](https://www.informit.com/articles/article.aspx?p=2167437&seqNum=2) (–∞–Ω–≥–ª. Game Loop) ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ –∏–≥—Ä–∞—Ö –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –æ–Ω –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —ç–≤–æ–ª—é—Ü–∏–∏.

–ù–∞–ø–∏—à–µ–º –≤ –≥–ª–∞–≤–Ω–æ–º –º–æ–¥—É–ª–µ [—Å–∞–º–æ–∑–∞–ø—É—Å–∫–∞—é—â—É—é—Å—è —Ñ—É–Ω–∫—Ü–∏—é](https://developer.mozilla.org/en-US/docs/Glossary/IIFE) `gameLoop`:

```js
// main.js
// ‚Ä¶

(function gameLoop() {
  liveGeneration();
  window.requestAnimationFrame(gameLoop);
})();
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–ø–µ—Ä–≤–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–µ—Å—á—ë—Ç –ø–æ–ø—É–ª—è—Ü–∏–∏ (`liveGeneration`), –∞ –ø–æ—Ç–æ–º [–ø—Ä–æ—Å–∏—Ç –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å](https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame) —Å–µ–±—è –µ—â—ë —Ä–∞–∑ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–æ–π (repaint).

–ù–æ –µ—Å–ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏–º –∏–≥—Ä—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, —Ç–æ –ø–æ–ª–æ—Ç–Ω–æ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–Ω–µ—Ç —á—ë—Ä–Ω—ã–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –Ω–µ —Å—Ç–∏—Ä–∞–µ–º —Ç–æ, —á—Ç–æ –±—ã–ª–æ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–æ —Ä–∞–Ω—å—à–µ üòÉ

–î–ª—è –æ—á–∏—â–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ `reset` –≤ –∫–ª–∞—Å—Å–µ `Drawer`. –°–ø–µ—Ä–≤–∞ –æ—á–∏—Å—Ç–∏–º –≤—Å—ë –ø–æ–ª–µ —Å –ø–æ–º–æ—â—å—é [`clearRect`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect), –∞ –ø–æ—Ç–æ–º –Ω–∞—Ä–∏—Å—É–µ–º —Å–µ—Ç–∫—É:

```js
// dom/drawer.js

export class Drawer {
  reset = () => {
    this.context.clearRect(0, 0, this.width, this.height);
    this.drawGrid();
  };
}
```

–¢–µ–ø–µ—Ä—å –Ω–µ–º–Ω–æ–≥–æ –æ–±–Ω–æ–≤–∏–º —Ñ—É–Ω–∫—Ü–∏—é `liveGeneration` –≤ –≥–ª–∞–≤–Ω–æ–º –º–æ–¥—É–ª–µ, —á—Ç–æ–±—ã –ø–æ–ª–æ—Ç–Ω–æ –æ—á–∏—â–∞–ª–æ—Å—å –ø–µ—Ä–µ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π –Ω–æ–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:

```js
// main.js

function liveGeneration() {
  drawer.reset();
  world.evolve();
  drawer.drawWorld(world);
}

(function gameLoop() {
  liveGeneration();
  window.requestAnimationFrame(gameLoop);
})();
```

–ù—É –∏ —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ–≤—ã–π —à–∞–≥ —ç–≤–æ–ª—é—Ü–∏–∏, –¥–æ–±–∞–≤–∏–º –Ω–µ–±–æ–ª—å—à–æ–π —Ç–∞–π–º–µ—Ä –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º:

```js
// main.js

(function gameLoop() {
  liveGeneration();
  setTimeout(() => window.requestAnimationFrame(gameLoop), 100);
})();
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

<YouTube
  src="https://www.youtube.com/embed/9TjNHrqgd1s"
  caption="–ë–ª–∏–Ω–∫–µ—Ä –æ—Å—Ü–∏–ª–ª–∏—Ä—É–µ—Ç –º–µ–∂–¥—É –¥–≤—É–º—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏"
/>

## –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–ø—É–ª—è—Ü–∏—è

–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –±–ª–∏–Ω–∫–µ—Ä –æ—Å–æ–±–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç üòÖ

–î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∫–ª–µ—Ç–∫–∞–º–∏, —Ç–æ–≥–¥–∞ –º—ã —Å–º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Ñ–∏–≥—É—Ä—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞ –∏ –∫–∞–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç —ç–≤–æ–ª—é—Ü–∏—è –Ω–∞ –±–æ–ª—å—à–∏—Ö –ø–æ–ø—É–ª—è—Ü–∏—è—Ö.

–í —Ñ—É–Ω–∫—Ü–∏—é `populateRandom` –ø–µ—Ä–µ–¥–∞–¥–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∏ –∫–æ–ª–æ–Ω–æ–∫ –∏–∑ –º–∏—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –Ω–∞—Å–µ–ª–∏—Ç—å. –î–∞–ª–µ–µ –ø—Ä–æ–π–¥—ë–º –ø–æ –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–µ –∏–∑ —Å–µ—Ç–∫–∏ –∏ –∑–∞–ø—É—Å—Ç–∏–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –±–∏–Ω–∞—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (`true` / `false`). –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª–æ—Å—å `true`, –¥–æ–±–∞–≤–∏–º –∂–∏–≤—É—é –∫–ª–µ—Ç–∫—É –≤ –ø–æ–ø—É–ª—è—Ü–∏—é, –µ—Å–ª–∏ –Ω–µ—Ç, –Ω–∏—á–µ–≥–æ –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å:

```js
// life/population/random.js

export function populateRandom(rows, columns) {
  const population = {};

  range(columns).forEach((_, i) => {
    range(rows).forEach((_, j) => {
      if (Math.random() <= 0.5) return;
      population[`${i}:${j}`] = createAgent(i, j);
    });
  });

  return population;
}
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∫–ª–∞—Å—Å–∞ `World`. –¢–∞–∫, –µ—Å–ª–∏ –µ–º—É –Ω–µ –ø–µ—Ä–µ–¥–∞–ª–∏ –Ω–∏–∫–∞–∫–æ–π –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–ø—É–ª—è—Ü–∏–∏, —Ç–æ –æ–Ω –∑–∞—Å–µ–ª–∏—Ç –º–∏—Ä —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∫–ª–µ—Ç–∫–∞–º–∏:

```js
// life/world.js

export class World {
  constructor(rows, columns, population = populateRandom(rows, columns)) {
    this.rows = rows;
    this.columns = columns;
    this.population = population;
  }

  // ‚Ä¶
}
```

–£–±–µ—Ä—ë–º –∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è –ª–∏—à–Ω–∏–π –∫–æ–¥ –∏ –æ–±–Ω–æ–≤–∏–º —Ä–∞–∑–º–µ—Ä—ã –ø–æ–ª—è:

```js
// main.js

const drawer = new Drawer(10);
const world = new World(30, 40);

function liveGeneration() {
  drawer.reset();
  world.evolve();
  drawer.drawWorld(world);
}

(function gameLoop() {
  liveGeneration();
  setTimeout(() => window.requestAnimationFrame(gameLoop), 100);
})();
```

‚Ä¶–ò –ø–æ–ª—É—á–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∏–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º—ã –≤—Å—ë —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ ü•≥

<YouTube
  src="https://www.youtube.com/embed/qMn6za1Ycv8"
  caption="–≠–≤–æ–ª—é—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–π –ø–æ–ø—É–ª—è—Ü–∏–∏ –≤ –∏–≥—Ä–µ"
/>

## –í —Å–ª–µ–¥—É—é—â–∏—Ö –ø–æ—Å—Ç–∞—Ö

–ú—ã —Å–æ–∑–¥–∞–ª–∏ –æ—Å–Ω–æ–≤—É –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–ø—É–ª—è—Ü–∏–π, –Ω–æ –ø–æ–∫–∞ —á—Ç–æ –Ω–∏–∫–∞–∫ –Ω–µ –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å ¬´—Å–∏–≥–Ω–∞–ª¬ª –∏–∑ –∂–∏–≤—ã—Ö –∫–ª–µ—Ç–æ–∫, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ö–µ–º.

[–í —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Å—Ç–µ](/blog/binary-adder-in-the-game-of-life-2) –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –±–∞–∑–æ–≤—ã–µ —Ñ–∏–≥—É—Ä—ã –∏–∑ –∏–≥—Ä—ã ¬´–ñ–∏–∑–Ω—å¬ª: –≥–ª–∞–π–¥–µ—Ä, –ø—É—à–∫—É –∏ –æ—Ç—Ä–∞–∂–∞—Ç–µ–ª—å. –° –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö —Ñ–∏–≥—É—Ä –º—ã —Å–º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤—É –¥–ª—è –±–∏–Ω–∞—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏ ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≥–µ–π—Ç—ã NOT, OR, AND –∏ XOR.

[–í –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø–æ—Å—Ç–µ](/blog/binary-adder-in-the-game-of-life-3) –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–∏ –≥–µ–π—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—É—Å—É–º–º–∞—Ç–æ—Ä–∞, –ø–æ–ª–Ω–æ–≥–æ —Å—É–º–º–∞—Ç–æ—Ä–∞, –∞ —Å–ª–µ–¥–æ–º –∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–≤–∞ –¥–≤—É–±–∏—Ç–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è.

## –°—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã

- [–ò—Å—Ö–æ–¥–Ω–∏–∫–∏](https://github.com/bespoyasov/binary-full-adder-in-the-game-of-life)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](https://bespoyasov.ru/showcase/game-of-life/)

### –î—Ä—É–≥–∏–µ –ø–æ—Å—Ç—ã –∏–∑ —Å–µ—Ä–∏–∏

- [–í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å: —Ä–µ–∞–ª–∏–∑—É–µ–º –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≥–µ–π—Ç—ã](/blog/binary-adder-in-the-game-of-life-2)
- [–¢—Ä–µ—Ç—å—è —á–∞—Å—Ç—å: —Ä–µ–∞–ª–∏–∑—É–µ–º —Å—Ö–µ–º—ã —Å—É–º–º–∞—Ç–æ—Ä–æ–≤](/blog/binary-adder-in-the-game-of-life-3)

### –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –∏–≥—Ä—ã

- [–ò–≥—Ä–∞ ¬´–ñ–∏–∑–Ω—å¬ª –Ω–∞ –í–∏–∫–∏](https://ru.wikipedia.org/wiki/–ò–≥—Ä–∞_¬´–ñ–∏–∑–Ω—å¬ª)
- [–ö–ª–µ—Ç–æ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç](https://ru.wikipedia.org/wiki/–ö–ª–µ—Ç–æ—á–Ω—ã–π_–∞–≤—Ç–æ–º–∞—Ç)
- [–ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è](https://ru.hexlet.io/courses/introduction_to_programming/lessons/pure/theory_unit)
- [Game Loop](https://www.informit.com/articles/article.aspx?p=2167437&seqNum=2)

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –Ω–∞ Python](https://medium.com/@martin.robertandrew/conways-game-of-life-in-python-2900a6dcdc97)
- [–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ JavaScript](https://spicyyoghurt.com/tutorials/javascript/conways-game-of-life-canvas)

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Ñ–∏–≥—É—Ä—ã

- [–ë–ª–∏–Ω–∫–µ—Ä –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π –í–∏–∫–∏–ø–µ–¥–∏–∏ –æ–± –∏–≥—Ä–µ](https://www.conwaylife.com/wiki/Blinker)
- [–û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã –≤ –∏–≥—Ä–µ](https://www.conwaylife.com/wiki/Oscillator)

### –†–∞–±–æ—Ç–∞ —Å `canvas` –∏ DOM

- [High DPI canvas](https://www.html5rocks.com/en/tutorials/canvas/hidpi/)
- [`fillRect`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillRect)
- [`lineTo`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineTo)
- [`clearRect`](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect)
- [`requestAnimationFrame`](https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame)
- [JavaScript Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)
- [IIFE](https://developer.mozilla.org/en-US/docs/Glossary/IIFE)
