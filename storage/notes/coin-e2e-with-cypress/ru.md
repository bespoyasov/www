---
title: –ï2–ï-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–π–Ω–∞
description: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤ –ö–æ–π–Ω–µ —Å –ø–æ–º–æ—â—å—é Cypress.
datetime: 2018-06-06T14:00
cover: test-invalid.webp
tags:
  - automatization
  - cypress
  - favorite
  - mobile
  - process
  - product
  - refactoring
  - tools
  - testing
---

# –ï2–ï-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–π–Ω–∞

[–ö–æ–π–Ω](http://www.fuckgrechka.ru/c0in/) ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤. –ú—ã –¥–µ–ª–∞–µ–º –µ–≥–æ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —Ä–µ–∂–∏–º–µ –∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ–º –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞ [—Å—Ç—Ä–∏–º–∞—Ö](https://www.youtube.com/channel/UCqj9pIAocL8NUMonrMENZnQ). –í —ç—Ç–æ–º –ø–æ—Å—Ç–µ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫ —Ç–µ—Å—Ç–∏—Ä—É—é –≤ –ö–æ–π–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

–°–µ–π—á–∞—Å –≤ –Ω—ë–º —Ç—Ä–∏ –≤–∞–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è: –≤—Ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –∏ –∑–∞–ø–∏—Å—å —Ç—Ä–∞—Ç—ã –∏–ª–∏ –¥–æ—Ö–æ–¥–∞. –õ–æ–≥–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∞ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏, –Ω–æ —ç—Ç–æ–≥–æ –º–∞–ª–æ. –•–æ—á–µ—Ç—Å—è –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —á—Ç–æ –µ—Å–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≥–¥–µ-—Ç–æ —Å–ª–æ–º–∞—é—Ç—Å—è, —Ç–æ —è –æ–± —ç—Ç–æ–º —É–∑–Ω–∞—é —Å—Ä–∞–∑—É. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ö–æ–π–Ω–∞ —è –ø–∏—à—É –µ—â—ë –∏ E2E —Ç–µ—Å—Ç—ã.

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

[End-to-end (E2E) —Ç–µ—Å—Ç—ã](https://toster.ru/q/401848) ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Ç–∞–∫, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–ª –±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –î–ª—è –Ω–∏—Ö —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –Ω–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è [–°–∞–π–ø—Ä–µ—Å](https://www.cypress.io).

–ü–æ—Å–ª–µ –µ–≥–æ [—É—Å—Ç–∞–Ω–æ–≤–∫–∏](https://docs.cypress.io/guides/getting-started/installing-cypress.html) –∏ –∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–∞–ø–∫–∞ `cypress/`. –í–Ω—É—Ç—Ä–∏ –Ω–µ—ë: `integration/` ‚Äî —Ç–∞–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Å–∞–º–∏ —Ç–µ—Å—Ç—ã, –∏ `support/` ‚Äî —Ç–∞–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–± —ç—Ç–æ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –¥–∞–ª—å—à–µ).

## –í—Ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–í—Ö–æ–¥ –≤ —Å–∞–º –ö–æ–π–Ω –ø–æ–∫–∞ —á—Ç–æ –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º, –∏ –¥–ª—è –≤—Ö–æ–¥–∞ –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥. –ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π, —Å –∫–æ—Ç–æ—Ä—ã–º —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –≤–≤–æ–¥ –∫–æ–¥–∞ –¥–ª—è –≤—Ö–æ–¥–∞.

–ò—Å—Ö–æ–¥–∞ —É —Å—Ü–µ–Ω–∞—Ä–∏—è –¥–≤–∞: —É—Å–ø–µ—à–Ω—ã–π –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥. –ü–∏—à–µ–º —Ç–µ—Å—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π —Å–ª—É—á–∞–π.

```js
describe('Login window', () => {
	it('Valid code passes login', () => {
		// –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∞
	});
});
```

–ù–∞–º –Ω–∞–¥–æ –∑–∞–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–ø–∞—Å—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º—ã –∑–∞–π–¥—ë–º —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `visit`, –ø–µ—Ä–µ–¥–∞–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –∞–¥—Ä–µ—Å:

```js
// –∫ –ø—Ä–∏–º–µ—Ä—É –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
cy.visit('localhost:8081');
```

–ü—Ä–æ–≤–µ—Ä–∏–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞, –∏ –ø—É—Å—Ç–æ–µ –ª–∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞. –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∏ —Ç–æ, —á—Ç–æ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ:

```js
cy.get('.login').should('have.length', 1);
cy.get('.login-code').should('be.empty');
```

–í—ã–±–æ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –°–∞–π–ø—Ä–µ—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ö–æ–∂–µ –Ω–∞ –î–∂–µ–π–∫–≤–µ—Ä–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –º—ã –≤—ã–±–∏—Ä–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∫–ª–∞—Å—Å–∞–º. –ú–µ—Ç–æ–¥ `should` –ø—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–ª—å–∫–æ 1 —ç–ª–µ–º–µ–Ω—Ç —Å –∫–ª–∞—Å—Å–æ–º `login`, –∞ —ç–ª–µ–º–µ–Ω—Ç —Å –∫–ª–∞—Å—Å–æ–º `login-code` –ø—É—Å—Ç–æ–π.

–ù–∞–±–æ—Ä —Ç–µ–∫—Å—Ç–∞ –≤ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞ –≤ –°–∞–π–ø—Ä–µ—Å–µ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ [`type`](https://docs.cypress.io/api/commands/type.html). –ù–æ –≤ –ö–æ–π–Ω–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –Ω–µ–Ω–∞—Ç–∏–≤–Ω–∞—è –∏ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ —Ç–∞–º —Ç–æ–∂–µ –Ω–µ—Ç. –í–º–µ—Å—Ç–æ –Ω–∏—Ö ‚Äî –±–ª–æ–∫–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ¬´–Ω–∞–±—Ä–∞–Ω–Ω–∞—è¬ª –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ß—Ç–æ–±—ã –Ω–∞–±—Ä–∞—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–¥ –Ω–∞ –Ω–∞—à–µ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –Ω–∞–¥–æ ¬´–Ω–∞–∂–∞—Ç—å¬ª –∫–ª–∞–≤–∏—à—É —Å –Ω—É–∂–Ω–æ–π —Ü–∏—Ñ—Ä–æ–π. –ú—ã –±—É–¥–µ–º —Ä–∞–∑–±–∏–≤–∞—Ç—å –∫–æ–¥ –Ω–∞ —Å–∏–º–≤–æ–ª—ã –∏ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ –∫–ª–∞–≤–∏—à–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏.

–ú–µ—Ç–æ–¥ `contains` –∏—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–µ —Ç–µ–∫—Å—Ç, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äî —Å–∏–º–≤–æ–ª. –ú–µ—Ç–æ–¥ `closest` –Ω–∞—Ö–æ–¥–∏—Ç –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äî –∫–ª–∞—Å—Å–æ–º `button`.

```js
const chars = code.toString().split('');

chars.forEach((char) => {
	cy.get('.keyboard').contains(char).closest('.button').click();
});
```

–ö–æ–≥–¥–∞ –∫–æ–¥ –Ω–∞–±—Ä–∞–Ω, –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫—Ä–∞—Å–Ω—É—é –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã ¬´–æ—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª –∫–æ–¥.

```js
cy.get('.button.is-enter').click();
```

–ö–æ–¥ —Ç–µ—Å—Ç–∞ —Ü–µ–ª–∏–∫–æ–º –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```js
describe('Login window', () => {
	it('Valid code passes login', () => {
		// –∑–∞–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
		cy.visit('localhost:8081');

		// –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º—É
		cy.get('.login').should('have.length', 1);
		cy.get('.login-code').should('be.empty');

		// –≤–≤–µ—Å—Ç–∏ –∫–æ–¥
		const chars = validCode.toString().split('');

		chars.forEach((char) => {
			cy.get('.keyboard').contains(char).closest('.button').click();
		});

		// –Ω–∞–∂–∞—Ç—å —ç–Ω—Ç–µ—Ä
		cy.get('.button.is-enter').click();
	});
});
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –°–∞–π–ø—Ä–µ—Å –∑–∞–ø—É—Å—Ç–∏—Ç –±—Ä–∞—É–∑–µ—Ä, –ø—Ä–æ–≥–æ–Ω–∏—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –∏ –ø–æ–∫–∞–∂–µ—Ç, –ø—Ä–æ—à—ë–ª —Ç–µ—Å—Ç –∏–ª–∏ –Ω–µ—Ç. –í—ã–≥–ª—è–¥–∏—Ç —ç—Ç–æ —Ç–∞–∫:

![–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –Ω–∞ –≤—Ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](./test-login.webp)

## –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –≤—Ç–æ—Ä–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥—ë–º –∫ —Ç–µ—Å—Ç—É —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–¥–æ–º. –û–Ω –±—É–¥–µ—Ç —Ç–∞–∫–∏–º –∂–µ, —Ç–æ–ª—å–∫–æ –∫–æ–¥ –±—É–¥–µ—Ç –¥—Ä—É–≥–æ–π, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –ß—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –º—ã –º–æ–∂–µ–º –≤—ã–Ω–µ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏. –ù–æ —É –°–∞–π–ø—Ä–µ—Å–∞ –µ—Å—Ç—å –±–æ–ª–µ–µ –∏–∑—è—â–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –∫–æ–º–∞–Ω–¥—ã.

[–ö–æ–º–∞–Ω–¥—ã](https://docs.cypress.io/api/cypress-api/custom-commands.html) –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø–ª–∞–≥–∏–Ω—ã. –í—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–º–∞–Ω–¥—É, –∏ –æ–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ `cy`. –ö–æ–º–∞–Ω–¥—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `support/`, –∏—Ö –º–æ–∂–Ω–æ –∫–∞–∫ —É–≥–æ–¥–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–æ —Ñ–∞–π–ª–∞–º. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ `support/index.js`, —á—Ç–æ–±—ã –°–∞–π–ø—Ä–µ—Å –∏—Ö —É–≤–∏–¥–µ–ª.

–ê–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–µ–Ω—è—Ç—å—Å—è –Ω–µ –±—É–¥–µ—Ç, –ø–æ—ç—Ç–æ–º—É –≤—Ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–Ω–µ—Å–µ–º –≤ –∫–æ–º–∞–Ω–¥—É `enterApp`, –∞ —Å–∞–º –∞–¥—Ä–µ—Å –∑–∞–ø–∏—à–µ–º –≤ `fixtures/common.json`:

```js
import { baseUrl } from '../fixtures/common.json';

Cypress.Commands.add('enterApp', () => cy.visit(baseUrl));
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã —Ç–æ–∂–µ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è, –ø–æ—ç—Ç–æ–º—É –≤—ã–Ω–µ—Å–µ–º –µ—ë –≤ –∫–æ–º–∞–Ω–¥—É `appContainsEmptyLoginForm`.

```js
Cypress.Commands.add('appContainsEmptyLoginForm', () => {
	cy.get('.login').should('have.length', 1);
	cy.get('.login-code').should('be.empty');
});
```

–Ø –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –Ω–∞–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –ª–∏–±–æ:

- –≥–ª–∞–≥–æ–ª–æ–º —Å –¥–µ–π—Å—Ç–≤–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–¥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å: `enterApp`;
- –ø—Ä–µ–¥–∏–∫–∞—Ç–æ–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫: `appContainsEmptyLoginForm`.

–ü–µ—Ä–≤—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç, –∞ –ª–∏—à—å –≤—ã–ø–æ–ª–Ω—è—é—Ç –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–±–æ—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –í—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–æ, —á—Ç–æ –æ–ø–∏—Å–∞–Ω–æ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏.

–í–≤–æ–¥ —á–∏—Å–µ–ª –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –Ω–∞–º —Ç–æ–∂–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö —Ç–µ—Å—Ç–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É –µ–≥–æ –º—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –≤ –∫–æ–º–∞–Ω–¥—É `keyboardType`.

```js
Cypress.Commands.add('keyboardType', (str) => {
	const chars = str.toString().split('');

	chars.forEach((char) => {
		cy.get('.keyboard').contains(char).closest('.button').click();
	});
});
```

–ù–∞–∂–∞—Ç–∏–µ –Ω–∞ ¬´—ç–Ω—Ç–µ—Ä¬ª –Ω–∞–º —Ç–æ–∂–µ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö:

```js
Cypress.Commands.add('pressEnter', () => {
	cy.get('.button.is-enter').click();
});
```

–í –∏—Ç–æ–≥–µ –∫–æ–¥ —Ç–µ—Å—Ç–∞ —Å—Ç–∞–Ω–µ—Ç —Ç–∞–∫–∏–º:

```js
describe('Login', () => {
	it('Valid code passes login', () => {
		cy.enterApp();
		cy.appContainsEmptyLoginForm();
		cy.enterLoginCode(validCode);
		cy.get('.login').should('have.length', 0);
	});
});
```

–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º —Ç–µ—Å—Ç –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥:

```js
it('Invalid codes dont pass login', () => {
	cy.enterApp();
	cy.appContainsEmptyLoginForm();
	cy.enterLoginCode(invalidCode);
	cy.get('.login').should('have.length', 1);
});
```

–ö–∞–∫ –º—ã –≤–∏–¥–∏–º, –ø–µ—Ä–≤—ã–µ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –∫ —Å–µ—Ç–∞–ø —Ç–µ—Å—Ç–∞:

```js
describe('Login', () => {
	beforeEach(() => {
		cy.enterApp();
		cy.appContainsEmptyLoginForm();
	});

	it('Valid code passes login', () => {
		cy.enterLoginCode(validCode);
		cy.get('.login').should('have.length', 0);
	});

	it('Invalid codes dont pass login', () => {
		cy.enterLoginCode(invalidCode);
		cy.get('.login').should('have.length', 1);
	});
});
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —É–≤–∏–¥–∏–º —Ç–∞–∫—É—é –∫–∞—Ä—Ç–∏–Ω—É:

![–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–∫–∞–∑–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞ –≤—Ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](./test-invalid.webp)

–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ —Ç–µ—Å—Ç —Å–≤–∞–ª–∏—Ç—Å—è, —Ç–æ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω–æ, —á—Ç–æ –Ω–µ —Å–æ–≤–ø–∞–ª–æ. –°–∞–π–ø—Ä–µ—Å –æ—Ñ–∏–≥–∏—Ç–µ–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —É–∑–µ–ª –µ—ë –≤—ã–∑–≤–∞–ª, —á—Ç–æ –Ω–µ —Å–æ–≤–ø–∞–ª–æ, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–Ω–∞–ø—à–æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è. –¢–æ –µ—Å—Ç—å –º–æ–∂–Ω–æ —Ç–∫–Ω—É—Ç—å –º—ã—à—å—é –≤ —ç—Ç–æ—Ç –±–∞–≥, –∏ —Å–ø—Ä–∞–≤–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ —ç—Ç–æ –≤—Ä–µ–º—è!

![–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏](./test-error-message.webp)

## –°—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞

–í—Ç–æ—Ä–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–æ–≤—ã–π –±—é–¥–∂–µ—Ç, –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –≤–≤–µ—Å—Ç–∏ —Å—É–º–º—É, —Å—Ä–æ–∫ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å. –ü—Ä–æ–≤–µ—Ä–∏–º –∫–∞–∂–¥—ã–π —à–∞–≥.

–ó–∞–≤–µ–¥—ë–º –±—é–¥–∂–µ—Ç –∏–∑ 10000 –ø–æ–ø—É–≥–∞–µ–≤ –Ω–∞ 10 –¥–Ω–µ–π. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø–∏—à–µ—Ç –≤ –±—é–¥–∂–µ—Ç —Ç–æ–ª—å–∫–æ 95% –æ—Ç —Ç–æ–π —Å—É–º–º—ã, –∫–æ—Ç–æ—Ä—É—é –≤–≤–æ–¥–∏–º, —á—Ç–æ–±—ã –ø–ª–∞–Ω –Ω–µ –æ–∫–∞–∑–∞–ª—Å—è –≤–ø—Ä–∏—Ç—ã–∫. –ó–Ω–∞—á–∏—Ç, –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±—é–¥–∂–µ—Ç –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å 9500 –ø–æ–ø—É–≥–∞–µ–≤.

```js
describe('Budget creation', () => {
	before(() => {
		// –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ª–æ–≥–∏–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –º–∏–Ω—É—è —Ñ–æ—Ä–º—É
		cy.login();
		cy.enterApp();
		// –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—é–¥–∂–µ—Ç–∞
		cy.openBudgetSettings();
	});

	it('Inputs the budget sum and saves it', () => {
		cy.keyboardType('10000');
		cy.pressEnter();

		cy.get('.budget').contains('9500');
	});
});
```

–î–∞–ª—å—à–µ –≤—ã–±–∏—Ä–∞–µ–º —Å—Ä–æ–∫. –ú—ã –≤—ã–±–µ—Ä–µ–º 10 –¥–Ω–µ–π, –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω–∞–¥–æ –≤—ã–¥–µ–ª–∏—Ç—å 10-–π –ø—É–Ω–∫—Ç –≤ –∫—Ä—É—Ç–∏–ª–∫–µ —Å –¥–∞—Ç–∞–º–∏. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞—Ç—ã –¥–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Å—Ç–∞–ª–∏ –∫—Ä–∞—Å–Ω—ã–º–∏ –∏ —á—Ç–æ –≤ –±—é–¥–∂–µ—Ç–µ –ø–æ—è–≤–∏–ª–∞—Å—å —Å—Ç—Ä–æ–∫–∞ —Å —Å—É–º–º–æ–π –Ω–∞ –¥–µ–Ω—å.

```js
it('Inputs the budget time and saves it', () => {
	cy.get('.datepicker-item')
		// –∏–Ω–¥–µ–∫—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –Ω—É–ª—è, 10-–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî eq(9)
		.eq(9)
		.click();

	cy.get('.datepicker-item.has-red-color').should('have.length', 10);
	cy.get('.dialogue-secondary').contains('–Ω–∞ 10 –¥–Ω–µ–π. 950 –≤¬†–¥–µ–Ω—å');
	cy.get('.button.is-fixed-rb').click();
});
```

–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –ø–æ—Å—á–∏—Ç–∞–ª–∞—Å—å —Å—É–º–º–∞ –Ω–∞ –¥–µ–Ω—å. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∏ –≤ –¥—Ä—É–≥–∏—Ö —Ç–µ—Å—Ç–∞—Ö, –ø–æ—ç—Ç–æ–º—É —Å–æ–∑–¥–∞–¥–∏–º –∫–æ–º–∞–Ω–¥—É:

```js
Cypress.Commands.add('counterContains', (content) => {
	cy.get('.mainContent .dialogue .counter').contains(content);
});

it('Tests todays limit', () => {
	cy.counterContains(950);
});
```

–ò —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏–∏ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞:

```js
Cypress.Commands.add('budgetRecordContains', (sum, days) => {
	const $lastRecord = (selector) => cy.get('.timeline').find(selector).last();

	$lastRecord('.record--budget').contains(sum);
	$lastRecord('.record--budget').contains(days);
});

it('Tests history record', () => {
	cy.budgetRecordContains(9500, 10);
});
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —É–≤–∏–¥–∏–º —Ç–∞–∫—É—é –∫–∞—Ä—Ç–∏–Ω—É:

![–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞](./test-success.webp)

## –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ç—Ä–∞—Ç

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç—Ä–∞—Ç. –ï—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ç—Ä–∞—Ç: –∫–æ–≥–¥–∞ –±—é–¥–∂–µ—Ç–∞ –µ—â—ë –Ω–µ—Ç, –∏ –∫–æ–≥–¥–∞ –æ–Ω –∑–∞–¥–∞–Ω. –ß—Ç–æ–±—ã –æ—Ç–¥–µ–ª–∏—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª—É—á–∞—è –æ—Ç –Ω–∞–±–æ—Ä–∞ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ, –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `context`.

```js
describe('Tests spendings', () => {
	context('When budget is not set', () => {
		beforeEach(() => {
			cy.login();
			cy.enterApp();
		});

		it('Spends 400 parrots for helpful stuff', () => {
			// ...
		});
	});
});
```

–ö–∞–∂–¥—É—é —Ç—Ä–∞—Ç—É –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π –∏–ª–∏ –≤—Ä–µ–¥–Ω–æ–π. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å–ª—É—á–∞–∏ –∏ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∫–æ–¥, –Ω–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é `spendMoneyOnce`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Ç—Ä–∞—Ç–∞–º–∏.

```js
// –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
Cypress.Commands.add('toggleCategory', (type = 'helpful') => {
	cy.get(`.category.is-${type}`).click();
});

const spendMoneyOnce = (amount, category = 'unknown') => {
	amount = `${amount}`;
	cy.keyboardType(amount);
	cy.get('.numberDisplay-value').contains(amount);

	if (category !== 'unknown') {
		cy.toggleCategory(category);
	}

	cy.pressEnter();
};
```

–ò —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å –ª–∏ —Ç—Ä–∞—Ç–∞:

```js
const spendSaved = (amount, category) => {
	// –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø–∏—Å–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏
	cy.lastRecordContains(amount, category);
};
```

–¢–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ç –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
it('Spends 400 parrots for helpful stuff', () => {
	const [amount, category] = [400, 'helpful'];
	spendMoneyOnce(amount, category);
	spendSaved(amount, category);
});

it('Spends 400 parrots for harmful stuff', () => {
	const [amount, category] = [400, 'harmful'];
	spendMoneyOnce(amount, category);
	spendSaved(amount, category);
});
```

## –¢—Ä–∞—Ç—ã –∏–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞

–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ç—Ä–∞—Ç—É, –∫–æ–≥–¥–∞ –±—é–¥–∂–µ—Ç –∑–∞–¥–∞–Ω. –£ –º–µ–Ω—è –æ–ø–∏—Å–∞–Ω–æ –º–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, –Ω–æ –∑–¥–µ—Å—å —è –ø–æ–∫–∞–∂—É –¥–≤–∞. –í –ø–µ—Ä–≤–æ–º —Ç—Ä–∞—Ç–∞ –º–µ–Ω—å—à–µ –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞, –∏ —Å—É–º–º–∞ –Ω–∞ –¥–µ–Ω—å –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–∞–∫–æ–π –∂–µ, –≤–æ –≤—Ç–æ—Ä–æ–º ‚Äî —Ç—Ä–∞—Ç–∞ –±–æ–ª—å—à–µ, –∏ —Å—É–º–º–∞ –Ω–∞ –¥–µ–Ω—å —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è.

```js
context('When budget is set, 950 for today', () => {
	beforeEach(() => {
		cy.login();
		cy.enterApp();
		// –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
		cy.createBudgetWith(10000, 10);
	});

	it('Spends amount smaller than the limit for today', () => {
		testSpendWithActiveBudget({
			amount: 100,
			forToday: 850
		});
	});

	it('Spends amount bigger than the limit for today', () => {
		testSpendWithActiveBudget({
			amount: 1000,
			forToday: -50,
			newDayLimit: '944,44'
		});
	});
});
```

–§—É–Ω–∫—Ü–∏—è `testSpendWithActiveBudget` –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏. –û–Ω–∞ —Å–æ–≤–µ—Ä—à–∞–µ—Ç —Ç—Ä–∞—Ç—É, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ç—Ä–∞—Ç–∞ –∑–∞–ø–∏—Å–∞–ª–∞—Å—å, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –¥–æ–ª–∂–Ω–∞ –ª–∏ –±—ã–ª–∞ —Å—É–º–º–∞ –Ω–∞ –¥–µ–Ω—å –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å—Å—è. –ï—Å–ª–∏ –¥–∞, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—É—é —Å—É–º–º—É –Ω–∞ –¥–µ–Ω—å. –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è ‚Äî —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –¥–Ω–µ–≤–Ω—ã–º –ª–∏–º–∏—Ç–æ–º –∏ —Å—É–º–º–æ–π —Ç—Ä–∞—Ç –∑–∞ —Å–µ–≥–æ–¥–Ω—è.

```js
const testSpendWithActiveBudget = ({
	amount, // —á–∏—Å–ª–æ
	forToday, // —á–∏—Å–ª–æ
	newDayLimit // —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
}) => {
	spendMoneyOnce(amount, 'unknown');
	cy.lastRecordContains(amount, 'unknown');

	// —Ç—Ä–∞—Ç–∞ –º–µ–Ω—å—à–µ, —á–µ–º –ª–∏–º–∏—Ç –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
	if (forToday > 0) {
		cy.counterContains(forToday);
	}
	// —Ç—Ä–∞—Ç–∞ –±–æ–ª—å—à–µ, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç —Å—É–º–º—É –Ω–∞ –¥–µ–Ω—å
	else {
		cy.counterRowContains('–ù–æ–≤–∞—è —Å—É–º–º–∞ –Ω–∞ –¥–µ–Ω—å', 0);
		cy.counterRowContains(newDayLimit, 0);

		cy.counterRowContains('–ù–∞ —Å–µ–≥–æ–¥–Ω—è –¥–Ω–æ –ø—Ä–æ–±–∏—Ç–æ', 1);
		cy.counterRowContains(forToday, 1);
	}
};
```

## –ú–µ–Ω—è–µ–º –¥–∞—Ç—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ —Å–µ–±—è –≤–µ–¥—ë—Ç –±—é–¥–∂–µ—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è, –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞—é—Ç —á–µ—Ä–µ–∑ –¥–µ–Ω—å –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π.

```js
context('Tests next day settings', () => {
	beforeEach(() => {
		cy.login();
		cy.enterApp();
		cy.createBudgetWith(10000, 10);
	});
});
```

–°–ø–µ—Ä–≤–∞ –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –Ω–µ–ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–ø–∏–ª–∫—É:

```js
it('Tests next day safe record', () => {
	spendMoneyOnce(400);
	cy.skipDay();
	cy.safeRecordContains(550);
});
```

–ó–∞—Ç–µ–º, —á—Ç–æ —Å—É–º–º–∞ –Ω–∞ –¥–µ–Ω—å –æ—Å—Ç–∞–ª–∞—Å—å —Ç–æ–π –∂–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã—à–µ–ª –∑–∞ –≤—á–µ—Ä–∞—à–Ω–∏–π –ª–∏–º–∏—Ç

```js
it('Tests next day limit after spend less than prev limit', () => {
	spendMoneyOnce(400);
	cy.skipDay();
	cy.counterContains(950);
});
```

–ò —á—Ç–æ —Å—É–º–º–∞ —É–º–µ–Ω—å—à–∏—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª –∑–∞ –ª–∏–º–∏—Ç:

```js
it('Tests next day limit after spending more than prev limit', () => {
	spendMoneyOnce(1000);
	cy.skipDay();
	cy.counterContains('944,44');
});
```

–î–ª—è —ç—Ç–∏—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ `skipDay`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ–±—ã —Ç–æ—Ç –ø–æ–¥–º–µ–Ω—è–ª –≤—Ä–µ–º—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏.

–í–Ω–∞—á–∞–ª–µ —è —Å–æ–∑–¥–∞—é –±–∞–∑–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É `skipDays`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –∏ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç—Å—á–∏—Ç—ã–≤–∞—Ç—å. –í–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞–µ—Ç [`cy.clock`](https://docs.cypress.io/api/commands/clock.html), –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏.

–ü–µ—Ä–≤—ã–º –∞–≥—É–º–µ–Ω—Ç–æ–º –µ–º—É –ø–µ—Ä–µ–¥–∞—ë–º —Ç–∞–π–º—à—Ç–∞–º–ø –º–æ–º–µ–Ω—Ç–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —á–∞—Å—ã. –í—Ç–æ—Ä—ã–º ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ù–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç `Date`.

–ú–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ `restore` –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –°–∞–π–ø—Ä–µ—Å –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å–∞–º. –ù–æ –µ—Å–ª–∏ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º `skipDays` –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, —Ç–æ —á—Ç–æ–±—ã –ø–µ—Ä–µ—Ç–µ—Ä–µ—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–∞–¥–æ –≤—ã–∑–≤–∞—Ç—å `restore`.

–ú–µ—Ç–æ–¥ `reload` –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî –±—É–¥—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ø—É—Å—Ç—è —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.

```js
Cypress.Commands.add('skipDays', (count = 1, from = Date.now()) => {
	cy.clock().then((clock) => clock.restore());
	cy.clock(from + count * MSECONDS_IN_DAY, ['Date']);
	cy.reload();
});

// —Å–∏–Ω–æ–Ω–∏–º –¥–ª—è cy.skipDays(1)
Cypress.Commands.add('skipDay', () => {
	cy.skipDays(1);
});
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∞–º–æ–µ –∫–∞–π—Ñ–æ–≤–æ–µ –≤ —Ç–∞–∫–∏—Ö —Ç–µ—Å—Ç–∞—Ö ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç. –í–æ—Ç —É—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –≤–∏–¥–æ—Å–∏–∫ —Å–æ –≤—Å–µ–º–∏ —Ç–µ—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ. –°–∞–º—ã–µ –≥–ª–∞–∑–∞—Å—Ç—ã–µ —Å–º–æ–≥—É—Ç —Ç–∞–º –Ω–∞–π—Ç–∏ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ä–∞–±–æ—á–∏–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ üôÉ

<YouTube caption="–í–∏–¥–µ–æ —Å —Ä–∞–±–æ—Ç–æ–π –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ" src="https://www.youtube.com/embed/qTjd07L33UU">https://youtu.be/qTjd07L33UU</YouTube>

## C—Å—ã–ª–∫–∏ –ø–æ —Ç–µ–º–µ

- [–ö–æ–π–Ω](http://www.fuckgrechka.ru/c0in/)
- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](https://ru.wikipedia.org/wiki/–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ_—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [End-2-end —Ç–µ—Å—Ç—ã](https://toster.ru/q/401848)
- [Cypress.io](http://cypress.io/)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](https://docs.cypress.io/guides/getting-started/installing-cypress.html)
- [–ö–æ–º–∞–Ω–¥—ã](https://docs.cypress.io/api/cypress-api/custom-commands.html)
- [–†–∞–±–æ—Ç–∞ —Å `clock`](https://docs.cypress.io/api/commands/clock.html)
- [–†–∞–±–æ—Ç–∞ —Å `type`](https://docs.cypress.io/api/commands/type.html)
