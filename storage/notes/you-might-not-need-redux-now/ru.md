---
title: –û—Ç¬†–†–µ–¥–∞–∫—Å–∞ –∫¬†—Ö—É–∫–∞–º?
description: –í –†–µ–∞–∫—Ç–µ –≤ –≤–µ—Ä—Å–∏–∏ 16.7.0-alpha –ø–æ—è–≤–∏–ª–∏—Å—å —Ö—É–∫–∏. –≠—Ç–æ –ê–ü–ò, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤. –ò —Å—Ä–µ–¥–∏ –Ω–∏—Ö –µ—Å—Ç—å –æ–¥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π, –∫–∞–∫ –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å —Å–æ–±–æ–π –†–µ–¥–∞–∫—Å.
datetime: 2018-11-15T10:00
tags:
  - abstraction
  - favorite
  - javascript
  - patterns
  - performance
  - react
  - research
  - tools
  - tradeoffs
---

# –û—Ç –†–µ–¥–∞–∫—Å–∞ –∫ —Ö—É–∫–∞–º?

–í –†–µ–∞–∫—Ç–µ –≤ –≤–µ—Ä—Å–∏–∏ 16.7.0 [–ø–æ—è–≤–∏–ª–∏—Å—å Hooks](https://reactjs.org/docs/hooks-reference.html) (–¥–∞–ª—å—à–µ –ø–æ —Ç–µ–∫—Å—Ç—É ‚Äî —Ö—É–∫–∏). –≠—Ç–æ API, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤. –ò —Å—Ä–µ–¥–∏ –Ω–∏—Ö –µ—Å—Ç—å –æ–¥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π, –∫–∞–∫ –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å —Å–æ–±–æ–π –†–µ–¥–∞–∫—Å.

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ –≤—ã –∑–Ω–∞–µ—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –∫–ª–∞—Å—Å–∞–º–∏, –≤ –∫—É—Ä—Å–µ –æ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å—Ç–µ–π—Ç–µ –∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –†–µ–¥–∞–∫—Å. –ë–µ–∑ —ç—Ç–æ–≥–æ –≤–Ω–∏–∫–Ω—É—Ç—å –±—É–¥–µ—Ç —Ç—Ä—É–¥–Ω–æ, –Ω–æ –≤—Å—ë –≤ –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é —è –±—ã –Ω–µ —É–º–µ—Å—Ç–∏–ª, —Ç–∞–∫ —á—Ç–æ –≤–æ—Ç ¬Ø\\\_(„ÉÑ)\_/¬Ø

## –ß—Ç–æ –∑–∞ —Ö—É–∫–∏?

–†–∞–Ω—å—à–µ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–µ–π—Ç –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å. –•—É–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–µ–π—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤.

–ù–∞–ø—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ö—É–∫ `useState`, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `counter`:

```js
import React, { useState } from 'react';

const SimpleComponent = () => {
	const [counter, setCounter] = useState(0);
	// –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∑–Ω–∞—á–µ–Ω–∏–µ counter –±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ —Ç–æ–º—É, —á—Ç–æ –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –≤ useState
	// –∑–∞—Ç–µ–º ‚Äî —Ç–æ–º—É, —á—Ç–æ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–º —á–µ—Ä–µ–∑ setCounter
	return <div>{counter}</div>;
};
```

`useState` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è—Ç—å.

–ò–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ö—É–∫–æ–≤ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, —É –Ω–∏—Ö –µ—Å—Ç—å [–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–∞–≤–∏–ª–∞](https://reactjs.org/docs/hooks-rules.html). –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –Ω–∞–ø–∏—Å–∞–Ω–æ [–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://reactjs.org/docs/hooks-rules.html) –∏ —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ –≤ [–¥–æ–∫–ª–∞–¥–µ –Ω–∞ –†–µ–∞–∫—Ç-–∫–æ–Ω—Ñ–µ](https://www.youtube.com/watch?v=V-QO-KO90iQ).

## `useReducer`

`useReducer` ‚Äî —ç—Ç–æ —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Ä–∞–±–æ—Ç—ã —Å—Ö–æ–∂ —Å —Ä–µ–¥—å—é—Å–µ—Ä–∞–º–∏ –∏–∑ [–†–µ–¥–∞–∫—Å–∞](http://redux.js.org/).

```js
const App = () => {
	const [state, dispatch] = useReducer(reducer, initialState);
	// initialState ‚Äî –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
	// reducer ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç state –∏ action
	//           –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
	//
	// state ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
	// dispatch ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –¥—ë—Ä–≥–∞—Ç—å —ç–∫—à–µ–Ω—ã,
	//            —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

	return <div>Hello world</div>;
};
```

–ü–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Ä–∞–±–æ—Ç—ã —ç—Ç–æ –∏ –µ—Å—Ç—å –†–µ–¥–∞–∫—Å. –ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `state` –∏ `dispatch` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `App`, –∞ –∑–Ω–∞—á–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ä–µ–¥—å—é—Å–µ—Ä –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —É –Ω–∞—Å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.

...–ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç.

## Context API

–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å —Ç–µ–º, —á—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –¥–µ–ª–∏—Ç—å –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–ø—Å—ã –≤–Ω–∏–∑ –ø–æ –¥–µ—Ä–µ–≤—É.

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å–ª–∏ –¥–µ—Ä–µ–≤–æ –±–æ–ª—å—à–æ–µ, —Ç–æ –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø—Ä–æ–ø—Å—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏. –í–æ–∑–Ω–∏–∫–∞–µ—Ç —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π _prop drilling_. –°—Ö–µ–º–∞—Ç–∏—á–Ω–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç, –∫–∞–∫ –Ω–∞ [–∫–∞—Ä—Ç–∏–Ω–∫–µ](https://www.carlrippon.com/playing-with-the-context-api-in-react-16-3/) —Å–ª–µ–≤–∞:

![–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã Prop drilling, carlrippon.com](./prop-drilling.webp)

–†–µ–¥–∞–∫—Å –ø–æ–º–∏–º–æ —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ä–µ—à–∞–ª –∏ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É —Ç–æ–∂–µ. –° –Ω–∏–º –º—ã —Å–æ–∑–¥–∞—ë–º –ª–∏—à—å –æ–¥–Ω–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –ª—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ –≤—Å—ë –¥–µ—Ä–µ–≤–æ.

–¢—É –∂–µ –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –†–µ–∞–∫—Ç–µ. –ú—ã —Å–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç, —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å, –∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—å—é–º–µ—Ä ‚Äî –≤ –∫–∞–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–±–∏—Ä–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```js
import { createContext } from 'react';
// —Å–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
const StoreContext = createContext();

const App = () => (
	// —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤ —Å–≤–æ–π—Å—Ç–≤–µ value —É–∫–∞–∑—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ,
	// –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–º –Ω–∞–¥–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –∫–∞–∫-—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
	<StoreContext.Provider value={{ meaningOfLife: 42 }}>
		<OtherComponent />
	</StoreContext.Provider>
);

const OtherComponent = () => {
	// —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—å—é–º–µ—Ä –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é
	return (
		<StoreContext.Consumer>
			{({ meaningOfLife }) => <div>{meaningOfLife}</div>}
		</StoreContext.Consumer>
	);
};
```

–í—ã–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Å—å—é–º–µ—Ä –º–æ–∂–Ω–æ –≥–¥–µ —É–≥–æ–¥–Ω–æ, –∏ —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ò —Ç—É—Ç –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –º—ã—Å–ª—å, –Ω–µ–ª—å–∑—è –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –†–µ–¥–∞–∫—Å –Ω–∞ —Å–º–µ—Å—å —Ö—É–∫–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ù—É –∏ —ç—Ç, –≤—Ä–æ–¥–µ, –º–æ–∂–Ω–æ.

## –ü—Ä–∏–º–µ—Ä

–Ø –Ω–∞–ø–∏—Å–∞–ª –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –†–µ–¥–∞–∫—Å–∞ –∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ö—É–∫–æ–≤. –≠—Ç–æ —Å—á—ë—Ç—á–∏–∫, –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –∫–Ω–æ–ø–∫–∞–º–∏, –ª–∏–±–æ –º–µ–Ω—è—è –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∏–Ω–ø—É—Ç–µ, –∞ —Ç–∞–∫–∂–µ –æ–±–Ω—É–ª—è—Ç—å –µ–≥–æ –Ω–∞–∂–∞—Ç–∏–µ–º –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

![–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞](./app.webp)

–ü–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–Ω–æ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `App`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ñ–æ—Ä–º—ã `Form` –∏ –µ—â—ë –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –∫–Ω–æ–ø–∫–æ–π –≤–Ω–∏–∑—É `Display`. –°—Ö–µ–º–∞—Ç–∏—á–Ω–æ –º–æ–∂–Ω–æ –∏–∑–æ–±—Ä–∞–∑–∏—Ç—å —Ç–∞–∫:

![–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](./app-structure.webp)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `Form` –∏ `Display` –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –∏ –∏–Ω–ø—É—Ç–∞ –≤—ã–∑—ã–≤–∞—é—Ç —ç–∫—à–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

- [–ü—Ä–∏–º–µ—Ä —Å –†–µ–¥–∞–∫—Å–æ–º](https://bespoyasov.ru/use/redux/).
- [–ü—Ä–∏–º–µ—Ä —Å —Ö—É–∫–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º](https://bespoyasov.ru/use/hooks-and-context/).
- [–ò—Å—Ö–æ–¥–Ω–∏–∫–∏](https://github.com/bespoyasov/you-really-dont-need-redux-now) –¥–ª—è —Å–∞–º—ã—Ö –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤—ã—Ö.

### –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –†–µ–¥–∞–∫—Å–∞

–í–Ω–∞—á–∞–ª–µ —Å–æ–∑–¥–∞–¥–∏–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ —Ä–µ–¥—å—é—Å–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º:

```js
// reducers.js
import { combineReducers } from 'redux';

const app = (state, action) => {
	switch (action.type) {
		case 'PLUS':
			return { ...state, counter: state.counter + 1 };

		case 'MINUS':
			return { ...state, counter: state.counter - 1 };

		case 'MAGIC':
			return { ...state, counter: Math.floor(Math.random() * 100) };

		case 'CHANGE':
			return { ...state, counter: +action.value };

		case 'RESET':
			return { ...initialState };

		default:
			return state;
	}
};

export default combineReducers({ app });

// index.js
import { createStore } from 'redux';
import rootReducer from './reducers';
import App from './App';

// —Å–æ–∑–¥–∞—ë–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
const store = createStore(rootReducer);

// –∏—Å–ø–æ–ª—å–∑—É–µ–º —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä
render(
	<Provider store={store}>
		<App />
	</Provider>,
	document.getElementById('app')
);
```

–î–∞–ª—å—à–µ —Å–æ–∑–¥–∞–¥–∏–º —ç–∫—à–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Å–æ–±—ã—Ç–∏—è–º–∏ –∫–Ω–æ–ø–æ–∫ –∏ –∏–Ω–ø—É—Ç–∞:

```js
// actions.js
export const plus = () => ({ type: 'PLUS' });
export const minus = () => ({ type: 'MINUS' });
export const magic = () => ({ type: 'MAGIC' });
export const reset = () => ({ type: 'RESET' });
export const change = (e) => ({
	value: e.target.value,
	type: 'CHANGE'
});
```

–ß—Ç–æ–±—ã –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º `connect`:

```js
import { connect } from 'react-redux';
import { reset } from './actions';

// app ‚Äî —á–∞—Å—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞;
// reset ‚Äî —ç–∫—à–µ–Ω;
// –≤—Å—ë —ç—Ç–æ –º—ã –ø—Ä–∏–≤—è–∑–∞–ª–∏ —á–µ—Ä–µ–∑ connect –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º –Ω–∏–∂–µ
const Display = ({ app, reset }) => {
	const { counter } = app;

	return (
		<footer>
			<p>Another component knows that counter equals to {counter} as well!</p>
			<p>
				It even can
				<button onClick={reset}>reset the coutner</button>
			</p>
		</footer>
	);
};

// –º–∞–ø–∏–º —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ —ç–∫—à–µ–Ω—ã
// –Ω–∞ –ø—Ä–æ–ø—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
export default connect((state) => ({ app: state.app }), { reset })(Display);
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫](https://bespoyasov.ru/use/redux/).

### –ö–æ–Ω—Ç–µ–∫—Å—Ç + —Ö—É–∫–∏

–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º —Ç–æ –∂–µ —Å–∞–º–æ–µ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –†–µ–¥–∞–∫—Å–∞. –ò—Å–ø–æ–ª—å–∑—É–µ–º `useReducer`:

```js
// store.js
export const initialState = { counter: 0 };

// —Ä–µ–¥—å—é—Å–µ—Ä —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑
export const reducer = (state, action) => {
	// ...
};

// index.js
import { reducer, initialState } from './store';

const App = () => {
	// —Å–æ–∑–¥–∞—ë–º –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
	// –∏ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
	const [state, dispatch] = useReducer(reducer, initialState);
	return <div></div>;
};
```

–ß—Ç–æ–±—ã –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:

```js
// context.js
import { createContext } from 'react';
export const StoreContext = createContext();

// index.js
import { reducer, initialState } from './store';
// –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
import { StoreContext } from './context';

const App = () => {
	const [state, dispatch] = useReducer(reducer, initialState);

	// –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
	// —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
	return (
		<StoreContext.Provider value={{ dispatch, state }}>
			<Form />
			<Display />
		</StoreContext.Provider>
	);
};

export default App;
```

–ß—Ç–æ–±—ã –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Å—å—é–º–µ—Ä:

```js
import React from 'react';
// –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
import { StoreContext } from './context';
// —ç–∫—à–µ–Ω—ã —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑
import { reset } from './actions';

const Display = () => (
	// –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ —Ç–æ–º—É, —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
	<StoreContext.Consumer>
		// –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äî state –∏ dispatch
		{({ state, dispatch }) => (
			<footer>
				// –∏—Å–ø–æ–ª—å–∑—É–µ–º state, —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞
				<p>{state.counter}</p>
				// –∏—Å–ø–æ–ª—å–∑—É–µ–º dispatch, —á—Ç–æ–±—ã –¥—ë—Ä–Ω—É—Ç—å —ç–∫—à–µ–Ω
				<button onClick={() => dispatch(reset())}>reset</button>
			</footer>
		)}
	</StoreContext.Consumer>
);

export default Display;
```

–ê –µ—â—ë –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ —á–∏—â–µ, –∑–∞–º–µ–Ω–∏–≤ –∫–æ–Ω—Å—å—é–º–µ—Ä –Ω–∞ `useContext`:

```js
import React, { useContext } from 'react';
import { StoreContext } from './context';
import { reset } from './actions';

const Display = () => {
	// –≤—ã–∑—ã–≤–∞–µ–º useContext, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –Ω—É–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
	const { state, dispatch } = useContext(StoreContext);

	return (
		// —É–±–∏—Ä–∞–µ–º –∫–æ–Ω—Å—å—é–º–µ—Ä
		<footer>
			<p>{state.counter}</p>
			<button onClick={() => dispatch(reset())}>reset</button>
		</footer>
	);
};

export default Display;
```

–ò [—Ä–∞–±–æ—Ç–∞–µ—Ç –æ–Ω–æ](https://bespoyasov.ru/use/hooks-and-context/) —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ.

## –ê —á–æ –ø–æ –≤–µ—Å—É –∏ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å—É?

–Ø –Ω–µ —É–¥–∏–≤–∏–ª—Å—è, –∫–æ–≥–¥–∞ –±–∞–Ω–¥–ª —É–∂–∞–ª—Å—è –Ω–∞ 12 –∫–ë: —Å –†–µ–¥–∞–∫—Å–æ–º ‚Äî 166, –±–µ–∑ –Ω–µ–≥–æ ‚Äî 154. –≠—Ç–æ –ª–æ–≥–∏—á–Ω–æ, –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî –º–µ–Ω—å—à–µ –≤–µ—Å.

–ê –≤–æ—Ç –ø—Ä–∏—Ä–æ—Å—Ç –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–∫—à–µ–Ω–æ–≤ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–µ–Ω—è —Å–ª–µ–≥–∫–∞ —É–¥–∏–≤–∏–ª. –Ø –ø—Ä–æ–≤–æ–¥–∏–ª –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `console.time` –∏ `performance.measure`. –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞ 100 –∏—Ç–µ—Ä–∞—Ü–∏–π –≤—ã—à–ª–∏ —Ç–∞–∫–∏–º–∏:

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è      | console.time | performance.measure |
| --------------- | ------------ | ------------------- |
| Redux           | 12 –º—Å        | 13 –º—Å               |
| Context + hooks | 9 –º—Å         | 8 –º—Å                |

–û–¥–Ω–∞–∫–æ, —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –æ–≥–æ–≤–æ—Ä–∫—É, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´–º–∞–ª–µ–Ω—å–∫–æ–µ –∏ –≥–ª—É–ø–æ–µ¬ª. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å –±–æ–ª—å—à–∏–º —Å—Ç–µ–π—Ç–æ–º, –≤–µ—Ä–æ—è—Ç–Ω–æ, –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–µ–π—Ç–∞, —á—Ç–æ–±—ã –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –≥–¥–µ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ.

## –ú–∏–Ω—É—Å—ã

–í—ã–∑–æ–≤ —ç–∫—à–µ–Ω–æ–≤ —Å—Ç–∞–ª —á—É—Ç—å –±–æ–ª–µ–µ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º –∏–∑-–∑–∞ –ø—Ä—è–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `dispatch`. –ò –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –±–µ–∑ `useContext`, –ø—Ä–∏–¥—ë—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω _render-prop_, –∏–∑-–∑–∞ —á–µ–≥–æ –º–æ–∂–µ—Ç –ø–æ–¥–Ω—è—Ç—å—Å—è —â–∏—Ç-—Å—Ç–æ—Ä–º ¬Ø\\\_(„ÉÑ)\_/¬Ø

–ü—Ä–æ –≤–µ—Ä–æ—è—Ç–Ω—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ —è —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª –≤—ã—à–µ. –ë–µ–∑ –Ω–µ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π —á–∏—Ö, —á—Ç–æ —Å–≤–µ–¥—ë—Ç –Ω–∞ –Ω–µ—Ç –≤–µ—Å—å —Å–º—ã—Å–ª –ø–æ–¥—Ö–æ–¥–∞ –†–µ–∞–∫—Ç–∞ –∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

–ù–æ –µ—Å–ª–∏ —Å–µ—Ä—å—ë–∑–Ω–æ, —Ö—É–∫–∏ ‚Äî –ø–æ–∫–∞ —á—Ç–æ [–≤ —Å—Ç–∞–¥–∏–∏ RFC](https://github.com/reactjs/rfcs/pull/68), –∏ –≤–æ–∑–º–æ–∂–Ω–æ –º–Ω–æ–≥–æ–µ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Å–≤–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∏—Ö [–Ω–µ —Å–æ–≤–µ—Ç—É–µ—Ç –¥–∞–∂–µ –î—ç–Ω –ê–±—Ä–∞–º–æ–≤](https://twitter.com/dan_abramov/status/1055696227939966976). –¢–æ –µ—Å—Ç—å —ç—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ñ–∏–≥–Ω—è.

–•–æ—Ç—è –≤—ã–≥–ª—è–¥–∏—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–∞–º–∞–Ω—á–∏–≤–æ üôÉ

## –°—Å—ã–ª–∫–∏

- [–ì–∏—Ç—Ö–∞–±](https://github.com/bespoyasov/you-really-dont-need-redux-now)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –†–µ–¥–∞–∫—Å–µ](https://bespoyasov.ru/use/redux/)
- [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ö—É–∫–∞—Ö —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º](https://bespoyasov.ru/use/hooks-and-context/)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Context API](https://reactjs.org/docs/context.html)
- [Hooks API](https://reactjs.org/docs/hooks-reference.html)
- [`useReducer`](https://reactjs.org/docs/hooks-reference.html#usereducer)
- [`useContext`](https://reactjs.org/docs/hooks-reference.html#usecontext)
- [Hooks rules](https://reactjs.org/docs/hooks-rules.html)

### –î–æ–∫–ª–∞–¥—ã

- [React Today and Tomorrow](https://www.youtube.com/watch?v=V-QO-KO90iQ)
- [90% Cleaner React With Hooks](https://www.youtube.com/watch?v=wXLf18DsV-I)

### –°—Ç–∞—Ç—å–∏ —Å–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è–º–∏

- [Everything You Need to Know About Context API](https://hackernoon.com/everything-you-need-to-know-about-reacts-context-api-e5c8c32ef202)
- [Context API vs Redux](https://daveceddia.com/context-api-vs-redux/)
- [Redux –ø—Ä–æ—Ç–∏–≤ React Context API](https://habr.com/post/419449/)

### –ò–∑–º–µ—Ä–µ–Ω–∏—è –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∞

- [Measuring Performance with `console.time`](http://adripofjavascript.com/blog/drips/measuring-javascript-performance-with-console-time.html)
- [`Performance.measure`](https://developer.mozilla.org/en-US/docs/Web/API/Performance/measure)
- [Measuring Functions Performance](https://www.sitepoint.com/measuring-javascript-functions-performance/)
