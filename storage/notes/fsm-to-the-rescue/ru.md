---
title: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å¬†–ø–æ–º–æ—â—å—é –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞
description: –ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç ‚Äî —ç—Ç–æ –º–æ–¥–µ–ª—å —Å–∏—Å—Ç–µ–º—ã, —É –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –∫–æ–Ω–µ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏. –¢–∞–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä ‚Äî —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –µ–≥–æ —á–∞—Å—Ç–∏.
datetime: 2018-07-27T12:00
tags:
  - error
  - eventdriven
  - favorite
  - javascript
  - maths
  - patterns
  - research
  - statemanagement
  - tools
---

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞

–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç ‚Äî —ç—Ç–æ –º–æ–¥–µ–ª—å —Å–∏—Å—Ç–µ–º—ã, —É –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –∫–æ–Ω–µ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.

–ó–≤—É—á–∏—Ç –∑–∞—É–º–Ω–æ, –Ω–æ –≤—Å—ë —ç—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –≤–∏–¥–µ –ª–∞–º–ø–æ—á–∫–∏. –£ –Ω–µ—ë –µ—Å—Ç—å –¥–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è: –≤–∫–ª—é—á–µ–Ω–∞ –∏ –≤—ã–∫–ª—é—á–µ–Ω–∞. –ß—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ª–∞–º–ø–æ—á–∫—É –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –¥—Ä—É–≥–æ–µ, –º—ã –ø–æ–¥–∞—ë–º —Å–∏–≥–Ω–∞–ª ‚Äî –Ω–∞–∂–∏–º–∞–µ–º –Ω–∞ –∫–Ω–æ–ø–∫—É –≤–∫–ª—é—á–µ–Ω–∏—è. –¢–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥, –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–∞–º–ø–æ—á–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è.

–ù–∞–±–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –Ω–∏–º–∏ –º–æ–∂–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∞, –≥–¥–µ –≤–µ—Ä—à–∏–Ω–∞–º–∏ –±—É–¥—É—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞ —Ä—ë–±—Ä–∞–º–∏ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥—ã.

![–ì—Ä–∞—Ñ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ª–∞–º–ø–æ—á–∫–∏](./fsm-graph-1.svg)

–¢–∞–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä ‚Äî —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –µ–≥–æ —á–∞—Å—Ç–∏.

## –ß—ë-—Ç–∞ —Å–ª–æ–∂–Ω–∞. –í —á—ë–º –ø–æ–ª—å–∑–∞?

**–í—Å–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ **–æ–¥–Ω–æ–º** –º–µ—Å—Ç–µ. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫–æ–π —Å–∏–≥–Ω–∞–ª –µ–≥–æ –∑–∞–ø—É—Å—Ç–∏—Ç, –∏–∑ –∫–∞–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∏ –≤ –∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç—Ç–æ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∏–≤–µ–¥—ë—Ç. –ï—Å–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –Ω–µ–ª—å–∑—è, —Ç–æ –ª–∏–±–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –ª–∏–±–æ –º–æ–∂–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

–° –∫–æ–Ω–µ—á–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–æ–º –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ ¬´–º—ã —á—Ç–æ-—Ç–æ –Ω–∞–∂–∞–ª–∏, –∏ –≤—Å—ë –∏—Å—á–µ–∑–ª–æ¬ª. –ü–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –∂—ë—Å—Ç–∫–æ –∏ –Ω–µ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö.

–ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–∞—è, —Ç–æ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–æ —Ä–∞—Å—Ç–∏. –ù–æ —Ç–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–≤—Ç–æ–º–∞—Ç–æ–≤, –Ω–µ –∑–∞–≤–∏—Å—è—â–∏—Ö –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

–ê –µ—â—ë —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –Ω–∞–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫—É—á—É –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.

## –û–±–∑–æ—Ä —Ç—É–ø–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å [–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](https://bespoyasov.ru/showcase/fsm/), –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É. (–†–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –•—Ä–æ–º–µ, –∑–∞ –¥—Ä—É–≥–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã –Ω–µ —Ä—É—á–∞—é—Å—å. –í –°–∞—Ñ–∞—Ä–∏ —Ç–æ—á–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.)

–í —ç—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

![–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º](./fsm-main.webp)
![–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –∏–¥—ë—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä](./fsm-loading.webp)
![–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –∫–æ–≥–¥–∞ –æ–Ω–∏ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å](./fsm-loaded.webp)
![–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å, –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫](./fsm-error.webp)

–¢–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:

- —Å –≥–ª–∞–≤–Ω–æ–π –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–∑–∞–≥—Ä—É–∑–∏—Ç—å¬ª –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏;
- –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ø–∞–¥–∞–µ–º –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –≤—Å—ë –æ–∫;
- –ª–∏–±–æ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –æ–∫;
- –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –æ—à–∏–±–∫–∏ –º–æ–∂–µ–º –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–æ—á–∏—Å—Ç–∏—Ç—å¬ª;
- –∏–∑ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ–º –ø–µ—Ä–µ–π—Ç–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏, –µ—Å–ª–∏ –Ω–∞–∂–º—ë–º –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–∑–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë¬ª.

–ï—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ –¥–µ–ª–æ –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∞, —Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è —Ç–∞–∫:

![–ì—Ä–∞—Ñ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ –ø—Ä–∏–º–µ—Ä–∞](./fsm-graph-2.svg)

## –§–µ–π–∫–æ–≤–æ–µ API

–î–ª—è —ç–º—É–ª—è—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∂–µ–π—Å–æ–Ω-–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä. –ù–∞–ø–∏—à–µ–º –Ω–µ–±–æ–ª—å—à—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞:

```js
// api.js
const fetchPosts = async () => {
	const response = await fetch('https://jsonplaceholder.typicode.com/posts');
	const posts = await response.json();
	return posts;
};
```

## –°–æ—Å—Ç–æ—è–Ω–∏—è, –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ —Å–∞–º –∞–≤—Ç–æ–º–∞—Ç

–¢–µ–ø–µ—Ä—å –æ–ø–∏—à–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –Ω–∞—à–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞. –°–æ—Å—Ç–æ—è–Ω–∏—è –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ `states`, –≥–¥–µ –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—É–¥–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–ª—é—á–µ–π –≤–Ω—É—Ç—Ä–∏:

```js
// fsm/states.js
const states = {
	INITIAL: 'idle',
	LOADING: 'loading',
	SUCCESS: 'success',
	FAILURE: 'failure'
};
```

–ü–µ—Ä–µ—Ö–æ–¥—ã –±—É–¥—É—Ç —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –≠—Ç–æ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç –≤ –Ω–µ–≥–æ.

–í–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏–π, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º—ã –±—É–¥–µ–º —Ä–µ—à–∞—Ç—å, –∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–Ω—É—Ç—å.

```js
// fsm/transitions.js
const transitions = {
  [states.INITIAL]: {
    fetch: () => /* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç states.LOADING */,
  },

  [states.LOADING]: {},

  [states.SUCCESS]: {
    reload: () => /* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç states.LOADING */,
    clear: () => /* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç states.INITIAL */,
  },

  [states.FAILURE]: {
    retry: () => /* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç states.LOADING */,
    clear: () => /* –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç states.INITIAL */,
  },
}
```

–°–∞–º –∞–≤—Ç–æ–º–∞—Ç –æ–ø–∏—à–µ–º –≤ –≤–∏–¥–µ –∫–ª–∞—Å—Å–∞. –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Å–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∏ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç.

–ú–µ—Ç–æ–¥ `stateOf` –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –≤ –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç —Å–µ–π—á–∞—Å. –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `updateState` –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

```js
// fsm/machine.js
class StateMachine {
	constructor({ initial, states, transitions, data = null }) {
		this.transitions = transitions;
		this.states = states;
		this.state = initial;
		this.data = data;
	}

	stateOf() {
		return this.state;
	}

	_updateState(newState, data = null) {
		this.state = newState;
		this.data = data;
	}
}
```

## –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

–ß—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –∏–∑–≤–Ω–µ, —Å–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ `performTransition`. –û–Ω –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –≤–æ–∑–º–æ–∂–µ–Ω –ª–∏ —Ç–∞–∫–æ–π –ø–µ—Ä–µ—Ö–æ–¥. –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–µ–Ω, —Ç–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

```js
// fsm/machine.js
performTransition(transitionName) {
  const possibleTransitions = this.transitions[this.state]
  const transition = possibleTransitions[transitionName]
  if (!transition) return

  // –ø–µ—Ä–µ—Ö–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∞
  const newState = transition()
  this._updateState(newState)
}
```

–í —Ç–µ–æ—Ä–∏–∏ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ: –≤–æ—Ç –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ, –∑–Ω–∞—á–∏—Ç –ø–µ—Ä–µ–≤–æ–¥–∏–º –∞–≤—Ç–æ–º–∞—Ç –≤ `states.LOADING`. –í–æ—Ç –æ–Ω–∏ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å, –∑–Ω–∞—á–∏—Ç –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ `states.SUCCESS`. –ù–æ –Ω–∞ –¥–µ–ª–µ: –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ç–æ–∫–æ–º —Å–æ–±—ã—Ç–∏–π? –∫–∞–∫ —É–∑–Ω–∞—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å? –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø–æ –ø—É—Ç–∏?

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏ —Å–º–µ–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π, –∏ –Ω–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Ö –≤—Å–µ –∫–∞–∫-—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å. –ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–∫–∏–º –ø–æ—Ç–æ–∫–æ–º —Å–æ–±—ã—Ç–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã.

## –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–≤–æ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ. –í –æ—Å–Ω–æ–≤–µ —Ä–∞–±–æ—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ª–µ–∂–∞—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –ø–æ—ç—Ç–æ–º—É –ª—é–±–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–æ –ø—Ä–æ–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `for...of`.

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç –ø—Ä–∏–Ω–∏–º–∞–ª –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π, —Ç–æ –º—ã –º–æ–∂–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø–∏—Å–∞—Ç—å —ç—Ç–æ —Ç–∞–∫:

```js
function* transition() {
	yield states.LOADING;
	yield states.SUCCESS;
}
```

–≠—Ç–æ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏, –∞ –≤ –ø–æ—Ç–æ–º ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å–ø–µ—Ö–∞.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, –º—ã –º–æ–∂–µ–º –ø—Ä–æ–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é:

```js
const generator = transition();
generator.next(); // { done: false, value: 'loading' }
generator.next(); // { done: false, value: 'success' }
generator.next(); // { done: true, value: undefined }
```

–õ–∏–±–æ —á–µ—Ä–µ–∑ `for...of`:

```js
for (const state of transition()) {
	console.log(state);
}
```

–¢–æ–≥–¥–∞ –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–¥–æ–±–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –∞–≤—Ç–æ–º–∞—Ç—É, —Ç–æ –º—ã –Ω–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏–º –º–µ—Ç–æ–¥ `performTransition`:

```js
// fsm/machine.js
performTransition(transitionName) {
  const possibleTransitions = this.transitions[this.state]
  const transition = possibleTransitions[transitionName]
  if (!transition) return

  // –≤–æ—Ç —Ç—É—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º for ... of
  for (const state of transition()) {
    this._updateState(state)
  }
}
```

–ù–æ —ç—Ç–æ–≥–æ –º–∞–ª–æ üôÉ<br />
–í–µ–¥—å –ø–æ–º–∏–º–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, —É –Ω–∞—Å –µ—Å—Ç—å –µ—â—ë –∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.

–ó–∞–ø—Ä–æ—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `await`. –ù–æ `await` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ—ç—Ç–æ–º—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å—Ç–∞–Ω–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º.

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—á—Ç–∏ –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –æ–Ω –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–º–∏—Å—ã. –ò –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏–¥—ë—Ç—Å—è —á–µ—Ä–µ–∑ `for await...of`:

```js
// fsm/transitions.js
async function* transition() {
	yield states.LOADING;

	try {
		const data = await fetchPosts();
		yield states.SUCCESS;
	} catch (e) {
		yield states.FAILURE;
	}
}
```

–¢–∞–∫ –∫–∞–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–º–∏—Å—ã, —Ç–æ —á—Ç–æ–±—ã –∏—Ö —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å, –Ω–∞–º –∏ –∑–¥–µ—Å—å –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è `await`. –ü–æ—ç—Ç–æ–º—É –º–µ—Ç–æ–¥ `performTransition` —Ç–æ–∂–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º.

```js
// fsm/machine.js
async performTransition(transitionName) {
  const possibleTransitions = this.transitions[this.state]
  const transition = possibleTransitions[transitionName]
  if (!transition) return

  for await (const newState of transition()) {
    this._updateState(newState)
  }
}
```

## –ù–µ —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–æ –µ—â—ë –∏ –¥–∞–Ω–Ω—ã–µ

–°–æ—Å—Ç–æ—è–Ω–∏—è –º—ã —Ç–µ–ø–µ—Ä—å –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º, –Ω–æ –ø–æ–∫–∞ —á—Ç–æ –Ω–∏–∫—É–¥–∞ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.

–í –∞–≤—Ç–æ–º–∞—Ç–µ –¥–ª—è —ç—Ç–æ–≥–æ —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–ª–µ `data`. –ë—É–¥–µ–º –µ–≥–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å:

```js
// fsm/transitions.js
async function* transition() {
	yield { newState: states.LOADING };

	try {
		const data = await fetchPosts();
		yield { newState: states.SUCCESS, data };
	} catch (e) {
		yield { newState: states.FAILURE };
	}
}
```

–ò –≤ `performTransition` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –∏—Ö –≤ –ø–æ–ª–µ `data`:

```js
// fsm/machine.js
async performTransition(transitionName) {
  const possibleTransitions = this.transitions[this.state]
  const transition = possibleTransitions[transitionName]
  if (!transition) return

  for await (const {newState, data=null} of transition()) {
    this._updateState(newState, data)
  }
}
```

## –†–µ–Ω–¥–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–û–∫–µ–π, —Ç–µ–ø–µ—Ä—å –Ω–∞–¥–æ —ç—Ç–æ –∫–∞–∫-—Ç–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å. –ú–æ–∂–Ω–æ —Å—é–¥–∞ –≤–∫–æ—Ä—è—á–∏—Ç—å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –†–µ–∞–∫—Ç, –Ω–æ –º—ã –ø–∏—à–µ–º –≤—Å—ë —Å –Ω—É–ª—è, –ø–æ—ç—Ç–æ–º—É –∏ –æ—Ç—Ä–∏—Å–æ–≤—â–∏–∫ –Ω–∞–ø–∏—à–µ–º —Ç–æ–∂–µ —Å–≤–æ–π.

–§—É–Ω–∫—Ü–∏—è-—Ä–µ–Ω–¥–µ—Ä –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∞ –∏ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç. –ü–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –±—É–¥–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å, –∫–∞–∫–æ–π —à–∞–±–ª–æ–Ω –Ω–∞–¥–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –†–µ–∞–∫—Ç, —Ç–æ –Ω–µ –º–Ω–æ–≥–æ–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è: –º—ã –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ–º –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ —Å—Ç—Ä–æ–∫–∏, –∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

```js
// renderer.js
const render = (state, payload) => {
	switch (state) {
		case states.INITIAL:
			return `<div>...</div>`;

		case states.LOADING:
			return `<div>...</div>`;

		case states.FAILURE:
			return `<div>...</div>`;

		case states.SUCCESS:
			return `<div>...</div>`;

		default:
			return '';
	}
};
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –±—É–¥–µ–º —Ç–∞–∫:

```js
// index.js
const renderApp = (state, data) => {
	const html = render(state, data);
	document.getElementById('root').innerHTML = html;
};

renderApp(states.INITIAL);
```

–î–∞-–¥–∞, `innerHTML` –ª—É—á—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª—É—á—à–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å. –ù–æ –∫–∞–º–æ–Ω, —ç—Ç–æ—Ç –ø–æ—Å—Ç –Ω–µ –æ–± —ç—Ç–æ–º üôÉ

## –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–¢–æ—Ç –∂–µ —Ä–µ–Ω–¥–µ—Ä –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –∫–æ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–ß—Ç–æ–±—ã –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–∞–∫-—Ç–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –°–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ `subscribe` –∏ —á—É—Ç—å –æ–±–Ω–æ–≤–∏–º `updateState`:

```js
// fsm/machine.js
subscribe(event, callback) {
  if (event === 'update') this._onUpdate = callback || null
}

_updateState(newState, data=null) {
  this.state = newState
  this.data = data

  this._onUpdate
    && this._onUpdate(newState, data)
}
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∞–≤—Ç–æ–º–∞—Ç–∞, –∏ –≤ `subscribe` –ø–µ—Ä–µ–¥–∞–¥–∏–º —Å–æ–±—ã—Ç–∏–µ `update`, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –∏ –∫–æ–ª–±–µ–∫:

```js
// index.js
const fsm = new StateMachine({
	states,
	transitions,
	initial: states.INITIAL
});

fsm.subscribe('update', (state, data) => renderApp(state, data));
```

–ò –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ–≤–µ—Å–∏—Ç—å –≤—ã–∑–æ–≤—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–∞ —Å–æ–±—ã—Ç–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä ‚Äî –∫–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º. –í—ã–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –±—É–¥–µ–º –º–µ—Ç–æ–¥–æ–º `performTransition`:

```js
// index.js
fsm.performTransition('fetch');
```

## –ö–Ω–æ–ø–∫–∞ ¬´–∑–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë¬ª

–Ø —Å–¥–µ–ª–∞–ª –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: –æ–¥–∏–Ω –ø–µ—Ä–µ—Ç–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–≤—Ç–æ–º–∞—Ç–∞, –≤—Ç–æ—Ä–æ–π ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∫ —Å—Ç–∞—Ä—ã–º. –†–∞–±–æ—Ç–∞—é—Ç –æ–Ω–∏ —á–µ—Ä–µ–∑ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞: `loadMore` –∏ `reload` –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è `states.SUCCESS`.

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —ç—Ç–æ —É–∂–µ –Ω–µ –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è, –Ω–æ [—Å—Å—ã–ª–∫—É –Ω–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏](https://github.com/bespoyasov/fsm-example) —è –æ—Å—Ç–∞–≤–ª—é, –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø–æ—á–∏—Ç–∞–π—Ç–µ üôÉ

## –ù–æ –∑–∞—á–µ–º –ø–∏—Å–∞—Ç—å —Å –Ω—É–ª—è

–ö–æ–Ω–µ—á–Ω–æ, –ø–∏—Å–∞—Ç—å —Å –Ω—É–ª—è —ç—Ç–æ –Ω–µ –Ω–∞–¥–æ. –ï—Å—Ç—å –∫—É—á–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∫–æ–Ω–µ—á–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç:

- [javascript-state-machine](https://github.com/jakesgordon/javascript-state-machine)
- [xstate](https://github.com/davidkpiano/xstate)
- [stately.js](https://github.com/fschaefer/Stately.js)
- [react-automata](https://github.com/MicheleBertoli/react-automata)

–ù–æ –µ—Å–ª–∏ –≤ —á—ë–º-—Ç–æ —Ö–æ—á–µ—Ç—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–æ —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å –Ω—É–ª—è. –ü—Ä–æ—Å—Ç–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–ø–µ—Ä–µ—Ç—å—Å—è –≤ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ—à–∞–µ—Ç, –∏ –Ω–∞—á–∞—Ç—å –ø–æ–Ω–∏–º–∞—Ç—å, –∑–∞—á–µ–º –µ—ë –≤–æ–æ–±—â–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ —á–µ–º –æ–Ω–∞ –ø–æ–º–æ–∂–µ—Ç.

## –°—Å—ã–ª–∫–∏ –ø–æ —Ç–µ–º–µ

–í —ç—Ç–æ—Ç —Ä–∞–∑ —Å—Å—ã–ª–æ–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–Ω–æ–≥–æ.

### –°—Ç–∞—Ç—å–∏ –æ –∫–æ–Ω–µ—á–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∞—Ö

- [–û—Ç –†–µ–¥–∞–∫—Å–∞ –∫ –∞–≤—Ç–æ–º–∞—Ç–∞–º](http://krasimirtsonev.com/blog/article/getting-from-redux-to-state-machine-with-stent)
- [–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–ª–∞–≤–∞—é—â–µ–π –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏](https://medium.com/@vursen/state-machine-for-sticky-blocks-70ca0bf4ee97)
- [–ö—Ä–µ–ø–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω–µ—á–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–æ–≤](https://css-tricks.com/robust-react-user-interfaces-with-finite-state-machines)
- [–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –Ω–∞ –í–∏–∫–∏–ø–µ–¥–∏–∏](https://ru.wikipedia.org/wiki/–ö–æ–Ω–µ—á–Ω—ã–π_–∞–≤—Ç–æ–º–∞—Ç)
- [–¢–µ–æ—Ä–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è](https://tproger.ru/translations/finite-state-machines-theory-and-implementation/)
- [–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –Ω–∞ –î–∂–∞–≤–∞—Å–∫—Ä–∏–ø—Ç–µ](https://www.ibm.com/developerworks/ru/library/wa-finitemach1/index.html)

### –û –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞—Ö

- [–ù–∞ learn.javascript.ru](https://learn.javascript.ru/generator)
- [–ù–∞ developer.mozilla.org](https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Iterators_and_Generators)
- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –Ω–∞ —é—Ç—É–±–µ](https://www.youtube.com/watch?v=wrI-Jb0oFyk)

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

- [javascript-state-machine](https://github.com/jakesgordon/javascript-state-machine)
- [xstate](https://github.com/davidkpiano/xstate)
- [stately.js](https://github.com/fschaefer/Stately.js)
- [react-automata](https://github.com/MicheleBertoli/react-automata)

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∫ —Å—Ç–∞—Ç—å–µ

- [–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã](https://bespoyasov.ru/showcase/fsm/)
- [–°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏](https://github.com/bespoyasov/fsm-example)
